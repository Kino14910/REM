var app=function(){"use strict";function t(){}const e=t=>t;function n(t,e){for(const n in e)t[n]=e[n];return t}function o(t){return t()}function s(){return Object.create(null)}function r(t){t.forEach(o)}function l(t){return"function"==typeof t}function i(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}let a;function c(t,e){return a||(a=document.createElement("a")),a.href=e,t===a.href}function u(t,e,n,o){if(t){const s=d(t,e,n,o);return t[0](s)}}function d(t,e,o,s){return t[1]&&s?n(o.ctx.slice(),t[1](s(e))):o.ctx}function f(t,e,n,o){if(t[2]&&o){const s=t[2](o(n));if(void 0===e.dirty)return s;if("object"==typeof s){const t=[],n=Math.max(e.dirty.length,s.length);for(let o=0;o<n;o+=1)t[o]=e.dirty[o]|s[o];return t}return e.dirty|s}return e.dirty}function p(t,e,n,o,s,r){if(s){const l=d(e,n,o,r);t.p(l,s)}}function m(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let t=0;t<n;t++)e[t]=-1;return e}return-1}function h(t){const e={};for(const n in t)"$"!==n[0]&&(e[n]=t[n]);return e}function g(t){return null==t?"":t}function $(e){return e&&l(e.destroy)?e.destroy:t}const v="undefined"!=typeof window;let y=v?()=>window.performance.now():()=>Date.now(),w=v?t=>requestAnimationFrame(t):t;const x=new Set;function b(t){x.forEach((e=>{e.c(t)||(x.delete(e),e.f())})),0!==x.size&&w(b)}function k(t){let e;return 0===x.size&&w(b),{promise:new Promise((n=>{x.add(e={c:t,f:n})})),abort(){x.delete(e)}}}function C(t,e){t.appendChild(e)}function _(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function A(t){const e=P("style");return function(t,e){C(t.head||t,e)}(_(t),e),e.sheet}function L(t,e,n){t.insertBefore(e,n||null)}function U(t){t.parentNode.removeChild(t)}function S(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function P(t){return document.createElement(t)}function E(t){return document.createTextNode(t)}function D(){return E(" ")}function N(){return E("")}function j(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function T(t){return function(e){return e.stopPropagation(),t.call(this,e)}}function z(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function H(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function O(t,e){t.value=null==e?"":e}function B(t,e,n,o){null===n?t.style.removeProperty(e):t.style.setProperty(e,n,o?"important":"")}function R(t,e,{bubbles:n=!1,cancelable:o=!1}={}){const s=document.createEvent("CustomEvent");return s.initCustomEvent(t,n,o,e),s}const M=new Map;let I,W=0;function q(t,e,n,o,s,r,l,i=0){const a=16.666/o;let c="{\n";for(let t=0;t<=1;t+=a){const o=e+(n-e)*r(t);c+=100*t+`%{${l(o,1-o)}}\n`}const u=c+`100% {${l(n,1-n)}}\n}`,d=`__svelte_${function(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}(u)}_${i}`,f=_(t),{stylesheet:p,rules:m}=M.get(f)||function(t,e){const n={stylesheet:A(e),rules:{}};return M.set(t,n),n}(f,t);m[d]||(m[d]=!0,p.insertRule(`@keyframes ${d} ${u}`,p.cssRules.length));const h=t.style.animation||"";return t.style.animation=`${h?`${h}, `:""}${d} ${o}ms linear ${s}ms 1 both`,W+=1,d}function F(t,e){const n=(t.style.animation||"").split(", "),o=n.filter(e?t=>t.indexOf(e)<0:t=>-1===t.indexOf("__svelte")),s=n.length-o.length;s&&(t.style.animation=o.join(", "),W-=s,W||w((()=>{W||(M.forEach((t=>{const{stylesheet:e}=t;let n=e.cssRules.length;for(;n--;)e.deleteRule(n);t.rules={}})),M.clear())})))}function Y(t){I=t}function V(){if(!I)throw new Error("Function called outside component initialization");return I}function X(t){V().$$.on_mount.push(t)}function J(){const t=V();return(e,n,{cancelable:o=!1}={})=>{const s=t.$$.callbacks[e];if(s){const r=R(e,n,{cancelable:o});return s.slice().forEach((e=>{e.call(t,r)})),!r.defaultPrevented}return!0}}function K(t){return V().$$.context.get(t)}function Q(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach((t=>t.call(this,e)))}const G=[],Z=[],tt=[],et=[],nt=Promise.resolve();let ot=!1;function st(t){tt.push(t)}function rt(t){et.push(t)}const lt=new Set;let it,at=0;function ct(){const t=I;do{for(;at<G.length;){const t=G[at];at++,Y(t),ut(t.$$)}for(Y(null),G.length=0,at=0;Z.length;)Z.pop()();for(let t=0;t<tt.length;t+=1){const e=tt[t];lt.has(e)||(lt.add(e),e())}tt.length=0}while(G.length);for(;et.length;)et.pop()();ot=!1,lt.clear(),Y(t)}function ut(t){if(null!==t.fragment){t.update(),r(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(st)}}function dt(){return it||(it=Promise.resolve(),it.then((()=>{it=null}))),it}function ft(t,e,n){t.dispatchEvent(R(`${e?"intro":"outro"}${n}`))}const pt=new Set;let mt;function ht(){mt={r:0,c:[],p:mt}}function gt(){mt.r||r(mt.c),mt=mt.p}function $t(t,e){t&&t.i&&(pt.delete(t),t.i(e))}function vt(t,e,n,o){if(t&&t.o){if(pt.has(t))return;pt.add(t),mt.c.push((()=>{pt.delete(t),o&&(n&&t.d(1),o())})),t.o(e)}}const yt={duration:0};function wt(n,o,s){let i,a=o(n,s),c=!0;const u=mt;function d(){const{delay:o=0,duration:s=300,easing:l=e,tick:d=t,css:f}=a||yt;f&&(i=q(n,1,0,s,o,l,f));const p=y()+o,m=p+s;st((()=>ft(n,!1,"start"))),k((t=>{if(c){if(t>=m)return d(0,1),ft(n,!1,"end"),--u.r||r(u.c),!1;if(t>=p){const e=l((t-p)/s);d(1-e,e)}}return c}))}return u.r+=1,l(a)?dt().then((()=>{a=a(),d()})):d(),{end(t){t&&a.tick&&a.tick(1,0),c&&(i&&F(n,i),c=!1)}}}function xt(t,e){const n={},o={},s={$$scope:1};let r=t.length;for(;r--;){const l=t[r],i=e[r];if(i){for(const t in l)t in i||(o[t]=1);for(const t in i)s[t]||(n[t]=i[t],s[t]=1);t[r]=i}else for(const t in l)s[t]=1}for(const t in o)t in n||(n[t]=void 0);return n}function bt(t){return"object"==typeof t&&null!==t?t:{}}function kt(t,e,n){const o=t.$$.props[e];void 0!==o&&(t.$$.bound[o]=n,n(t.$$.ctx[o]))}function Ct(t){t&&t.c()}function _t(t,e,n,s){const{fragment:i,on_mount:a,on_destroy:c,after_update:u}=t.$$;i&&i.m(e,n),s||st((()=>{const e=a.map(o).filter(l);c?c.push(...e):r(e),t.$$.on_mount=[]})),u.forEach(st)}function At(t,e){const n=t.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Lt(t,e){-1===t.$$.dirty[0]&&(G.push(t),ot||(ot=!0,nt.then(ct)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function Ut(e,n,o,l,i,a,c,u=[-1]){const d=I;Y(e);const f=e.$$={fragment:null,ctx:null,props:a,update:t,not_equal:i,bound:s(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(n.context||(d?d.$$.context:[])),callbacks:s(),dirty:u,skip_bound:!1,root:n.target||d.$$.root};c&&c(f.root);let p=!1;if(f.ctx=o?o(e,n.props||{},((t,n,...o)=>{const s=o.length?o[0]:n;return f.ctx&&i(f.ctx[t],f.ctx[t]=s)&&(!f.skip_bound&&f.bound[t]&&f.bound[t](s),p&&Lt(e,t)),n})):[],f.update(),p=!0,r(f.before_update),f.fragment=!!l&&l(f.ctx),n.target){if(n.hydrate){const t=function(t){return Array.from(t.childNodes)}(n.target);f.fragment&&f.fragment.l(t),t.forEach(U)}else f.fragment&&f.fragment.c();n.intro&&$t(e.$$.fragment),_t(e,n.target,n.anchor,n.customElement),ct()}Y(d)}class St{$destroy(){At(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function Pt(t,e,n){const o=t.slice();return o[8]=e[n],o[10]=n,o}function Et(t){let e,n,o,s,r=t[8]+"";function l(){return t[6](t[10])}return{c(){e=P("div"),n=E(r),z(e,"class","tab tab-text svelte-1db85j0")},m(t,r){L(t,e,r),C(e,n),o||(s=j(e,"click",l),o=!0)},p(e,o){t=e,1&o&&r!==(r=t[8]+"")&&H(n,r)},d(t){t&&U(e),o=!1,s()}}}function Dt(t){let e;function n(t,e){return"我的"===t[8]||"发现"===t[8]?jt:Nt}let o=n(t),s=o(t);return{c(){s.c(),e=N()},m(t,n){s.m(t,n),L(t,e,n)},p(t,r){o===(o=n(t))&&s?s.p(t,r):(s.d(1),s=o(t),s&&(s.c(),s.m(e.parentNode,e)))},d(t){s.d(t),t&&U(e)}}}function Nt(t){let e,n,o,s,l,i,a,c,u=t[8]+"";function d(){return t[5](t[10])}return{c(){e=P("div"),n=P("span"),o=E(u),s=D(),l=P("div"),l.textContent="⨯",i=D(),z(n,"class","tab-text svelte-1db85j0"),z(l,"class","column cross svelte-1db85j0"),z(e,"class","tab selected column svelte-1db85j0"),B(e,"padding-right","2px")},m(r,u){L(r,e,u),C(e,n),C(n,o),C(e,s),C(e,l),C(e,i),a||(c=[j(l,"click",t[3]),j(e,"click",d)],a=!0)},p(e,n){t=e,1&n&&u!==(u=t[8]+"")&&H(o,u)},d(t){t&&U(e),a=!1,r(c)}}}function jt(t){let e,n,o,s,r=t[8]+"";function l(){return t[4](t[10])}return{c(){e=P("div"),n=E(r),z(e,"class","tab selected tab-text svelte-1db85j0")},m(t,r){L(t,e,r),C(e,n),o||(s=j(e,"click",l),o=!0)},p(e,o){t=e,1&o&&r!==(r=t[8]+"")&&H(n,r)},d(t){t&&U(e),o=!1,s()}}}function Tt(t){let e;function n(t,e){return t[10]===t[1]?Dt:Et}let o=n(t),s=o(t);return{c(){s.c(),e=N()},m(t,n){s.m(t,n),L(t,e,n)},p(t,r){o===(o=n(t))&&s?s.p(t,r):(s.d(1),s=o(t),s&&(s.c(),s.m(e.parentNode,e)))},d(t){s.d(t),t&&U(e)}}}function zt(e){let n,o=e[0],s=[];for(let t=0;t<o.length;t+=1)s[t]=Tt(Pt(e,o,t));return{c(){n=P("div");for(let t=0;t<s.length;t+=1)s[t].c();z(n,"class","column c svelte-1db85j0")},m(t,o){L(t,n,o);for(let t=0;t<s.length;t+=1)s[t].m(n,null);e[7](n)},p(t,[e]){if(11&e){let r;for(o=t[0],r=0;r<o.length;r+=1){const l=Pt(t,o,r);s[r]?s[r].p(l,e):(s[r]=Tt(l),s[r].c(),s[r].m(n,null))}for(;r<s.length;r+=1)s[r].d(1);s.length=o.length}},i:t,o:t,d(t){t&&U(n),S(s,t),e[7](null)}}}function Ht(t){Pager.select(t)}function Ot(t,e,n){let o,{tabs:s=["我的","发现"]}=e,{selected:r=0}=e;appHooks.on("__pageFold",(()=>{n(2,o.style.cssText="border-bottom: solid 1px rgba(0,0,0,0.2);",o)})),appHooks.on("__pageUnfold",(()=>{n(2,o.style.cssText="",o)}));return t.$$set=t=>{"tabs"in t&&n(0,s=t.tabs),"selected"in t&&n(1,r=t.selected)},[s,r,o,function(){Pager.remove(r)},t=>Ht(t),t=>Ht(t),t=>Ht(t),function(t){Z[t?"unshift":"push"]((()=>{o=t,n(2,o)}))}]}class Bt extends St{constructor(t){super(),Ut(this,t,Ot,zt,i,{tabs:0,selected:1})}}function Rt(t){let e,n,o,s;return{c(){e=P("span"),n=E(t[2]),z(e,"class",o="avatar iconfont size-"+(t[3]?t[3]:"normal")+" svelte-m9oihy"),z(e,"style",s="border-radius: "+t[6]+";"+t[8])},m(t,o){L(t,e,o),C(e,n)},p(t,r){4&r&&H(n,t[2]),8&r&&o!==(o="avatar iconfont size-"+(t[3]?t[3]:"normal")+" svelte-m9oihy")&&z(e,"class",o),320&r&&s!==(s="border-radius: "+t[6]+";"+t[8])&&z(e,"style",s)},d(t){t&&U(e)}}}function Mt(t){let e,n,o,s,r,l;return{c(){e=P("img"),c(e.src,n=t[2])||z(e,"src",n),z(e,"class","avatar svelte-m9oihy"),z(e,"alt",o="avatar size-"+(t[3]?t[3]:"normal")),z(e,"draggable","false"),z(e,"width",t[4]),z(e,"height",t[5]),z(e,"style",s="border-radius: "+t[6]+";"+t[8])},m(n,o){L(n,e,o),t[11](e),r||(l=j(e,"load",t[10]),r=!0)},p(t,r){4&r&&!c(e.src,n=t[2])&&z(e,"src",n),8&r&&o!==(o="avatar size-"+(t[3]?t[3]:"normal"))&&z(e,"alt",o),16&r&&z(e,"width",t[4]),32&r&&z(e,"height",t[5]),320&r&&s!==(s="border-radius: "+t[6]+";"+t[8])&&z(e,"style",s)},d(n){n&&U(e),t[11](null),r=!1,l()}}}function It(e){let n,o,s,r,l;function i(t,e){return t[1]?Mt:Rt}let a=i(e),c=a(e);return{c(){n=P("div"),c.c(),z(n,"class",o="column"+(e[7]?" clkable":"")+" svelte-m9oihy"),z(n,"style",s="width: fit-content; heigth: fit-content;"+e[8])},m(t,o){L(t,n,o),c.m(n,null),r||(l=j(n,"click",e[9]),r=!0)},p(t,[e]){a===(a=i(t))&&c?c.p(t,e):(c.d(1),c=a(t),c&&(c.c(),c.m(n,null))),128&e&&o!==(o="column"+(t[7]?" clkable":"")+" svelte-m9oihy")&&z(n,"class",o),256&e&&s!==(s="width: fit-content; heigth: fit-content;"+t[8])&&z(n,"style",s)},i:t,o:t,d(t){t&&U(n),c.d(),r=!1,l()}}}function Wt(t,e,n){const o=J();let{isUrl:s=!0}=e,{avatar:r=""}=e,{size:l=""}=e,{width:i}=e,{height:a}=e,{radius:c="50%"}=e,{clickable:u=!0}=e,{ctx:d=this}=e,{cssText:f=""}=e;return t.$$set=t=>{"isUrl"in t&&n(1,s=t.isUrl),"avatar"in t&&n(2,r=t.avatar),"size"in t&&n(3,l=t.size),"width"in t&&n(4,i=t.width),"height"in t&&n(5,a=t.height),"radius"in t&&n(6,c=t.radius),"clickable"in t&&n(7,u=t.clickable),"ctx"in t&&n(0,d=t.ctx),"cssText"in t&&n(8,f=t.cssText)},[d,s,r,l,i,a,c,u,f,function(t){o("click",t)},function(){o("loaded")},function(t){Z[t?"unshift":"push"]((()=>{d=t,n(0,d)}))}]}class qt extends St{constructor(t){super(),Ut(this,t,Wt,It,i,{isUrl:1,avatar:2,size:3,width:4,height:5,radius:6,clickable:7,ctx:0,cssText:8})}}class Ft{constructor(t){this.data=t}urls={};async getPlayUrlAsync(t="high"){let e;try{e="low"===t?this.data.l.br:"medium"===t?this.data.m.br:this.data.h.br}catch(n){switch(t){case"low":if(e=!!this.data.h&&this.data.h.br,e)break;case"high":if(e=!!this.data.m&&this.data.m.br,e)break;case"medium":if(e=!!this.data.l&&this.data.l.br,e)break}}return(this.urls[t]=await NeteaseApi.getSongUrl(this.data.id,store.get("cookie"),e)).body.data[0].url}async url(t="high"){return this.urls[t]?this.urls[t]:this.getPlayUrlAsync(t)}title(){return this.data.name}album(){return this.data.al}artist(){return this.data.ar}}function Yt(e){let n,o,s,l;return{c(){n=P("input"),z(n,"type","range"),z(n,"style",o=e[1]+";--progress: "+e[0]+"%"),z(n,"step","0.001"),z(n,"class","svelte-1k44m6r")},m(t,o){L(t,n,o),O(n,e[0]),e[6](n),s||(l=[j(n,"change",e[5]),j(n,"input",e[5]),j(n,"mousedown",e[3]),j(n,"mousemove",e[4])],s=!0)},p(t,[e]){3&e&&o!==(o=t[1]+";--progress: "+t[0]+"%")&&z(n,"style",o),1&e&&O(n,t[0])},i:t,o:t,d(t){t&&U(n),e[6](null),s=!1,r(l)}}}function Vt(t,e,n){let o,{value:s}=e,{cssStyle:r=""}=e,l=J(),i=!1;return document.addEventListener("mouseup",(()=>{i&&(i=!1,l("mouseup",o.value))})),t.$$set=t=>{"value"in t&&n(0,s=t.value),"cssStyle"in t&&n(1,r=t.cssStyle)},[s,r,o,function(t){i=!0;let e=t.offsetX/o.offsetWidth*100;n(2,o.value=e,o),l("mousedown",e)},function(){i&&l("mousemove",o.value)},function(){s=function(t){return""===t?null:+t}(this.value),n(0,s)},function(t){Z[t?"unshift":"push"]((()=>{o=t,n(2,o)}))}]}class Xt extends St{constructor(t){super(),Ut(this,t,Vt,Yt,i,{value:0,cssStyle:1})}}const Jt=Symbol("[[Observers]]");class Kt{[Jt]=new Set;addObserver(t){("function"==typeof t||"object"==typeof t&&t&&"function"==typeof t.update)&&this[Jt].add(t)}removeObserver(t){if(!t)return this.removeAllObservers();this[Jt].delete(t)}removeAllObservers(){this[Jt]=new Set}notifyObservers(...t){for(const e of this[Jt])"function"==typeof e?e.call(this,...t):e.update(this,...t)}}const Qt=new class extends Kt{_metadata={};constructor(t={}){super(),this.setMetadata(t)}setMetadata(t={}){this._metadata.title=t.title||this._metadata.title,this._metadata.album=t.album||this._metadata.album,this._metadata.artist=t.artist||this._metadata.artist,this._metadata.artwork=t.artwork||this._metadata.artwork}getMetadataConfig(){return this._metadata}title(t){return void 0!==t?(this._metadata.title=t,this):this._metadata.title}album(t){return void 0===t?this._metadata.album:(this._metadata.album=t,this)}artist(t){return void 0===t?this._metadata.artist:(this._metadata.artist=t,this)}artwork(t,e){return void 0===t?this._metadata.artwork||[]:(this._metadata.artwork||(this._metadata.artwork=[]),void 0===e?this._metadata.artwork[t]:(this._metadata.artwork[t]=e,this))}setArtwork(t){return this._metadata.artwork=t,this}apply(){navigator.mediaSession.metadata=new MediaMetadata(this._metadata)}},Gt=Symbol();function Zt(t,e,n){function o(...s){e.apply(n.thisArg,s),n.off(t,o)}return o[Gt]=e,o}class te{static captureRejections=!0;static defaultMaxListeners=-1;static thisArg=void 0;events={};maxListeners=te.defaultMaxListeners;setMaxListeners(t){return this.maxListeners=t,this}getMaxListeners(){return this.maxListeners}addListener(t,e){if(!e||"function"!=typeof e)throw TypeError('arg1 is not type of  "function", received: '+typeof e);if(this.events[t]){const n=this.events[t],o=this.maxListeners;if(~o&&n.length===this.maxListeners)throw RangeError(`Out of range. max: ${o}`);n.push(e)}else this.events[t]=[e];return this}removeListener(t,e){if("function"!=typeof e)return this.removeAllListeners(t);let n=this.events[t];if(n){n=[...n];const o=n.length;let s=[];for(let t=0;t<o;t++)n[t]!==e&&n[t].toString()!==e.toString()&&s.push(n[t]);return this.events[t]=s,this}}removeAllListeners(t){return delete this.events[t],this.events[t]=null,this}emit(t,...e){let n=this.events[t],o=!1;if(n){n=[...n];const t=n.length;try{for(let o=0;o<t;o++)n[o].apply(this.thisArg,e);o=!0}catch(t){this.captureRejections&&this.emit("error",t)}return o}return!1}once(t,e){return this.addListener(t,Zt(t,e,this)),this}listeners(t){return[...this.events[t]]}rawListeners(t){let e=this.events[t];return e?e.reduce(((t,e)=>[...t,e[Gt]||e]),[]):[]}listenerCount(t){return this.events[t]?this.events[t].length:0}prependListener(t,e){if(!e||"function"!=typeof e)throw TypeError('arg1 is not type of  "function", received: '+typeof e);if(this.events[t]){const n=this.events[t],o=this.maxListeners;if(~o&&n.length===this.maxListeners)throw RangeError(`Out of range. max: ${o}`);n.unshift(e)}else this.events[t]=[e];return this}prependOnceListener(t,e){return this.prependListener(Zt(t,e,this)),this}thisArg=te.thisArg;captureRejections=!0;constructor(t){this.on=this.addListener,this.off=this.removeListener,this.offAll=this.removeAllListeners,t&&(this.thisArg=t.thisArg||te.thisArg,this.captureRejections=t.captureRejections||te.captureRejections)}}class ee{static audioElement=document.createElement("audio");static em=new te;static on(t,e){this.em.on(t,e)}on(t,e){ee.on(t,e)}static play(){return this.em.emit("play"),this.audioElement.play()}play(){return ee.play()}static pause(){this.audioElement.pause(),this.em.emit("pause")}pause(){ee.pause()}static seek(t){if("number"!=typeof t)return this.audioElement.currentTime;this.audioElement.currentTime=t,this.em.emit("seek")}seek(t){return ee.seek(t)}static load(t){return t&&(this.audioElement.src=t),this.audioElement.src}load(t){return ee.load(t)}async loadData(t){this.audioData=t,this.load(await t.url()),this.onDataLoaded()}onDataLoaded(){}static volume(t){if(!t)return this.audioElement.volume;this.audioElement.volume=t}volume(t){return ee.volume(t)}static duration(){return this.audioElement.duration}duration(){return ee.duration()}}ee.audioElement.addEventListener("ended",(()=>{ee.em.emit("ended")}));const ne=new ee;window.Player=ne,navigator.mediaSession.setActionHandler("play",(()=>ne.play())),navigator.mediaSession.setActionHandler("pause",(()=>ne.pause()));class oe{static listData=[];static getAudioData(t){return new Ft(this.listData[t])}static current=0;static mode=0;static MODE=0;static MODE_SINGLE_LOOP=1;static MODE_RANDOM=2;static loadList(t){this.listData=t.concat([]),this.current=0}static next(){let t=this.current,e=this.listData.length;switch(this.mode){case 0:t=t===e-1?0:t+1;break;case 2:t=~~(Math.random()*e-1)}return this.current=t,this.getAudioData(t)}static prev(){let t=this.current,e=this.listData.length;switch(this.mode){case 0:t=t?t-1:e;break;case 2:t=~~(Math.random()*e-1)}return this.current=t,this.getAudioData(t)}static playNext(){const t=oe.next();t&&this.playByAudioData(t)}static playPrev(){const t=oe.prev();t&&this.playByAudioData(t)}static play(t){this.current=t;const e=this.getAudioData(t);this.playByAudioData(e)}static playByAudioData(t){ne.loadData(t).then((async()=>{await ne.play(),appHooks.emit("loadedContent")})),appHooks.emit("setControlsContent",t)}}function se(t){let e,n,o,s,l,i,a,c,u,d,f,p,m,h,g,$,v,y,w,x,b,k,_,A,S,N,T,O,R,M,I,W,q,F,Y,V,X,J,K,Q,G,tt,et,nt=(t[0].title||"暂未播放歌曲")+"",ot=t[0].artist+"",st=t[1]?"":"";function lt(e){t[20](e)}let it={isUrl:!!t[0].album,avatar:t[0].artwork?t[0].artwork[0].src:"R",width:56,height:56,radius:"10%"};function at(e){t[24](e)}void 0!==t[2]&&(it.ctx=t[2]),o=new qt({props:it}),Z.push((()=>kt(o,"ctx",lt))),o.$on("loaded",t[10]);let ct={cssStyle:"width: 200px"};function ut(e){t[26](e)}void 0!==t[4]&&(ct.value=t[4]),q=new Xt({props:ct}),Z.push((()=>kt(q,"value",at))),q.$on("mousedown",t[17]),q.$on("mousemove",t[19]),q.$on("mouseup",t[18]);let dt={};return void 0!==t[7]&&(dt.value=t[7]),K=new Xt({props:dt}),Z.push((()=>kt(K,"value",ut))),K.$on("mousedown",t[15]),K.$on("mousemove",t[15]),K.$on("mouseup",t[16]),{c(){e=P("div"),n=P("div"),Ct(o.$$.fragment),l=D(),i=P("div"),a=P("div"),c=E(nt),u=D(),d=P("div"),f=E(ot),p=D(),m=P("div"),h=P("div"),g=P("div"),$=E(""),y=D(),w=P("div"),w.textContent="",x=D(),b=P("div"),k=E(st),_=D(),A=P("div"),A.textContent="",S=D(),N=P("div"),T=E(""),R=D(),M=P("div"),I=P("span"),I.textContent="0:00",W=D(),Ct(q.$$.fragment),Y=D(),V=P("span"),V.textContent="0:00",X=D(),J=P("div"),Ct(K.$$.fragment),z(a,"class","title svelte-38n97o"),z(d,"class","subtitle svelte-38n97o"),z(i,"class","row txt svelte-38n97o"),z(n,"class","column header edge svelte-38n97o"),z(g,"class",v="btn big btn-nb"+(t[6]?" active":"")+" svelte-38n97o"),z(w,"class","btn big btn-nb svelte-38n97o"),z(b,"class","btn big btn-big svelte-38n97o"),z(A,"class","btn big btn-nb svelte-38n97o"),z(N,"class",O="btn big btn-nb"+(t[5]?" active":"")+" svelte-38n97o"),z(h,"class","column"),B(h,"margin","4px 0px"),z(I,"class","time svelte-38n97o"),z(V,"class","time svelte-38n97o"),z(M,"class","column"),B(M,"width","100%"),z(m,"class","row center svelte-38n97o"),z(J,"class","column edge svelte-38n97o"),B(J,"flex-direction","row-reverse"),z(e,"class","column c svelte-38n97o")},m(s,r){L(s,e,r),C(e,n),_t(o,n,null),C(n,l),C(n,i),C(i,a),C(a,c),C(i,u),C(i,d),C(d,f),C(e,p),C(e,m),C(m,h),C(h,g),C(g,$),C(h,y),C(h,w),C(h,x),C(h,b),C(b,k),C(h,_),C(h,A),C(h,S),C(h,N),C(N,T),C(m,R),C(m,M),C(M,I),t[23](I),C(M,W),_t(q,M,null),C(M,Y),C(M,V),t[25](V),C(e,X),C(e,J),_t(K,J,null),t[27](e),G=!0,tt||(et=[j(g,"click",t[21]),j(w,"click",t[12]),j(b,"click",t[11]),j(A,"click",t[13]),j(N,"click",t[22])],tt=!0)},p(t,e){const n={};1&e[0]&&(n.isUrl=!!t[0].album),1&e[0]&&(n.avatar=t[0].artwork?t[0].artwork[0].src:"R"),!s&&4&e[0]&&(s=!0,n.ctx=t[2],rt((()=>s=!1))),o.$set(n),(!G||1&e[0])&&nt!==(nt=(t[0].title||"暂未播放歌曲")+"")&&H(c,nt),(!G||1&e[0])&&ot!==(ot=t[0].artist+"")&&H(f,ot),(!G||64&e[0]&&v!==(v="btn big btn-nb"+(t[6]?" active":"")+" svelte-38n97o"))&&z(g,"class",v),(!G||2&e[0])&&st!==(st=t[1]?"":"")&&H(k,st),(!G||32&e[0]&&O!==(O="btn big btn-nb"+(t[5]?" active":"")+" svelte-38n97o"))&&z(N,"class",O);const r={};!F&&16&e[0]&&(F=!0,r.value=t[4],rt((()=>F=!1))),q.$set(r);const l={};!Q&&128&e[0]&&(Q=!0,l.value=t[7],rt((()=>Q=!1))),K.$set(l)},i(t){G||($t(o.$$.fragment,t),$t(q.$$.fragment,t),$t(K.$$.fragment,t),G=!0)},o(t){vt(o.$$.fragment,t),vt(q.$$.fragment,t),vt(K.$$.fragment,t),G=!1},d(n){n&&U(e),At(o),t[23](null),At(q),t[25](null),At(K),t[27](null),tt=!1,r(et)}}}function re(t){let e=~~(t%60);return e<10&&(e="0"+e),`${~~(t/60)}:${e}`}function le(t,e,n){let o,s,r,l={},i=!1,a=1;async function c(t){Qt.title(t.title()),Qt.album(t.album().name),Qt.artist(t.artist().reduce(((t,e)=>[...t,e.name]),[]).join(" · ")),Qt.artwork(0,{src:t.album().picUrl}),Qt.notifyObservers(Qt.getMetadataConfig()),store.set("loadedContent",t.data)}Qt.addObserver((function(t){this.apply(),n(0,l=t)})),window.__getColorInfo=function(t,e,n,o){let s=4*(e*(o-1)+n);return(t=t.data).slice(s,s+4)},window.__setColor=function(t,e,n=.7){if(!e)return;let o=CanvasCtx;const s=e.width,r=e.height;Canvas.width=s,Canvas.height=r,o.drawImage(e,0,0);const l=o.getImageData(0,0,s,r),i=s/2,a=r/2,c=s/4,u=i+c,d=r/4,f=a+d;let p=__getColorInfo(l,s,c,d),m=__getColorInfo(l,s,u,d),h=__getColorInfo(l,s,i,a),g=__getColorInfo(l,s,c,f),$=__getColorInfo(l,s,u,f),v=[];for(let t=0;t<4;t++){let e=(p[t]+m[t]+h[t]+g[t]+$[t])/5,n=7e-4*e+.5;v[t]=~~(n*e)}const y=`rgba(${v[0]},${v[1]},${v[2]}, ${n})`;return t.style.setProperty("--color",y),y};let u=0;function d(){if(ne.load())return i?ne.pause():ne.play()}appHooks.on("setControlsContent",c),appHooks.on("loadedContent",(()=>{a=ne.duration(),n(9,$.innerText=re(a),$),o&&(n(4,u=0),clearInterval(o)),o=setInterval((()=>{if(v)return;let t=ne.seek();n(4,u=t/a*100),n(8,g.innerText=re(t),g)}),500)})),appHooks.on("playerReady",(async t=>{t.on("play",(()=>{n(1,i=!0)})),t.on("pause",(()=>n(1,i=!1))),t.on("ended",(()=>oe.playNext()));let e=store.get("loadedContent");e&&(e=new Ft(e),c(e),ne.loadData(e))})),window.addEventListener("keypress",(t=>{" "===t.key&&d()}));let f,p=!1,m=!1;function h(){return p?oe.mode=1:m?oe.mode=2:void(oe.mode=0)}(f=store.get("volume")||50)&&appHooks.once("playerReady",(()=>{ne.volume(f/100)}));var g,$,v=!1;new Array(5);return[l,i,s,r,u,p,m,f,g,$,function(){__setColor(r,s)},d,function(){oe.playPrev()},function(){oe.playNext()},h,function(t){ne.volume(t.detail/100)},function(){store.set("volume",f)},function(){v=!0},function(t){v=!1;try{ne.seek(t.detail/100*a)}catch(t){}},function(t){v&&n(8,g.innerText=re(t.detail/100*a),g)},function(t){s=t,n(2,s)},()=>{n(6,m=!m),h()},()=>{n(5,p=!p),h()},function(t){Z[t?"unshift":"push"]((()=>{n(8,g=t)}))},function(t){u=t,n(4,u)},function(t){Z[t?"unshift":"push"]((()=>{n(9,$=t)}))},function(t){f=t,n(7,f)},function(t){Z[t?"unshift":"push"]((()=>{r=t,n(3,r)}))}]}navigator.mediaSession.setActionHandler("nexttrack",(()=>oe.playNext())),navigator.mediaSession.setActionHandler("previoustrack",(()=>oe.playPrev()));class ie extends St{constructor(t){super(),Ut(this,t,le,se,i,{},null,[-1,-1])}}function ae(e){let n;return{c(){n=P("div")},m(t,e){L(t,n,e)},p:t,i:t,o:t,d(t){t&&U(n)}}}class ce extends St{constructor(t){super(),Ut(this,t,null,ae,i,{})}}function ue(t,e,n){return new Promise(((o,s)=>{let r=t.animate(e,n);r.onfinish=()=>o(r),r.onremove=()=>s(r)}))}function de(t){let e,o,s,r;const l=[t[1]];var i=t[0];function a(t){let e={};for(let t=0;t<l.length;t+=1)e=n(e,l[t]);return{props:e}}return i&&(s=new i(a())),{c(){e=P("div"),o=P("div"),s&&Ct(s.$$.fragment),z(o,"class","innerWindow row svelte-1l495kl"),z(e,"class","container row svelte-1l495kl")},m(n,l){L(n,e,l),C(e,o),s&&_t(s,o,null),t[4](o),r=!0},p(t,[e]){const n=2&e?xt(l,[bt(t[1])]):{};if(i!==(i=t[0])){if(s){ht();const t=s;vt(t.$$.fragment,1,0,(()=>{At(t,1)})),gt()}i?(s=new i(a()),Ct(s.$$.fragment),$t(s.$$.fragment,1),_t(s,o,null)):s=null}else i&&s.$set(n)},i(t){r||(s&&$t(s.$$.fragment,t),r=!0)},o(t){s&&vt(s.$$.fragment,t),r=!1},d(n){n&&U(e),s&&At(s),t[4](null)}}}function fe(t,e,n){let o,s=ce,r={};return[s,r,o,async function(t,e){await ue(o,[{opacity:1,transform:"scale(1)"},{opacity:0,transform:"scale(1.1)"}],{duration:90,ease:"ease-in",fill:"forwards"}),function(t,e){if(s===t)return n(0,s=ce),n(1,r=e),void setTimeout((()=>{n(0,s=t)}));n(1,r=e),n(0,s=t)}(t,e),await ue(o,[{opacity:0,transform:"scale(0.9)"},{opacity:1,transform:"scale(1)"}],{duration:70,ease:"ease-out",fill:"forwards"}),appHooks.emit("pageSwipeAnimFinish")},function(t){Z[t?"unshift":"push"]((()=>{o=t,n(2,o)}))}]}class pe extends St{constructor(t){super(),Ut(this,t,fe,de,i,{display:3})}get display(){return this.$$.ctx[3]}}function me(t){let e,n;const o=t[5].default,s=u(o,t,t[4],null);return{c(){e=P("div"),s&&s.c(),z(e,"class","container svelte-1mqptgy"),z(e,"style",t[0])},m(o,r){L(o,e,r),s&&s.m(e,null),t[6](e),n=!0},p(t,[r]){s&&s.p&&(!n||16&r)&&p(s,o,t,t[4],n?f(o,t[4],r,null):m(t[4]),null),(!n||1&r)&&z(e,"style",t[0])},i(t){n||($t(s,t),n=!0)},o(t){vt(s,t),n=!1},d(n){n&&U(e),s&&s.d(n),t[6](null)}}}function he(t,e,n){let o,{$$slots:s={},$$scope:r}=e,{cssStyle:l}=e;return t.$$set=t=>{"cssStyle"in t&&n(0,l=t.cssStyle),"$$scope"in t&&n(4,r=t.$$scope)},[l,o,function(t){o.offsetHeight&&o.offsetWidth&&t({width:o.offsetWidth,height:o.offsetHeight}),new MutationObserver(((e,n)=>{n.disconnect();try{t({width:o.offsetWidth,height:o.offsetHeight})}catch(t){}})).observe(o,{childList:!0,subtree:!0,attributes:!0})},function(){o.setAttribute("__force-update__",""),o.removeAttribute("__force-update__")},r,s,function(t){Z[t?"unshift":"push"]((()=>{o=t,n(1,o)}))}]}class ge extends St{constructor(t){super(),Ut(this,t,he,me,i,{cssStyle:0,measure:2,forceUpdate:3})}get measure(){return this.$$.ctx[2]}get forceUpdate(){return this.$$.ctx[3]}}function $e(t){let e;const n=t[11].default,o=u(n,t,t[16],null);return{c(){o&&o.c()},m(t,n){o&&o.m(t,n),e=!0},p(t,s){o&&o.p&&(!e||65536&s[0])&&p(o,n,t,t[16],e?f(n,t[16],s,null):m(t[16]),null)},i(t){e||($t(o,t),e=!0)},o(t){vt(o,t),e=!1},d(t){o&&o.d(t)}}}function ve(t){let e,n,o,s,r,l,i,a,c,u;return o=new ge({props:{cssStyle:"width: 100%",$$slots:{default:[$e]},$$scope:{ctx:t}}}),t[12](o),{c(){e=P("div"),n=P("div"),Ct(o.$$.fragment),s=D(),r=P("div"),l=P("div"),z(n,"class","contaienr svelte-jl62t1"),z(l,"class","thumb svelte-jl62t1"),z(r,"class",i="bar"+(t[4]?" active":"")+(t[3]?"":" hide")+" svelte-jl62t1"),z(e,"class","c svelte-jl62t1")},m(i,d){L(i,e,d),C(e,n),_t(o,n,null),t[13](n),C(e,s),C(e,r),C(r,l),t[14](l),t[15](e),a=!0,c||(u=j(l,"mousedown",t[6]),c=!0)},p(t,e){const n={};65536&e[0]&&(n.$$scope={dirty:e,ctx:t}),o.$set(n),(!a||24&e[0]&&i!==(i="bar"+(t[4]?" active":"")+(t[3]?"":" hide")+" svelte-jl62t1"))&&z(r,"class",i)},i(t){a||($t(o.$$.fragment,t),a=!0)},o(t){vt(o.$$.fragment,t),a=!1},d(n){n&&U(e),t[12](null),At(o),t[13](null),t[14](null),t[15](null),c=!1,u()}}}function ye(t,e,n){let o,s,r,l,i,a,c,u,d,f,{$$slots:p={},$$scope:m}=e,h=!1,g=!1,$=!1,v=0,y=!0,w=null;function x(t){if(r=function(t){let e;try{e=t.offsetHeight}catch(t){e=0}return e}(o),l=t,r>=l)return v=0,L(0),n(3,h=!1);n(3,h=!0),i=(l-r)*r/l,c=r/l;try{s&&s.style.setProperty("--thumb-height",r*c+"px");const{save:t}=Pager.getContext();y&&L(v=t.pageOffsetY)}catch(t){}}function b(){y=!1}function k(t){g&&(n(4,$=!0),f=t.screenY-u,v=d+f,L(v))}function C(){n(4,$=!1),g=!1}X((()=>{a.addEventListener("mousemove",k),document.addEventListener("mouseup",C),document.addEventListener("wheel",(t=>{h&&(isNaN(v)&&(v=0),~t.path.indexOf(a)&&(v+=~~t.deltaY*c,v<0&&(v=0),v>i&&(v=i),L(v)))})),w=setTimeout((()=>{b()}),2e3)}));let _,A=!1;function L(t){try{if(isNaN(t))return;t<=0&&(A=!0,appHooks.emit("__pageUnfold"),t=0),t>i&&(t=i),A?A=!1:appHooks.emit("__pageFold"),s&&s.style.setProperty("--progress",t+"px"),o.scrollTo({left:0,top:t*l/r,behavior:"auto"})}catch(t){}}function U(){return new Promise((t=>{_.measure((({height:e})=>{x(e),t()}))}))}var S;return X(U),S=()=>appHooks.emit("__pageUnfold"),V().$$.on_destroy.push(S),Pager.beforeSwitch((()=>{const{save:t}=Pager.getContext();t.pageOffsetY=v})),t.$$set=t=>{"$$scope"in t&&n(16,m=t.$$scope)},[o,s,a,h,$,_,function(t){g=!0,u=t.screenY,d=s.offsetTop},b,function(t){clearTimeout(w),t(b)},U,async function(){U(),_.forceUpdate()},p,function(t){Z[t?"unshift":"push"]((()=>{_=t,n(5,_)}))},function(t){Z[t?"unshift":"push"]((()=>{o=t,n(0,o)}))},function(t){Z[t?"unshift":"push"]((()=>{s=t,n(1,s)}))},function(t){Z[t?"unshift":"push"]((()=>{a=t,n(2,a)}))},m]}class we extends St{constructor(t){super(),Ut(this,t,ye,ve,i,{disableAutoRestore:7,keepWaiting:8,measure:9,recalc:10},null,[-1,-1])}get disableAutoRestore(){return this.$$.ctx[7]}get keepWaiting(){return this.$$.ctx[8]}get measure(){return this.$$.ctx[9]}get recalc(){return this.$$.ctx[10]}}function xe(t,{delay:n=0,duration:o=400,easing:s=e}={}){const r=+getComputedStyle(t).opacity;return{delay:n,duration:o,easing:s,css:t=>"opacity: "+t*r}}function be(t,e,n){const o=t.slice();return o[8]=e[n],o[10]=n,o}function ke(t){let e,n,o=t[1][t[10]]+"";return{c(){e=P("div"),n=E(o),z(e,"class","t txt svelte-fo2dcj"),B(e,"width",t[8]+"%")},m(t,o){L(t,e,o),C(e,n)},p(t,e){2&e&&o!==(o=t[1][t[10]]+"")&&H(n,o)},d(t){t&&U(e)}}}function Ce(e){let n,o,s,l,i=e[6],a=[];for(let t=0;t<i.length;t+=1)a[t]=ke(be(e,i,t));return{c(){n=P("div");for(let t=0;t<a.length;t+=1)a[t].c();z(n,"class",o="column tile"+(e[2]?" selected":"")+(e[3]?" focus":"")+" svelte-fo2dcj"),B(n,"padding-left",e[0][0]+"%")},m(t,o){L(t,n,o);for(let t=0;t<a.length;t+=1)a[t].m(n,null);s||(l=[j(n,"click",e[4]),j(n,"dblclick",e[5])],s=!0)},p(t,[e]){if(66&e){let o;for(i=t[6],o=0;o<i.length;o+=1){const s=be(t,i,o);a[o]?a[o].p(s,e):(a[o]=ke(s),a[o].c(),a[o].m(n,null))}for(;o<a.length;o+=1)a[o].d(1);a.length=i.length}12&e&&o!==(o="column tile"+(t[2]?" selected":"")+(t[3]?" focus":"")+" svelte-fo2dcj")&&z(n,"class",o),1&e&&B(n,"padding-left",t[0][0]+"%")},i:t,o:t,d(t){t&&U(n),S(a,t),s=!1,r(l)}}}function _e(t,e,n){let o=J();let{location:s=[]}=e,{data:r=[]}=e,{selected:l=!1}=e,{focus:i=!1}=e,a=function(t){let e=new Array(t.length).fill(0);return(t=[...t]).push(100),e.forEach(((e,n,o)=>{o[n]=t[n+1]-t[n]})),e}(s);return t.$$set=t=>{"location"in t&&n(0,s=t.location),"data"in t&&n(1,r=t.data),"selected"in t&&n(2,l=t.selected),"focus"in t&&n(3,i=t.focus)},[s,r,l,i,function(t){o("click",t)},function(t){o("dbclick",t)},a]}class Ae extends St{constructor(t){super(),Ut(this,t,_e,Ce,i,{location:0,data:1,selected:2,focus:3})}}function Le(t,e,n){const o=t.slice();return o[10]=e[n],o[12]=n,o}function Ue(t){let e,n,o;function s(e){t[6](e)}let r={data:[t[12]+1,t[10].name,t[10].ar.reduce(Pe,[]).join(" / "),t[10].al.name],selected:t[2].has(t[12]),focus:~t[3]&&t[3]};return void 0!==t[0]&&(r.location=t[0]),e=new Ae({props:r}),Z.push((()=>kt(e,"location",s))),e.$on("click",(function(){return t[7](t[12])})),e.$on("dbclick",(function(){return t[8](t[12])})),{c(){Ct(e.$$.fragment)},m(t,n){_t(e,t,n),o=!0},p(o,s){t=o;const r={};2&s&&(r.data=[t[12]+1,t[10].name,t[10].ar.reduce(Pe,[]).join(" / "),t[10].al.name]),4&s&&(r.selected=t[2].has(t[12])),8&s&&(r.focus=~t[3]&&t[3]),!n&&1&s&&(n=!0,r.location=t[0],rt((()=>n=!1))),e.$set(r)},i(t){o||($t(e.$$.fragment,t),o=!0)},o(t){vt(e.$$.fragment,t),o=!1},d(t){At(e,t)}}}function Se(t){let e,n,o=t[1],s=[];for(let e=0;e<o.length;e+=1)s[e]=Ue(Le(t,o,e));const r=t=>vt(s[t],1,1,(()=>{s[t]=null}));return{c(){for(let t=0;t<s.length;t+=1)s[t].c();e=N()},m(t,o){for(let e=0;e<s.length;e+=1)s[e].m(t,o);L(t,e,o),n=!0},p(t,[n]){if(63&n){let l;for(o=t[1],l=0;l<o.length;l+=1){const r=Le(t,o,l);s[l]?(s[l].p(r,n),$t(s[l],1)):(s[l]=Ue(r),s[l].c(),$t(s[l],1),s[l].m(e.parentNode,e))}for(ht(),l=o.length;l<s.length;l+=1)r(l);gt()}},i(t){if(!n){for(let t=0;t<o.length;t+=1)$t(s[t]);n=!0}},o(t){s=s.filter(Boolean);for(let t=0;t<s.length;t+=1)vt(s[t]);n=!1},d(t){S(s,t),t&&U(e)}}}const Pe=(t,e)=>[...t,e.name];function Ee(t,e,n){let o=J(),{listData:s=[]}=e,{location:r=[]}=e,{selections:l=new Set}=e,{focus:i=-1}=e;function a(t){o("click",{listData:s,i:t})}function c(t){o("dbclick",{listData:s,i:t})}X((()=>{o("mount")}));return t.$$set=t=>{"listData"in t&&n(1,s=t.listData),"location"in t&&n(0,r=t.location),"selections"in t&&n(2,l=t.selections),"focus"in t&&n(3,i=t.focus)},[r,s,l,i,a,c,function(t){r=t,n(0,r)},t=>a(t),t=>c(t)]}class De extends St{constructor(t){super(),Ut(this,t,Ee,Se,i,{listData:1,location:0,selections:2,focus:3})}}function Ne(t){let e,n,o;return{c(){e=P("textarea"),z(e,"type",t[0]),z(e,"id",t[1]),e.value=t[2],z(e,"maxlength",t[4]),z(e,"style",t[5]),z(e,"placeholder",t[7]),z(e,"class","svelte-in1jdh")},m(s,r){L(s,e,r),n||(o=[j(e,"focus",t[9]),j(e,"change",t[11]),j(e,"input",t[12]),j(e,"blur",t[10])],n=!0)},p(t,n){1&n&&z(e,"type",t[0]),2&n&&z(e,"id",t[1]),4&n&&(e.value=t[2]),16&n&&z(e,"maxlength",t[4]),32&n&&z(e,"style",t[5]),128&n&&z(e,"placeholder",t[7])},d(t){t&&U(e),n=!1,r(o)}}}function je(t){let e,n,o;return{c(){e=P("input"),z(e,"type",t[0]),z(e,"id",t[1]),e.value=t[2],z(e,"style",t[5]),z(e,"placeholder",t[7]),z(e,"class","svelte-in1jdh")},m(s,r){L(s,e,r),n||(o=[j(e,"focus",t[9]),j(e,"change",t[11]),j(e,"input",t[12]),j(e,"blur",t[10])],n=!0)},p(t,n){1&n&&z(e,"type",t[0]),2&n&&z(e,"id",t[1]),4&n&&e.value!==t[2]&&(e.value=t[2]),32&n&&z(e,"style",t[5]),128&n&&z(e,"placeholder",t[7])},d(t){t&&U(e),n=!1,r(o)}}}function Te(e){let n,o;function s(t,e){return t[3]?je:Ne}let r=s(e),l=r(e);return{c(){n=P("div"),l.c(),z(n,"class",o=(e[6]?"full-border":"input")+(e[8]?" focus":"")+" svelte-in1jdh")},m(t,e){L(t,n,e),l.m(n,null)},p(t,[e]){r===(r=s(t))&&l?l.p(t,e):(l.d(1),l=r(t),l&&(l.c(),l.m(n,null))),320&e&&o!==(o=(t[6]?"full-border":"input")+(t[8]?" focus":"")+" svelte-in1jdh")&&z(n,"class",o)},i:t,o:t,d(t){t&&U(n),l.d()}}}function ze(t,e,n){let{type:o="text"}=e,{id:s="default-id"}=e,{value:r=""}=e,{singleLine:l=!0}=e,{maxLength:i=999999}=e,{cssText:a=""}=e,{fullBorder:c=!1}=e,{placeholder:u=""}=e,d=J(),f=!1;return t.$$set=t=>{"type"in t&&n(0,o=t.type),"id"in t&&n(1,s=t.id),"value"in t&&n(2,r=t.value),"singleLine"in t&&n(3,l=t.singleLine),"maxLength"in t&&n(4,i=t.maxLength),"cssText"in t&&n(5,a=t.cssText),"fullBorder"in t&&n(6,c=t.fullBorder),"placeholder"in t&&n(7,u=t.placeholder)},[o,s,r,l,i,a,c,u,f,function(){n(8,f=!0),d("focus")},function(){n(8,f=!1),d("blur")},function(){d("change")},function(){d("input")}]}class He extends St{constructor(t){super(),Ut(this,t,ze,Te,i,{type:0,id:1,value:2,singleLine:3,maxLength:4,cssText:5,fullBorder:6,placeholder:7})}}function Oe(t,e,n){const o=t.slice();return o[36]=e[n],o[38]=n,o}function Be(t){let e,n,o,s,r,l,i,a,c,u,d,f,p,m,h,g,$,v,y,w=t[3].title+"",x=t[3].subtitle+"",b=t[3].trackCount+"",k=t[3].playCount+"";return n=new qt({props:{width:140,height:140,radius:"8%",avatar:t[3].imgUrl}}),{c(){e=P("div"),Ct(n.$$.fragment),o=D(),s=P("div"),r=P("div"),l=E(w),i=D(),a=P("div"),c=E(x),u=D(),d=P("div"),f=P("div"),f.textContent=" 播放全部",p=D(),m=P("div"),h=E("歌曲 "),g=E(b),$=E("   播放 "),v=E(k),z(r,"class","title svelte-154n42v"),z(a,"class","subtitle svelte-154n42v"),z(f,"class","btn big outlined svelte-154n42v"),z(d,"class","column ctrls svelte-154n42v"),z(m,"class","subtitle svelte-154n42v"),z(s,"class","row rowl svelte-154n42v"),z(e,"class","header column svelte-154n42v")},m(t,w){L(t,e,w),_t(n,e,null),C(e,o),C(e,s),C(s,r),C(r,l),C(s,i),C(s,a),C(a,c),C(s,u),C(s,d),C(d,f),C(s,p),C(s,m),C(m,h),C(m,g),C(m,$),C(m,v),y=!0},p(t,e){const o={};8&e[0]&&(o.avatar=t[3].imgUrl),n.$set(o),(!y||8&e[0])&&w!==(w=t[3].title+"")&&H(l,w),(!y||8&e[0])&&x!==(x=t[3].subtitle+"")&&H(c,x),(!y||8&e[0])&&b!==(b=t[3].trackCount+"")&&H(g,b),(!y||8&e[0])&&k!==(k=t[3].playCount+"")&&H(v,k)},i(t){y||($t(n.$$.fragment,t),y=!0)},o(t){vt(n.$$.fragment,t),y=!1},d(t){t&&U(e),At(n)}}}function Re(t){let e,n,o,s,r,l=t[36]+"";function i(){return t[16](t[38])}return{c(){e=P("div"),n=E(l),z(e,"class",o="splitterTab"+(t[1]===t[38]?t[2]?" backwards":" forwards":"")+" svelte-154n42v"),B(e,"width",t[6][t[38]]+"%")},m(t,o){L(t,e,o),C(e,n),s||(r=j(e,"click",i),s=!0)},p(s,r){t=s,1&r[0]&&l!==(l=t[36]+"")&&H(n,l),6&r[0]&&o!==(o="splitterTab"+(t[1]===t[38]?t[2]?" backwards":" forwards":"")+" svelte-154n42v")&&z(e,"class",o),64&r[0]&&B(e,"width",t[6][t[38]]+"%")},d(t){t&&U(e),s=!1,r()}}}function Me(t){let e,n,o,s,r,l,i,a,c,u,d,f,p,m,h,g,$,v=t[3]&&Be(t);s=new He({props:{type:"text",placeholder:"  搜索列表",fullBorder:!0}});let y=t[0].names,w=[];for(let e=0;e<y.length;e+=1)w[e]=Re(Oe(t,y,e));function x(e){t[18](e)}function b(e){t[19](e)}function k(e){t[20](e)}let _={};return void 0!==t[4]&&(_.listData=t[4]),void 0!==t[7]&&(_.location=t[7]),void 0!==t[8]&&(_.selections=t[8]),d=new De({props:_}),Z.push((()=>kt(d,"listData",x))),Z.push((()=>kt(d,"location",b))),Z.push((()=>kt(d,"selections",k))),d.$on("mount",t[14]),d.$on("click",t[12]),d.$on("dbclick",t[13]),{c(){e=P("div"),v&&v.c(),n=D(),o=P("div"),Ct(s.$$.fragment),r=D(),l=P("div"),i=D(),a=P("div");for(let t=0;t<w.length;t+=1)w[t].c();c=D(),u=P("div"),Ct(d.$$.fragment),z(l,"class","column"),z(o,"class","nav column svelte-154n42v"),z(a,"class","column splitter svelte-154n42v"),B(a,"padding-left",t[7][0]+"%"),z(u,"class","row list svelte-154n42v"),z(e,"class","row c svelte-154n42v")},m(f,p){L(f,e,p),v&&v.m(e,null),C(e,n),C(e,o),_t(s,o,null),C(o,r),C(o,l),C(e,i),C(e,a);for(let t=0;t<w.length;t+=1)w[t].m(a,null);t[17](a),C(e,c),C(e,u),_t(d,u,null),h=!0,g||($=j(a,"mousedown",t[11]),g=!0)},p(t,o){if(t[3]?v?(v.p(t,o),8&o[0]&&$t(v,1)):(v=Be(t),v.c(),$t(v,1),v.m(e,n)):v&&(ht(),vt(v,1,1,(()=>{v=null})),gt()),1095&o[0]){let e;for(y=t[0].names,e=0;e<y.length;e+=1){const n=Oe(t,y,e);w[e]?w[e].p(n,o):(w[e]=Re(n),w[e].c(),w[e].m(a,null))}for(;e<w.length;e+=1)w[e].d(1);w.length=y.length}(!h||128&o[0])&&B(a,"padding-left",t[7][0]+"%");const s={};!f&&16&o[0]&&(f=!0,s.listData=t[4],rt((()=>f=!1))),!p&&128&o[0]&&(p=!0,s.location=t[7],rt((()=>p=!1))),!m&&256&o[0]&&(m=!0,s.selections=t[8],rt((()=>m=!1))),d.$set(s)},i(t){h||($t(v),$t(s.$$.fragment,t),$t(d.$$.fragment,t),h=!0)},o(t){vt(v),vt(s.$$.fragment,t),vt(d.$$.fragment,t),h=!1},d(n){n&&U(e),v&&v.d(),At(s),S(w,n),t[17](null),At(d),g=!1,$()}}}function Ie(t){let e,n;return e=new we({props:{$$slots:{default:[Me]},$$scope:{ctx:t}}}),t[21](e),{c(){Ct(e.$$.fragment)},m(t,o){_t(e,t,o),n=!0},p(t,n){const o={};511&n[0]|256&n[1]&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){n||($t(e.$$.fragment,t),n=!0)},o(t){vt(e.$$.fragment,t),n=!1},d(n){t[21](null),At(e,n)}}}function We(t){let e=[...t],n=new Array(t.length).fill(0);return e.push(100),n.forEach(((t,n,o)=>{o[n]=e[n+1]-e[n]})),n}function qe(t,e,n){let{header:o=null}=e;const s=()=>1;let{listSplitter:r=store.get("splitter")||{location:[2,8,30,70],names:["功能","歌曲名","艺术家","专辑"]}}=e;r.sortFunc=[s,(t,e)=>e.name>t.name||-1,(t,e)=>e.ar[0].name>t.ar[0].name||-1,(t,e)=>e.al.name>t.al.name||-1];let l,i,{listData:a=[]}=e,{sortBy:c=0}=e,{forwards:u=!0}=e,d=[];function f(t){i=[...t],t.sort(r.sortFunc[c]),!u&&t.reverse(),n(4,d=t)}X((()=>{a instanceof Promise?appHooks.once("pageSwipeAnimFinish",(()=>a.then((t=>f(t))))):f(a)}));let p=!1;function m(t){if(!p)return!1;let e;"number"!=typeof t&&(t=r.names.indexOf(t)),t===c&&n(2,u=!u),e=r.sortFunc[t]||s,n(1,c=t),store.set("sortBy",c),store.set("forwards",u);let o=[...i];o.sort(e),u||(o=o.reverse()),setTimeout((()=>{n(4,d=o)})),A()}m(c);let h,g,$=We(r.location),v=r.location,y=!1,w=0,x=0,b=0;document.addEventListener("mousemove",(function(t){y&&(p=!1,b=t.screenX-x,g.style.transform=`translateX(${b}px)`)})),document.addEventListener("mouseup",(function(){if(y){y=!1,g.style.transform="";let t=b/w*100;n(7,v[h]+=t,v),n(6,$=We(v));const e=d;n(4,d=[]),setTimeout((()=>{n(4,d=e)})),x=b=h=0,g=null,store.set("splitter",{location:v,names:r.names})}}));let k=!1;document.addEventListener("keydown",(t=>{t.ctrlKey&&(k=!0)})),document.addEventListener("keyup",(t=>{t.ctrlKey&&(k=!1)}));let C,_=new Set;function A(){C.measure()}return t.$$set=t=>{"header"in t&&n(3,o=t.header),"listSplitter"in t&&n(0,r=t.listSplitter),"listData"in t&&n(15,a=t.listData),"sortBy"in t&&n(1,c=t.sortBy),"forwards"in t&&n(2,u=t.forwards)},[r,c,u,o,d,l,$,v,_,C,m,function(t){p=!0,g=t.target,g!==l&&(h=[...g.parentNode.children].indexOf(g),w=t.path[1].offsetWidth,y=!0,t.target.offsetLeft,x=t.screenX)},function(t){const e=t.detail.i;k?(_.add(e),n(8,_)):n(8,_=(new Set).add(e))},async function(t){const{listData:e,i:n}=t.detail;oe.loadList(e),oe.play(n)},A,a,t=>m(t),function(t){Z[t?"unshift":"push"]((()=>{l=t,n(5,l)}))},function(t){d=t,n(4,d)},function(t){v=t,n(7,v)},function(t){_=t,n(8,_)},function(t){Z[t?"unshift":"push"]((()=>{C=t,n(9,C)}))}]}class Fe extends St{constructor(t){super(),Ut(this,t,qe,Ie,i,{header:3,listSplitter:0,listData:15,sortBy:1,forwards:2},null,[-1,-1])}}function Ye(t,e,n){const o=t.slice();return o[18]=e[n],o[20]=n,o}function Ve(t){let e,n,o,s,r,l,i,a,c,u=t[18].name+"";function d(){return t[10](t[18],t[20])}return{c(){e=P("div"),n=P("div"),o=D(),s=P("div"),r=P("div"),l=E(u),i=D(),z(n,"class","avatar svelte-un5mih"),B(n,"background-image","url("+t[18].coverImgUrl+")"),z(s,"class","row title svelte-un5mih"),z(e,"class","card row svelte-un5mih")},m(t,u){L(t,e,u),C(e,n),C(e,o),C(e,s),C(s,r),C(r,l),C(e,i),a||(c=j(e,"click",d),a=!0)},p(e,o){t=e,1&o&&B(n,"background-image","url("+t[18].coverImgUrl+")"),1&o&&u!==(u=t[18].name+"")&&H(l,u)},d(t){t&&U(e),a=!1,c()}}}function Xe(t){let e,n=t[0],o=[];for(let e=0;e<n.length;e+=1)o[e]=Ve(Ye(t,n,e));return{c(){e=P("div");for(let t=0;t<o.length;t+=1)o[t].c();z(e,"class","column card-container svelte-un5mih")},m(t,n){L(t,e,n);for(let t=0;t<o.length;t+=1)o[t].m(e,null)},p(t,s){if(129&s){let r;for(n=t[0],r=0;r<n.length;r+=1){const l=Ye(t,n,r);o[r]?o[r].p(l,s):(o[r]=Ve(l),o[r].c(),o[r].m(e,null))}for(;r<o.length;r+=1)o[r].d(1);o.length=n.length}},d(t){t&&U(e),S(o,t)}}}function Je(t){let e,n,o,s,r,l,i,a,u,d,f,p,m,h;return d=new ge({props:{cssStyle:"width: 100%",$$slots:{default:[Xe]},$$scope:{ctx:t}}}),t[11](d),{c(){e=P("div"),n=P("div"),o=P("img"),r=D(),l=P("div"),i=E("▼"),u=D(),Ct(d.$$.fragment),z(o,"class","collection-bgc svelte-un5mih"),c(o.src,s=t[3])||z(o,"src",s),z(o,"alt",""),z(l,"class",a="toggle"+(t[6]?"":" unfold")+" svelte-un5mih"),z(n,"class",f="collection"+(t[6]?"":" unfold")+" svelte-un5mih"),z(n,"title","我的收藏"),z(e,"class","row")},m(s,a){L(s,e,a),C(e,n),C(n,o),t[9](o),C(n,r),C(n,l),C(l,i),C(n,u),_t(d,n,null),t[12](n),p=!0,m||(h=j(l,"click",t[8]),m=!0)},p(t,e){(!p||8&e&&!c(o.src,s=t[3]))&&z(o,"src",s),(!p||64&e&&a!==(a="toggle"+(t[6]?"":" unfold")+" svelte-un5mih"))&&z(l,"class",a);const r={};2097153&e&&(r.$$scope={dirty:e,ctx:t}),d.$set(r),(!p||64&e&&f!==(f="collection"+(t[6]?"":" unfold")+" svelte-un5mih"))&&z(n,"class",f)},i(t){p||($t(d.$$.fragment,t),p=!0)},o(t){vt(d.$$.fragment,t),p=!1},d(n){n&&U(e),t[9](null),t[11](null),At(d),t[12](null),m=!1,h()}}}function Ke(t){let e,n;return e=new we({props:{$$slots:{default:[Je]},$$scope:{ctx:t}}}),t[13](e),{c(){Ct(e.$$.fragment)},m(t,o){_t(e,t,o),n=!0},p(t,[n]){const o={};2097263&n&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){n||($t(e.$$.fragment,t),n=!0)},o(t){vt(e.$$.fragment,t),n=!1},d(n){t[13](null),At(e,n)}}}function Qe(t){let e=store.get(t);return e||async function(t){let e=store.get("cookie"),n=store.get(t);let o=(await NeteaseApi.getPlaylistDetail(t,e)).body.playlist.trackIds.reduce(((t,e)=>[...t,e.id]),[]);return n=(await NeteaseApi.getSongDetail(o,e)).body.songs,store.setCache(t,n),n}(t)}function Ge(t,e,n){let o,s,r,l,{playlists:i=[]}=e;function a(t,e){Pager.openNew(i[t].name,Fe,e)}X((async function(){let t=store.get("onDayDesktop");if(n(2,s.onload=()=>{__setColor(o,s,1),o.style.setProperty("--start","220px"),l.recalc()},s),t&&(new Date).getTime()-t.timeStamp<576e5)return n(3,r=t.url);t=await(await fetch("https://cn.bing.com/HPImageArchive.aspx?format=js&idx=0&n=1")).json();const e="https://www.bing.com"+t.images[0].url;n(3,r=e),store.set("onDayDesktop",{timeStamp:(new Date).getTime(),url:e})})),async function(){if(window.__playlists)return n(0,i=window.__playlists);const t=store.get("cookie"),e=store.get("profile").userId,o=await NeteaseApi.getUserPlaylist(e,t);200==o.status&&(window.__playlists=n(0,i=o.body.playlist))}();let c,u=!0;function d(){n(6,u=!u),c.measure((({height:t})=>{o.style.setProperty("--height",t+160+"px"),l.recalc()}))}Pager.beforeSwitch((()=>{const{save:t}=Pager.getContext();t&&(t.collectionFolded=u)})),X((()=>{const{save:t}=Pager.getContext();t&&void 0!==t.collectionFolded&&(t.collectionFolded||d())}));return t.$$set=t=>{"playlists"in t&&n(0,i=t.playlists)},[i,o,s,r,l,c,u,a,d,function(t){Z[t?"unshift":"push"]((()=>{s=t,n(2,s)}))},(t,e)=>{let n=t.id;a(e,(()=>({header:{imgUrl:t.coverImgUrl,title:t.name,subtitle:`由${t.creator.nickname}创建`,playCount:t.playCount,trackCount:t.trackCount},listData:Qe(n),sortBy:window.store.get("sortBy"),forwards:window.store.get("forwards"),onTabDestroy(){!function(t){store.rm(t)}(n)}})))},function(t){Z[t?"unshift":"push"]((()=>{c=t,n(5,c)}))},function(t){Z[t?"unshift":"push"]((()=>{o=t,n(1,o)}))},function(t){Z[t?"unshift":"push"]((()=>{l=t,n(4,l)}))}]}class Ze extends St{constructor(t){super(),Ut(this,t,Ge,Ke,i,{playlists:0})}}function tn(e){let n;return{c(){n=P("div"),n.innerHTML="<h1>发现</h1>",z(n,"class","row")},m(t,e){L(t,n,e)},p:t,i:t,o:t,d(t){t&&U(n)}}}class en extends St{constructor(t){super(),Ut(this,t,null,tn,i,{})}}function nn(t){let e,n,o,s,l,i,a;const c=t[9].default,d=u(c,t,t[8],null);return{c(){e=P("div"),n=P("div"),d&&d.c(),z(n,"class","container svelte-1e79ph6"),z(n,"style",t[1]),z(e,"class","layer row svelte-1e79ph6")},m(s,r){L(s,e,r),C(e,n),d&&d.m(n,null),l=!0,i||(a=[$(o=t[4].call(null,n)),j(n,"click",T(t[10])),j(e,"click",t[3])],i=!0)},p(t,e){d&&d.p&&(!l||256&e)&&p(d,c,t,t[8],l?f(c,t[8],e,null):m(t[8]),null),(!l||2&e)&&z(n,"style",t[1])},i(t){l||($t(d,t),s&&s.end(1),l=!0)},o(t){vt(d,t),s=wt(e,xe,{duration:100}),l=!1},d(t){t&&U(e),d&&d.d(t),t&&s&&s.end(),i=!1,r(a)}}}function on(n){let o,s,i,a,c,d,h,g;const v=n[9].default,w=u(v,n,n[8],null);return{c(){o=P("div"),w&&w.c(),z(o,"class","container svelte-1e79ph6"),z(o,"style",s="z-index:99999;"+n[1])},m(t,e){L(t,o,e),w&&w.m(o,null),d=!0,h||(g=[$(i=n[4].call(null,o)),j(o,"click",n[3])],h=!0)},p(t,e){w&&w.p&&(!d||256&e)&&p(w,v,t,t[8],d?f(v,t[8],e,null):m(t[8]),null),(!d||2&e&&s!==(s="z-index:99999;"+t[1]))&&z(o,"style",s)},i(n){d||($t(w,n),st((()=>{c&&c.end(1),a=function(n,o,s){let r,i,a=o(n,s),c=!1,u=0;function d(){r&&F(n,r)}function f(){const{delay:o=0,duration:s=300,easing:l=e,tick:f=t,css:p}=a||yt;p&&(r=q(n,0,1,s,o,l,p,u++)),f(0,1);const m=y()+o,h=m+s;i&&i.abort(),c=!0,st((()=>ft(n,!0,"start"))),i=k((t=>{if(c){if(t>=h)return f(1,0),ft(n,!0,"end"),d(),c=!1;if(t>=m){const e=l((t-m)/s);f(e,1-e)}}return c}))}let p=!1;return{start(){p||(p=!0,F(n),l(a)?(a=a(),dt().then(f)):f())},invalidate(){p=!1},end(){c&&(d(),c=!1)}}}(o,xe,{duration:120}),a.start()})),d=!0)},o(t){vt(w,t),a&&a.invalidate(),c=wt(o,xe,{duration:80}),d=!1},d(t){t&&U(o),w&&w.d(t),t&&c&&c.end(),h=!1,r(g)}}}function sn(t){let e,n,o,s=t[0]&&!t[2]&&nn(t),r=t[0]&&t[2]&&on(t);return{c(){s&&s.c(),e=D(),r&&r.c(),n=N()},m(t,l){s&&s.m(t,l),L(t,e,l),r&&r.m(t,l),L(t,n,l),o=!0},p(t,[o]){t[0]&&!t[2]?s?(s.p(t,o),5&o&&$t(s,1)):(s=nn(t),s.c(),$t(s,1),s.m(e.parentNode,e)):s&&(ht(),vt(s,1,1,(()=>{s=null})),gt()),t[0]&&t[2]?r?(r.p(t,o),5&o&&$t(r,1)):(r=on(t),r.c(),$t(r,1),r.m(n.parentNode,n)):r&&(ht(),vt(r,1,1,(()=>{r=null})),gt())},i(t){o||($t(s),$t(r),o=!0)},o(t){vt(s),vt(r),o=!1},d(t){s&&s.d(t),t&&U(e),r&&r.d(t),t&&U(n)}}}function rn(t,e,n){let{$$slots:o={},$$scope:s}=e;const r=J();function l(){r("layerClick")}var i,a;i="close",a=l,V().$$.context.set(i,a);let{showPopupWindow:c=!1}=e,{cssText:u=""}=e,{noLayer:d=!1}=e;return t.$$set=t=>{"showPopupWindow"in t&&n(0,c=t.showPopupWindow),"cssText"in t&&n(1,u=t.cssText),"noLayer"in t&&n(2,d=t.noLayer),"$$scope"in t&&n(8,s=t.$$scope)},[c,u,d,l,function(t){return r("animIn",t),{destroy(){r("animOut",t)}}},function(t,e={}){return undefined.animate(t,e)},function(){n(0,c=!0)},function(){n(0,c=!1)},s,o,function(e){Q.call(this,t,e)}]}class ln extends St{constructor(t){super(),Ut(this,t,rn,sn,i,{showPopupWindow:0,cssText:1,noLayer:2,animate:5,destroy:6,pop:7})}get animate(){return this.$$.ctx[5]}get destroy(){return this.$$.ctx[6]}get pop(){return this.$$.ctx[7]}}const an=t=>({}),cn=t=>({...t[4]});function un(t){let e;const n=t[7].default,o=u(n,t,t[6],cn);return{c(){o&&o.c()},m(t,n){o&&o.m(t,n),e=!0},p(t,s){o&&o.p&&(!e||80&s)&&p(o,n,t,t[6],(t=>16&t)(s)||!e?m(t[6]):f(n,t[6],s,an),cn)},i(t){e||($t(o,t),e=!0)},o(t){vt(o,t),e=!1},d(t){o&&o.d(t)}}}function dn(t){let e,o,s;const r=[t[4]];var l=t[0];function i(t){let e={};for(let t=0;t<r.length;t+=1)e=n(e,r[t]);return{props:e}}return l&&(e=new l(i())),{c(){e&&Ct(e.$$.fragment),o=N()},m(t,n){e&&_t(e,t,n),L(t,o,n),s=!0},p(t,n){const s=16&n?xt(r,[bt(t[4])]):{};if(l!==(l=t[0])){if(e){ht();const t=e;vt(t.$$.fragment,1,0,(()=>{At(t,1)})),gt()}l?(e=new l(i()),Ct(e.$$.fragment),$t(e.$$.fragment,1),_t(e,o.parentNode,o)):e=null}else l&&e.$set(s)},i(t){s||(e&&$t(e.$$.fragment,t),s=!0)},o(t){e&&vt(e.$$.fragment,t),s=!1},d(t){t&&U(o),e&&At(e,t)}}}function fn(t){let e,n,o,s,r,l;const i=[dn,un],a=[];function c(t,e){return t[0]?0:1}return n=c(t),o=a[n]=i[n](t),{c(){e=P("div"),o.c(),z(e,"class","container svelte-1mv98ub"),z(e,"style",t[1])},m(o,i){L(o,e,i),a[n].m(e,null),t[8](e),s=!0,r||(l=j(e,"mousedown",t[3]),r=!0)},p(t,[r]){let l=n;n=c(t),n===l?a[n].p(t,r):(ht(),vt(a[l],1,1,(()=>{a[l]=null})),gt(),o=a[n],o?o.p(t,r):(o=a[n]=i[n](t),o.c()),$t(o,1),o.m(e,null)),(!s||2&r)&&z(e,"style",t[1])},i(t){s||($t(o),s=!0)},o(t){vt(o),s=!1},d(o){o&&U(e),a[n].d(),t[8](null),r=!1,l()}}}function pn(t){t.animate({opacity:["0.4","0"]},200).onfinish=()=>{t.remove()}}function mn(t,e,o){let{$$slots:s={},$$scope:r}=e,{rippleColor:l=""}=e,{component:i=null}=e,{cssStyle:a=""}=e,c=null;return t.$$set=t=>{o(4,e=n(n({},e),h(t))),"rippleColor"in t&&o(5,l=t.rippleColor),"component"in t&&o(0,i=t.component),"cssStyle"in t&&o(1,a=t.cssStyle),"$$scope"in t&&o(6,r=t.$$scope)},e=h(e),[i,a,c,function(t){!function(t,e,n,o){const{left:s,top:r}=t.getBoundingClientRect(),{pageX:l,pageY:i}=e,{offsetWidth:a,offsetHeight:c}=t,u=Math.sqrt(c**2+a**2)/2,d=document.createElement("div");d.style.position="absolute",d.style.borderRadius="50%",d.style.opacity="0.4",d.style.pointerEvents="none",t.appendChild(d),d.animate([{top:i-r+"px",left:l-s+"px",width:"0px",height:"0px",backgroundColor:`${o||"var(--controlColor)"}`},{top:c/2-u+"px",left:a/2-u+"px",width:2*u+"px",height:2*u+"px",backgroundColor:`${o||"var(--controlColor)"}`}],{duration:320,fill:"forwards",easing:"cubic-bezier(0.05, 0.7, 0.2, 1)"}).onfinish=()=>{"function"==typeof n&&n.call(d,d)}}(c,t,pn,l)},e,l,r,s,function(t){Z[t?"unshift":"push"]((()=>{c=t,o(2,c)}))}]}class hn extends St{constructor(t){super(),Ut(this,t,mn,fn,i,{rippleColor:5,component:0,cssStyle:1})}}function gn(e){let n;return{c(){n=P("div"),B(n,"width","14px")},m(t,e){L(t,n,e)},p:t,i:t,o:t,d(t){t&&U(n)}}}function $n(t){let e,n,o;return n=new qt({props:{size:t[1],isUrl:t[0],avatar:t[2],width:t[6],height:t[7]}}),{c(){e=P("div"),Ct(n.$$.fragment),z(e,"class","column leading svelte-emkyx5")},m(t,s){L(t,e,s),_t(n,e,null),o=!0},p(t,e){const o={};2&e&&(o.size=t[1]),1&e&&(o.isUrl=t[0]),4&e&&(o.avatar=t[2]),64&e&&(o.width=t[6]),128&e&&(o.height=t[7]),n.$set(o)},i(t){o||($t(n.$$.fragment,t),o=!0)},o(t){vt(n.$$.fragment,t),o=!1},d(t){t&&U(e),At(n)}}}function vn(t){let e,n,o,s;function r(t,e){return t[4]?xn:wn}let l=r(t),i=l(t);const a=t[13].default,c=u(a,t,t[14],null);return{c(){e=P("div"),n=P("div"),i.c(),o=D(),c&&c.c(),z(n,"class","row align svelte-emkyx5"),z(n,"style",t[5]),z(e,"class","column"),B(e,"justify-content","space-between"),B(e,"width",t[9]?"calc(100% - 84px)":"calc(100% - 28px)")},m(t,r){L(t,e,r),C(e,n),i.m(n,null),C(e,o),c&&c.m(e,null),s=!0},p(t,o){l===(l=r(t))&&i?i.p(t,o):(i.d(1),i=l(t),i&&(i.c(),i.m(n,null))),(!s||32&o)&&z(n,"style",t[5]),c&&c.p&&(!s||16384&o)&&p(c,a,t,t[14],s?f(a,t[14],o,null):m(t[14]),null),(!s||512&o)&&B(e,"width",t[9]?"calc(100% - 84px)":"calc(100% - 28px)")},i(t){s||($t(c,t),s=!0)},o(t){vt(c,t),s=!1},d(t){t&&U(e),i.d(),c&&c.d(t)}}}function yn(t){let e,n,o;function s(t,e){return t[4]?kn:bn}let r=s(t),l=r(t);const i=t[13].default,a=u(i,t,t[14],null);return{c(){e=P("div"),l.c(),n=D(),a&&a.c(),z(e,"class","row align svelte-emkyx5"),z(e,"style",t[5])},m(t,s){L(t,e,s),l.m(e,null),C(e,n),a&&a.m(e,null),o=!0},p(t,c){r===(r=s(t))&&l?l.p(t,c):(l.d(1),l=r(t),l&&(l.c(),l.m(e,n))),a&&a.p&&(!o||16384&c)&&p(a,i,t,t[14],o?f(i,t[14],c,null):m(t[14]),null),(!o||32&c)&&z(e,"style",t[5])},i(t){o||($t(a,t),o=!0)},o(t){vt(a,t),o=!1},d(t){t&&U(e),l.d(),a&&a.d(t)}}}function wn(t){let e,n;return{c(){e=P("span"),n=E(t[3])},m(t,o){L(t,e,o),C(e,n)},p(t,e){8&e&&H(n,t[3])},d(t){t&&U(e)}}}function xn(t){let e,n,o,s,r;return{c(){e=P("span"),n=E(t[3]),o=D(),s=P("span"),r=E(t[4]),B(s,"font-size","small"),B(s,"color","#888")},m(t,l){L(t,e,l),C(e,n),L(t,o,l),L(t,s,l),C(s,r)},p(t,e){8&e&&H(n,t[3]),16&e&&H(r,t[4])},d(t){t&&U(e),t&&U(o),t&&U(s)}}}function bn(t){let e,n;return{c(){e=P("span"),n=E(t[3])},m(t,o){L(t,e,o),C(e,n)},p(t,e){8&e&&H(n,t[3])},d(t){t&&U(e)}}}function kn(t){let e,n,o,s,r;return{c(){e=P("span"),n=E(t[3]),o=D(),s=P("span"),r=E(t[4]),B(s,"font-size","small"),B(s,"color","#888")},m(t,l){L(t,e,l),C(e,n),L(t,o,l),L(t,s,l),C(s,r)},p(t,e){8&e&&H(n,t[3]),16&e&&H(r,t[4])},d(t){t&&U(e),t&&U(o),t&&U(s)}}}function Cn(t){let e,n,o,s,l,i,a,c,u,d;const f=[$n,gn],p=[];function m(t,e){return t[9]?0:1}n=m(t),o=p[n]=f[n](t);const h=[yn,vn],g=[];function $(t,e){return t[10]?0:1}return l=$(t),i=g[l]=h[l](t),{c(){e=P("div"),o.c(),s=D(),i.c(),z(e,"class",a="column c"+(t[8]?" cl":"")+" svelte-emkyx5")},m(o,r){L(o,e,r),p[n].m(e,null),C(e,s),g[l].m(e,null),c=!0,u||(d=[j(e,"click",t[11]),j(e,"mousedown",t[12])],u=!0)},p(t,r){let u=n;n=m(t),n===u?p[n].p(t,r):(ht(),vt(p[u],1,1,(()=>{p[u]=null})),gt(),o=p[n],o?o.p(t,r):(o=p[n]=f[n](t),o.c()),$t(o,1),o.m(e,s));let d=l;l=$(t),l===d?g[l].p(t,r):(ht(),vt(g[d],1,1,(()=>{g[d]=null})),gt(),i=g[l],i?i.p(t,r):(i=g[l]=h[l](t),i.c()),$t(i,1),i.m(e,null)),(!c||256&r&&a!==(a="column c"+(t[8]?" cl":"")+" svelte-emkyx5"))&&z(e,"class",a)},i(t){c||($t(o),$t(i),c=!0)},o(t){vt(o),vt(i),c=!1},d(t){t&&U(e),p[n].d(),g[l].d(),u=!1,r(d)}}}function _n(t){let e,n;return e=new hn({props:{cssStyle:"width: 100%",rippleColor:t[8]?"gray":"transparent",$$slots:{default:[Cn]},$$scope:{ctx:t}}}),{c(){Ct(e.$$.fragment)},m(t,o){_t(e,t,o),n=!0},p(t,[n]){const o={};256&n&&(o.rippleColor=t[8]?"gray":"transparent"),18431&n&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){n||($t(e.$$.fragment,t),n=!0)},o(t){vt(e.$$.fragment,t),n=!1},d(t){At(e,t)}}}function An(t,e,n){let{$$slots:o={},$$scope:s}=e;const r=J();let{isUrl:l=!0}=e,{size:i="normal"}=e,{avatar:a=""}=e,{data:c=""}=e,{extra:u=""}=e,{style:d=""}=e,{width:f}=e,{height:p}=e,{clickable:m=!0}=e,{useAvatar:h=!0}=e,{breakLine:g=!1}=e;return t.$$set=t=>{"isUrl"in t&&n(0,l=t.isUrl),"size"in t&&n(1,i=t.size),"avatar"in t&&n(2,a=t.avatar),"data"in t&&n(3,c=t.data),"extra"in t&&n(4,u=t.extra),"style"in t&&n(5,d=t.style),"width"in t&&n(6,f=t.width),"height"in t&&n(7,p=t.height),"clickable"in t&&n(8,m=t.clickable),"useAvatar"in t&&n(9,h=t.useAvatar),"breakLine"in t&&n(10,g=t.breakLine),"$$scope"in t&&n(14,s=t.$$scope)},[l,i,a,c,u,d,f,p,m,h,g,function(t){r("click",t)},function(t){r("mousedown",t)},o,s]}class Ln extends St{constructor(t){super(),Ut(this,t,An,_n,i,{isUrl:0,size:1,avatar:2,data:3,extra:4,style:5,width:6,height:7,clickable:8,useAvatar:9,breakLine:10})}}function Un(e){let n,o,s,r,l;return{c(){n=P("img"),s=D(),r=P("h5"),l=E(e[6]),c(n.src,o=e[5])||z(n,"src",o),z(n,"width",228),z(n,"height",228),z(n,"draggable","false"),z(n,"alt"," "),B(n,"border-radius","24px")},m(t,o){L(t,n,o),e[13](n),L(t,s,o),L(t,r,o),C(r,l)},p(t,e){32&e&&!c(n.src,o=t[5])&&z(n,"src",o),64&e&&H(l,t[6])},i:t,o:t,d(t){t&&U(n),e[13](null),t&&U(s),t&&U(r)}}}function Sn(t){let e,n,o,s,l,i,a,c,u,d,f;return c=new hn({props:{rippleColor:"#000",cssStyle:"border-radius: 8px;",$$slots:{default:[Pn]},$$scope:{ctx:t}}}),{c(){e=P("input"),o=D(),s=P("input"),i=D(),a=P("div"),Ct(c.$$.fragment),z(e,"type","text"),z(e,"class",n=g(t[2]&&"error")+" svelte-12m1k1q"),z(e,"placeholder","电话"),z(s,"type","password"),z(s,"class",l=g(t[2]&&"error")+" svelte-12m1k1q"),z(s,"placeholder","密码"),B(a,"padding","24px 0px 12px 0px")},m(n,r){L(n,e,r),O(e,t[0]),L(n,o,r),L(n,s,r),O(s,t[1]),L(n,i,r),L(n,a,r),_t(c,a,null),u=!0,d||(f=[j(e,"input",t[11]),j(s,"input",t[12])],d=!0)},p(t,o){(!u||4&o&&n!==(n=g(t[2]&&"error")+" svelte-12m1k1q"))&&z(e,"class",n),1&o&&e.value!==t[0]&&O(e,t[0]),(!u||4&o&&l!==(l=g(t[2]&&"error")+" svelte-12m1k1q"))&&z(s,"class",l),2&o&&s.value!==t[1]&&O(s,t[1]);const r={};65536&o&&(r.$$scope={dirty:o,ctx:t}),c.$set(r)},i(t){u||($t(c.$$.fragment,t),u=!0)},o(t){vt(c.$$.fragment,t),u=!1},d(t){t&&U(e),t&&U(o),t&&U(s),t&&U(i),t&&U(a),At(c),d=!1,r(f)}}}function Pn(e){let n,o,s;return{c(){n=P("div"),n.textContent="登陆",z(n,"class","column submit svelte-12m1k1q")},m(t,r){L(t,n,r),o||(s=j(n,"click",e[7]),o=!0)},p:t,d(t){t&&U(n),o=!1,s()}}}function En(t){let e,n,o,s,r,l,i,a,c,u,d,f,p,m=t[8][t[3]]+"",h=t[8][t[3]?0:1]+"";const g=[Sn,Un],$=[];function v(t,e){return t[3]?t[5]?1:-1:0}return~(c=v(t))&&(u=$[c]=g[c](t)),{c(){e=P("div"),n=P("h3"),o=E(m),s=E("登录 "),r=P("span"),l=E("使用"),i=E(h),a=D(),u&&u.c(),z(r,"class","span svelte-12m1k1q"),z(e,"class","row c svelte-12m1k1q")},m(u,m){L(u,e,m),C(e,n),C(n,o),C(n,s),C(n,r),C(r,l),C(r,i),C(e,a),~c&&$[c].m(e,null),d=!0,f||(p=j(r,"click",t[10]),f=!0)},p(t,[n]){(!d||8&n)&&m!==(m=t[8][t[3]]+"")&&H(o,m),(!d||8&n)&&h!==(h=t[8][t[3]?0:1]+"")&&H(i,h);let s=c;c=v(t),c===s?~c&&$[c].p(t,n):(u&&(ht(),vt($[s],1,1,(()=>{$[s]=null})),gt()),~c?(u=$[c],u?u.p(t,n):(u=$[c]=g[c](t),u.c()),$t(u,1),u.m(e,null)):u=null)},i(t){d||($t(u),d=!0)},o(t){vt(u),d=!1},d(t){t&&U(e),~c&&$[c].d(),f=!1,p()}}}function Dn(t,e,n){const o=K("close")||(()=>{appHooks.emit("__openMinePage"),appHooks.emit("__updateLoginAvatar")});let s,r,l=!1;let i,a=0,c="",u="等待扫描";async function d(){const t=await NeteaseApi.loginViaQRCode(),e=t[0];n(5,c=t[1].body.data.qrimg);let s=async()=>{const t=await NeteaseApi.validQRLogin(e);if(1!==a)return;let r=()=>setTimeout((async()=>{await s()}),500);switch(n(6,u=t.body.message),t.body.code){case 801:r();break;case 800:d();break;case 802:n(4,i.style.opacity=.32,i),r();break;case 803:store.set("cookie",t.body.cookie),async function(){const t=await NeteaseApi.getUserAccount(store.get("cookie"));store.set("profile",t.body.data.profile),o()}()}};s()}return[s,r,l,a,i,c,u,async function(){const t=await NeteaseApi.login(s,r);if(200!==t.body.code)return n(1,r=""),void n(2,l=!0);localStorage.setItem("profile",JSON.stringify(t.body.profile)),localStorage.setItem("token",JSON.stringify(t.body.token)),store.set("cookie",t.cookie.join("")),o()},["手机","二维码"],d,()=>{n(3,a=a?0:1),a&&d()},function(){s=this.value,n(0,s)},function(){r=this.value,n(1,r)},function(t){Z[t?"unshift":"push"]((()=>{i=t,n(4,i)}))}]}class Nn extends St{constructor(t){super(),Ut(this,t,Dn,En,i,{})}}function jn(e){let n,o,s,r,l,i,a,c,u,d,f,p;return n=new qt({props:{avatar:e[0].avatarUrl,width:120,height:120}}),n.$on("click",Tn),i=new He({props:{id:"profileName",value:e[0].nickname}}),f=new He({props:{id:"profileDesc",maxlength:300,value:e[0].description,singleLine:!1,cssText:"height: 120px"}}),{c(){Ct(n.$$.fragment),o=D(),s=P("div"),r=P("span"),r.textContent="昵称",l=D(),Ct(i.$$.fragment),a=D(),c=P("div"),u=P("span"),u.textContent="介绍",d=D(),Ct(f.$$.fragment),z(r,"class","svelte-1t36vlu"),z(s,"class","row input svelte-1t36vlu"),z(u,"class","svelte-1t36vlu"),z(c,"class","row input svelte-1t36vlu")},m(t,e){_t(n,t,e),L(t,o,e),L(t,s,e),C(s,r),C(s,l),_t(i,s,null),L(t,a,e),L(t,c,e),C(c,u),C(c,d),_t(f,c,null),p=!0},p:t,i(t){p||($t(n.$$.fragment,t),$t(i.$$.fragment,t),$t(f.$$.fragment,t),p=!0)},o(t){vt(n.$$.fragment,t),vt(i.$$.fragment,t),vt(f.$$.fragment,t),p=!1},d(t){At(n,t),t&&U(o),t&&U(s),At(i),t&&U(a),t&&U(c),At(f)}}}function Tn(){}function zn(t){return[store.get("profile")]}class Hn extends St{constructor(t){super(),Ut(this,t,zn,jn,i,{})}}function On(t){let e,n;return{c(){e=P("div"),n=E(t[5]),B(e,"color","var(--controlColor)"),B(e,"font-weight","bold"),B(e,"margin-bottom","12px"),B(e,"margin-left","calc(14px + "+t[0]+")")},m(t,o){L(t,e,o),C(e,n)},p(t,o){32&o&&H(n,t[5]),1&o&&B(e,"margin-left","calc(14px + "+t[0]+")")},d(t){t&&U(e)}}}function Bn(t){let e,n,o,s,r=t[5]&&On(t);const l=t[7].default,i=u(l,t,t[6],null);return{c(){e=P("div"),r&&r.c(),n=D(),o=P("div"),i&&i.c(),B(o,"border-radius",t[2]),B(o,"background-color",t[3]),B(o,"width","calc(100% - "+t[0]+" * 2)"),B(o,"height","fit-content"),B(o,"box-shadow","0px 0px 4px "+t[4]),B(o,"overflow","hidden"),B(o,"margin",t[1]+" "+t[0]),B(e,"margin-top","12px"),B(e,"width","100%")},m(t,l){L(t,e,l),r&&r.m(e,null),C(e,n),C(e,o),i&&i.m(o,null),s=!0},p(t,[a]){t[5]?r?r.p(t,a):(r=On(t),r.c(),r.m(e,n)):r&&(r.d(1),r=null),i&&i.p&&(!s||64&a)&&p(i,l,t,t[6],s?f(l,t[6],a,null):m(t[6]),null),(!s||4&a)&&B(o,"border-radius",t[2]),(!s||8&a)&&B(o,"background-color",t[3]),(!s||1&a)&&B(o,"width","calc(100% - "+t[0]+" * 2)"),(!s||16&a)&&B(o,"box-shadow","0px 0px 4px "+t[4]),(!s||3&a)&&B(o,"margin",t[1]+" "+t[0])},i(t){s||($t(i,t),s=!0)},o(t){vt(i,t),s=!1},d(t){t&&U(e),r&&r.d(),i&&i.d(t)}}}function Rn(t,e,n){let{$$slots:o={},$$scope:s}=e,{marginHorizon:r="10px"}=e,{marginVertical:l="0px"}=e,{radius:i="12px"}=e,{color:a="rgba(255,255,255,0.4)"}=e,{shadowColor:c="rgba(0,0,0,0.2)"}=e,{title:u=""}=e;return t.$$set=t=>{"marginHorizon"in t&&n(0,r=t.marginHorizon),"marginVertical"in t&&n(1,l=t.marginVertical),"radius"in t&&n(2,i=t.radius),"color"in t&&n(3,a=t.color),"shadowColor"in t&&n(4,c=t.shadowColor),"title"in t&&n(5,u=t.title),"$$scope"in t&&n(6,s=t.$$scope)},[r,l,i,a,c,u,s,o]}class Mn extends St{constructor(t){super(),Ut(this,t,Rn,Bn,i,{marginHorizon:0,marginVertical:1,radius:2,color:3,shadowColor:4,title:5})}}function In(t,e,n){const o=t.slice();return o[6]=e[n],o[8]=n,o}function Wn(t){let e,n,o,s,l,i=t[6]+"";function a(...e){return t[4](t[8],...e)}return{c(){e=P("div"),n=E(i),z(e,"class",o="btn outlined"+(t[0]===t[8]?" selected":"")+" svelte-mvb7d9")},m(t,o){L(t,e,o),C(e,n),s||(l=[j(e,"click",a),j(e,"mousedown",Yn)],s=!0)},p(s,r){t=s,2&r&&i!==(i=t[6]+"")&&H(n,i),1&r&&o!==(o="btn outlined"+(t[0]===t[8]?" selected":"")+" svelte-mvb7d9")&&z(e,"class",o)},d(t){t&&U(e),s=!1,r(l)}}}function qn(t){let e,n=t[1],o=[];for(let e=0;e<n.length;e+=1)o[e]=Wn(In(t,n,e));return{c(){e=P("div");for(let t=0;t<o.length;t+=1)o[t].c();z(e,"class","column"),B(e,"padding-top","8px")},m(t,n){L(t,e,n);for(let t=0;t<o.length;t+=1)o[t].m(e,null)},p(t,s){if(7&s){let r;for(n=t[1],r=0;r<n.length;r+=1){const l=In(t,n,r);o[r]?o[r].p(l,s):(o[r]=Wn(l),o[r].c(),o[r].m(e,null))}for(;r<o.length;r+=1)o[r].d(1);o.length=n.length}},d(t){t&&U(e),S(o,t)}}}function Fn(t){let e,o;const s=[t[3],{breakLine:!0}];let r={$$slots:{default:[qn]},$$scope:{ctx:t}};for(let t=0;t<s.length;t+=1)r=n(r,s[t]);return e=new Ln({props:r}),{c(){Ct(e.$$.fragment)},m(t,n){_t(e,t,n),o=!0},p(t,[n]){const o=8&n?xt(s,[bt(t[3]),s[1]]):{};515&n&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){o||($t(e.$$.fragment,t),o=!0)},o(t){vt(e.$$.fragment,t),o=!1},d(t){At(e,t)}}}const Yn=t=>t.stopPropagation();function Vn(t,e,o){let{dataList:s=[]}=e,{selected:r=0}=e;const l=J();function i(t,e){l("selected",e),o(0,r=e)}return t.$$set=t=>{o(3,e=n(n({},e),h(t))),"dataList"in t&&o(1,s=t.dataList),"selected"in t&&o(0,r=t.selected)},e=h(e),[r,s,i,e,(t,e)=>i(0,t)]}class Xn extends St{constructor(t){super(),Ut(this,t,Vn,Fn,i,{dataList:1,selected:0})}}function Jn(e){let n,o,s,l,i,a;return{c(){n=P("div"),o=P("div"),z(o,"class",s="switchThumb"+(e[0]?" thumb-active":"")+" svelte-9mloa7"),z(n,"class",l="switch"+(e[0]?" active":"")+" svelte-9mloa7")},m(t,s){L(t,n,s),C(n,o),i||(a=[j(n,"mousedown",T(Kn)),j(n,"click",T(e[1]))],i=!0)},p(t,[e]){1&e&&s!==(s="switchThumb"+(t[0]?" thumb-active":"")+" svelte-9mloa7")&&z(o,"class",s),1&e&&l!==(l="switch"+(t[0]?" active":"")+" svelte-9mloa7")&&z(n,"class",l)},i:t,o:t,d(t){t&&U(n),i=!1,r(a)}}}const Kn=()=>{};function Qn(t,e,n){let{checked:o=!1}=e;const s=J();function r(){n(0,o=!o),s("toggle",o)}return t.$$set=t=>{"checked"in t&&n(0,o=t.checked)},[o,r,function(){r()}]}class Gn extends St{constructor(t){super(),Ut(this,t,Qn,Jn,i,{checked:0,toggle:2})}get toggle(){return this.$$.ctx[2]}}function Zn(t){let e,n,o;function s(e){t[4](e)}let r={};return void 0!==t[0]&&(r.checked=t[0]),e=new Gn({props:r}),Z.push((()=>kt(e,"checked",s))),t[5](e),e.$on("toggle",t[2]),{c(){Ct(e.$$.fragment)},m(t,n){_t(e,t,n),o=!0},p(t,o){const s={};!n&&1&o&&(n=!0,s.checked=t[0],rt((()=>n=!1))),e.$set(s)},i(t){o||($t(e.$$.fragment,t),o=!0)},o(t){vt(e.$$.fragment,t),o=!1},d(n){t[5](null),At(e,n)}}}function to(t){let e,o;const s=[t[3]];let r={$$slots:{default:[Zn]},$$scope:{ctx:t}};for(let t=0;t<s.length;t+=1)r=n(r,s[t]);return e=new Ln({props:r}),e.$on("click",t[6]),{c(){Ct(e.$$.fragment)},m(t,n){_t(e,t,n),o=!0},p(t,[n]){const o=8&n?xt(s,[bt(t[3])]):{};259&n&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){o||($t(e.$$.fragment,t),o=!0)},o(t){vt(e.$$.fragment,t),o=!1},d(t){At(e,t)}}}function eo(t,e,o){let s,r=J(),{checked:l=!1}=e;return t.$$set=t=>{o(3,e=n(n({},e),h(t))),"checked"in t&&o(0,l=t.checked)},e=h(e),[l,s,function(t){let e=t.detail;r("toggle",e)},e,function(t){l=t,o(0,l)},function(t){Z[t?"unshift":"push"]((()=>{s=t,o(1,s)}))},()=>s.toggle()]}class no extends St{constructor(t){super(),Ut(this,t,eo,to,i,{checked:0})}}function oo(t){let e,n,o,s,r,l,i;function a(e){t[5](e)}function c(e){t[6](e)}let u={data:"主题色",useAvatar:!1,isUrl:!1};function d(e){t[7](e)}void 0!==t[0]&&(u.dataList=t[0]),void 0!==t[1]&&(u.selected=t[1]),e=new Xn({props:u}),Z.push((()=>kt(e,"dataList",a))),Z.push((()=>kt(e,"selected",c))),e.$on("selected",t[3]);let f={data:'使用 "Acrylic" ',extra:"性能较低的设备关闭此选项以获得更好的体验",useAvatar:!1,isUrl:!1};return void 0!==t[2]&&(f.checked=t[2]),r=new no({props:f}),Z.push((()=>kt(r,"checked",d))),r.$on("toggle",t[4]),{c(){Ct(e.$$.fragment),s=D(),Ct(r.$$.fragment)},m(t,n){_t(e,t,n),L(t,s,n),_t(r,t,n),i=!0},p(t,s){const i={};!n&&1&s&&(n=!0,i.dataList=t[0],rt((()=>n=!1))),!o&&2&s&&(o=!0,i.selected=t[1],rt((()=>o=!1))),e.$set(i);const a={};!l&&4&s&&(l=!0,a.checked=t[2],rt((()=>l=!1))),r.$set(a)},i(t){i||($t(e.$$.fragment,t),$t(r.$$.fragment,t),i=!0)},o(t){vt(e.$$.fragment,t),vt(r.$$.fragment,t),i=!1},d(t){At(e,t),t&&U(s),At(r,t)}}}function so(t){let e,n,o,s,r,l,i,a;return r=new He({props:{placeholder:"  搜索设置",fullBorder:!0}}),i=new Mn({props:{title:"主题",$$slots:{default:[oo]},$$scope:{ctx:t}}}),{c(){e=P("div"),n=P("div"),o=P("h1"),o.textContent="设置",s=D(),Ct(r.$$.fragment),l=D(),Ct(i.$$.fragment),z(o,"class","svelte-cndn71"),z(n,"class","column grid-margin svelte-cndn71"),B(n,"justify-content","space-between"),B(n,"width","calc(100% - 48px)"),z(e,"class","row c svelte-cndn71")},m(t,c){L(t,e,c),C(e,n),C(n,o),C(n,s),_t(r,n,null),C(e,l),_t(i,e,null),a=!0},p(t,e){const n={};519&e&&(n.$$scope={dirty:e,ctx:t}),i.$set(n)},i(t){a||($t(r.$$.fragment,t),$t(i.$$.fragment,t),a=!0)},o(t){vt(r.$$.fragment,t),vt(i.$$.fragment,t),a=!1},d(t){t&&U(e),At(r),At(i)}}}function ro(t){let e,n;return e=new we({props:{$$slots:{default:[so]},$$scope:{ctx:t}}}),{c(){Ct(e.$$.fragment)},m(t,o){_t(e,t,o),n=!0},p(t,[n]){const o={};519&n&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){n||($t(e.$$.fragment,t),n=!0)},o(t){vt(e.$$.fragment,t),n=!1},d(t){At(e,t)}}}function lo(t,e,n){let o=store.get("sys-settings"),s=o.theme.controlColor.slice(1),r=o.theme.controlColor[0],l=o.theme.useAcrylic;return[s,r,l,function(t){const e=t.detail;n(1,r=o.theme.controlColor[0]=e),appHooks.emit("changeControlColor",s[r]),store.set("sys-settings",o)},function(t){const e=t.detail;o.theme.useAcrylic=e,appHooks.emit("useAcrylic",e)},function(t){s=t,n(0,s)},function(t){r=t,n(1,r)},function(t){l=t,n(2,l)}]}class io extends St{constructor(t){super(),Ut(this,t,lo,ro,i,{})}}function ao(t){let e,n;return e=new Nn({}),{c(){Ct(e.$$.fragment)},m(t,o){_t(e,t,o),n=!0},i(t){n||($t(e.$$.fragment,t),n=!0)},o(t){vt(e.$$.fragment,t),n=!1},d(t){At(e,t)}}}function co(e){let n,o,s,r;return{c(){n=P("div"),o=P("div"),o.textContent="  修改个人信息",z(o,"class","btn outlined"),B(n,"padding-left","56px"),B(n,"margin","8px 0px")},m(t,l){L(t,n,l),C(n,o),s||(r=j(o,"click",e[6]),s=!0)},p:t,d(t){t&&U(n),s=!1,r()}}}function uo(e){let n,o;return n=new Ln({props:{isUrl:!1,style:"font-size: small",size:"small",avatar:"",data:"登陆"}}),n.$on("click",e[4]),{c(){Ct(n.$$.fragment)},m(t,e){_t(n,t,e),o=!0},p:t,i(t){o||($t(n.$$.fragment,t),o=!0)},o(t){vt(n.$$.fragment,t),o=!1},d(t){At(n,t)}}}function fo(e){let n,o;return n=new Ln({props:{style:"font-size: small",isUrl:!1,size:"small",avatar:"",data:"注销"}}),n.$on("click",e[5]),{c(){Ct(n.$$.fragment)},m(t,e){_t(n,t,e),o=!0},p:t,i(t){o||($t(n.$$.fragment,t),o=!0)},o(t){vt(n.$$.fragment,t),o=!1},d(t){At(n,t)}}}function po(t){let e,n,o,s,r,l,i,a,c,u,d,f,p,m,h,g,$,v;function y(e){t[8](e)}let w={$$slots:{default:[ao]},$$scope:{ctx:t}};void 0!==t[2]&&(w.showPopupWindow=t[2]),o=new ln({props:w}),Z.push((()=>kt(o,"showPopupWindow",y))),o.$on("layerClick",t[3]),l=new Ln({props:{isUrl:t[0].avatarUrl,avatar:t[0].avatarUrl||"",data:t[0].name,width:28,height:28,clickable:!1}});let x=t[1]&&co(t);const b=[fo,uo],k=[];function _(t,e){return t[1]?0:1}return c=_(t),u=k[c]=b[c](t),p=new Ln({props:{isUrl:!1,style:"font-size: small",size:"small",avatar:"",data:"设置"}}),p.$on("click",t[7]),h=new Ln({props:{isUrl:!1,style:"font-size: small",size:"small",avatar:"",data:"下载管理"}}),{c(){e=P("div"),n=P("header"),Ct(o.$$.fragment),r=D(),Ct(l.$$.fragment),i=D(),x&&x.c(),a=D(),u.c(),d=D(),f=P("div"),Ct(p.$$.fragment),m=D(),Ct(h.$$.fragment),g=D(),$=P("footer"),$.textContent="REM",z(n,"class","row svelte-ms8jvt"),z(f,"class","article row svelte-ms8jvt"),z($,"class","column svelte-ms8jvt"),z(e,"class","row c svelte-ms8jvt")},m(t,s){L(t,e,s),C(e,n),_t(o,n,null),C(n,r),_t(l,n,null),C(n,i),x&&x.m(n,null),C(n,a),k[c].m(n,null),C(e,d),C(e,f),_t(p,f,null),C(f,m),_t(h,f,null),C(e,g),C(e,$),v=!0},p(t,[e]){const r={};1024&e&&(r.$$scope={dirty:e,ctx:t}),!s&&4&e&&(s=!0,r.showPopupWindow=t[2],rt((()=>s=!1))),o.$set(r);const i={};1&e&&(i.isUrl=t[0].avatarUrl),1&e&&(i.avatar=t[0].avatarUrl||""),1&e&&(i.data=t[0].name),l.$set(i),t[1]?x?x.p(t,e):(x=co(t),x.c(),x.m(n,a)):x&&(x.d(1),x=null);let d=c;c=_(t),c===d?k[c].p(t,e):(ht(),vt(k[d],1,1,(()=>{k[d]=null})),gt(),u=k[c],u?u.p(t,e):(u=k[c]=b[c](t),u.c()),$t(u,1),u.m(n,null))},i(t){v||($t(o.$$.fragment,t),$t(l.$$.fragment,t),$t(u),$t(p.$$.fragment,t),$t(h.$$.fragment,t),v=!0)},o(t){vt(o.$$.fragment,t),vt(l.$$.fragment,t),vt(u),vt(p.$$.fragment,t),vt(h.$$.fragment,t),v=!1},d(t){t&&U(e),At(o),At(l),x&&x.d(),k[c].d(),At(p),At(h)}}}function mo(t,e,n){let o=K("close"),{user:s}=e,r=!!s.avatarUrl,l=!1;return t.$$set=t=>{"user"in t&&n(0,s=t.user)},[s,r,l,()=>{n(2,l=!1);const t=store.get("profile");t&&(n(0,s={avatarUrl:t.avatarUrl,name:t.nickname}),n(1,r=!!s.avatarUrl))},()=>{n(2,l=!0)},function(){store.rm("profile"),store.rm("token"),n(0,s={avatarUrl:"",name:"未登录"}),n(1,r=!!s.avatarUrl)},()=>{o(),Pager.openNew("个人信息",Hn,{})},function(){o(),Pager.openNew("设置",io,{})},function(t){l=t,n(2,l)}]}class ho extends St{constructor(t){super(),Ut(this,t,mo,po,i,{user:0})}}function go(t,e,n){const o=t.slice();return o[23]=e[n],o[33]=n,o}function $o(t,e,n){const o=t.slice();return o[23]=e[n],o}function vo(t,e,n){const o=t.slice();return o[23]=e[n],o}function yo(t,e,n){const o=t.slice();return o[23]=e[n],o}function wo(t,e,n){const o=t.slice();return o[23]=e[n],o}function xo(t){let e,n,o;function s(e){t[14](e)}let r={};return void 0!==t[2]&&(r.user=t[2]),e=new ho({props:r}),Z.push((()=>kt(e,"user",s))),{c(){Ct(e.$$.fragment)},m(t,n){_t(e,t,n),o=!0},p(t,o){const s={};!n&&4&o[0]&&(n=!0,s.user=t[2],rt((()=>n=!1))),e.$set(s)},i(t){o||($t(e.$$.fragment,t),o=!0)},o(t){vt(e.$$.fragment,t),o=!1},d(t){At(e,t)}}}function bo(t){let e,n,o=t[5],s=[];for(let e=0;e<o.length;e+=1)s[e]=Co(go(t,o,e));const r=t=>vt(s[t],1,1,(()=>{s[t]=null}));return{c(){for(let t=0;t<s.length;t+=1)s[t].c();e=N()},m(t,o){for(let e=0;e<s.length;e+=1)s[e].m(t,o);L(t,e,o),n=!0},p(t,n){if(552&n[0]){let l;for(o=t[5],l=0;l<o.length;l+=1){const r=go(t,o,l);s[l]?(s[l].p(r,n),$t(s[l],1)):(s[l]=Co(r),s[l].c(),$t(s[l],1),s[l].m(e.parentNode,e))}for(ht(),l=o.length;l<s.length;l+=1)r(l);gt()}},i(t){if(!n){for(let t=0;t<o.length;t+=1)$t(s[t]);n=!0}},o(t){s=s.filter(Boolean);for(let t=0;t<s.length;t+=1)vt(s[t]);n=!1},d(t){S(s,t),t&&U(e)}}}function ko(t){let e,n,o,s,r,l=t[6].songs&&_o(t),i=t[6].artists&&Lo(t),a=t[6].albums&&So(t),c=t[6].playlists&&Eo(t);return{c(){l&&l.c(),e=D(),i&&i.c(),n=D(),a&&a.c(),o=D(),c&&c.c(),s=N()},m(t,u){l&&l.m(t,u),L(t,e,u),i&&i.m(t,u),L(t,n,u),a&&a.m(t,u),L(t,o,u),c&&c.m(t,u),L(t,s,u),r=!0},p(t,r){t[6].songs?l?(l.p(t,r),64&r[0]&&$t(l,1)):(l=_o(t),l.c(),$t(l,1),l.m(e.parentNode,e)):l&&(ht(),vt(l,1,1,(()=>{l=null})),gt()),t[6].artists?i?(i.p(t,r),64&r[0]&&$t(i,1)):(i=Lo(t),i.c(),$t(i,1),i.m(n.parentNode,n)):i&&(ht(),vt(i,1,1,(()=>{i=null})),gt()),t[6].albums?a?(a.p(t,r),64&r[0]&&$t(a,1)):(a=So(t),a.c(),$t(a,1),a.m(o.parentNode,o)):a&&(ht(),vt(a,1,1,(()=>{a=null})),gt()),t[6].playlists?c?(c.p(t,r),64&r[0]&&$t(c,1)):(c=Eo(t),c.c(),$t(c,1),c.m(s.parentNode,s)):c&&(ht(),vt(c,1,1,(()=>{c=null})),gt())},i(t){r||($t(l),$t(i),$t(a),$t(c),r=!0)},o(t){vt(l),vt(i),vt(a),vt(c),r=!1},d(t){l&&l.d(t),t&&U(e),i&&i.d(t),t&&U(n),a&&a.d(t),t&&U(o),c&&c.d(t),t&&U(s)}}}function Co(t){let e,n;return e=new Ln({props:{size:"small",data:t[23],isUrl:!1,avatar:t[33]+1}}),e.$on("mousedown",(function(){return t[19](t[23])})),{c(){Ct(e.$$.fragment)},m(t,o){_t(e,t,o),n=!0},p(n,o){t=n;const s={};32&o[0]&&(s.data=t[23]),e.$set(s)},i(t){n||($t(e.$$.fragment,t),n=!0)},o(t){vt(e.$$.fragment,t),n=!1},d(t){At(e,t)}}}function _o(t){let e,n,o,s,r=t[6].songs,l=[];for(let e=0;e<r.length;e+=1)l[e]=Ao(wo(t,r,e));const i=t=>vt(l[t],1,1,(()=>{l[t]=null}));return{c(){e=P("div"),e.textContent="歌曲",n=D();for(let t=0;t<l.length;t+=1)l[t].c();o=N(),z(e,"class","title svelte-1oc67v8")},m(t,r){L(t,e,r),L(t,n,r);for(let e=0;e<l.length;e+=1)l[e].m(t,r);L(t,o,r),s=!0},p(t,e){if(584&e[0]){let n;for(r=t[6].songs,n=0;n<r.length;n+=1){const s=wo(t,r,n);l[n]?(l[n].p(s,e),$t(l[n],1)):(l[n]=Ao(s),l[n].c(),$t(l[n],1),l[n].m(o.parentNode,o))}for(ht(),n=r.length;n<l.length;n+=1)i(n);gt()}},i(t){if(!s){for(let t=0;t<r.length;t+=1)$t(l[t]);s=!0}},o(t){l=l.filter(Boolean);for(let t=0;t<l.length;t+=1)vt(l[t]);s=!1},d(t){t&&U(e),t&&U(n),S(l,t),t&&U(o)}}}function Ao(t){let e,n;return e=new Ln({props:{size:"small",data:t[23].name,isUrl:!1,avatar:""}}),e.$on("mousedown",(function(){return t[15](t[23])})),{c(){Ct(e.$$.fragment)},m(t,o){_t(e,t,o),n=!0},p(n,o){t=n;const s={};64&o[0]&&(s.data=t[23].name),e.$set(s)},i(t){n||($t(e.$$.fragment,t),n=!0)},o(t){vt(e.$$.fragment,t),n=!1},d(t){At(e,t)}}}function Lo(t){let e,n,o,s,r,l,i=t[6].artists,a=[];for(let e=0;e<i.length;e+=1)a[e]=Uo(yo(t,i,e));const c=t=>vt(a[t],1,1,(()=>{a[t]=null}));return{c(){e=P("div"),n=D(),o=P("div"),o.textContent="艺术家",s=D();for(let t=0;t<a.length;t+=1)a[t].c();r=N(),B(e,"height","1px"),B(e,"background-color","#ddd"),z(o,"class","title svelte-1oc67v8")},m(t,i){L(t,e,i),L(t,n,i),L(t,o,i),L(t,s,i);for(let e=0;e<a.length;e+=1)a[e].m(t,i);L(t,r,i),l=!0},p(t,e){if(584&e[0]){let n;for(i=t[6].artists,n=0;n<i.length;n+=1){const o=yo(t,i,n);a[n]?(a[n].p(o,e),$t(a[n],1)):(a[n]=Uo(o),a[n].c(),$t(a[n],1),a[n].m(r.parentNode,r))}for(ht(),n=i.length;n<a.length;n+=1)c(n);gt()}},i(t){if(!l){for(let t=0;t<i.length;t+=1)$t(a[t]);l=!0}},o(t){a=a.filter(Boolean);for(let t=0;t<a.length;t+=1)vt(a[t]);l=!1},d(t){t&&U(e),t&&U(n),t&&U(o),t&&U(s),S(a,t),t&&U(r)}}}function Uo(t){let e,n;return e=new Ln({props:{size:"small",data:t[23].name,isUrl:!0,avatar:t[23].img1v1Url,width:24,height:24}}),e.$on("mousedown",(function(){return t[16](t[23])})),{c(){Ct(e.$$.fragment)},m(t,o){_t(e,t,o),n=!0},p(n,o){t=n;const s={};64&o[0]&&(s.data=t[23].name),64&o[0]&&(s.avatar=t[23].img1v1Url),e.$set(s)},i(t){n||($t(e.$$.fragment,t),n=!0)},o(t){vt(e.$$.fragment,t),n=!1},d(t){At(e,t)}}}function So(t){let e,n,o,s,r,l,i=t[6].albums,a=[];for(let e=0;e<i.length;e+=1)a[e]=Po(vo(t,i,e));const c=t=>vt(a[t],1,1,(()=>{a[t]=null}));return{c(){e=P("div"),n=D(),o=P("div"),o.textContent="专辑",s=D();for(let t=0;t<a.length;t+=1)a[t].c();r=N(),B(e,"height","1px"),B(e,"background-color","#ddd"),z(o,"class","title svelte-1oc67v8")},m(t,i){L(t,e,i),L(t,n,i),L(t,o,i),L(t,s,i);for(let e=0;e<a.length;e+=1)a[e].m(t,i);L(t,r,i),l=!0},p(t,e){if(584&e[0]){let n;for(i=t[6].albums,n=0;n<i.length;n+=1){const o=vo(t,i,n);a[n]?(a[n].p(o,e),$t(a[n],1)):(a[n]=Po(o),a[n].c(),$t(a[n],1),a[n].m(r.parentNode,r))}for(ht(),n=i.length;n<a.length;n+=1)c(n);gt()}},i(t){if(!l){for(let t=0;t<i.length;t+=1)$t(a[t]);l=!0}},o(t){a=a.filter(Boolean);for(let t=0;t<a.length;t+=1)vt(a[t]);l=!1},d(t){t&&U(e),t&&U(n),t&&U(o),t&&U(s),S(a,t),t&&U(r)}}}function Po(t){let e,n;return e=new Ln({props:{size:"small",data:t[23].name,isUrl:!1,avatar:" "}}),e.$on("mousedown",(function(){return t[17](t[23])})),{c(){Ct(e.$$.fragment)},m(t,o){_t(e,t,o),n=!0},p(n,o){t=n;const s={};64&o[0]&&(s.data=t[23].name),e.$set(s)},i(t){n||($t(e.$$.fragment,t),n=!0)},o(t){vt(e.$$.fragment,t),n=!1},d(t){At(e,t)}}}function Eo(t){let e,n,o,s,r,l,i=t[6].playlists,a=[];for(let e=0;e<i.length;e+=1)a[e]=Do($o(t,i,e));const c=t=>vt(a[t],1,1,(()=>{a[t]=null}));return{c(){e=P("div"),n=D(),o=P("div"),o.textContent="歌单",s=D();for(let t=0;t<a.length;t+=1)a[t].c();r=N(),B(e,"height","1px"),B(e,"background-color","#ddd"),z(o,"class","title svelte-1oc67v8")},m(t,i){L(t,e,i),L(t,n,i),L(t,o,i),L(t,s,i);for(let e=0;e<a.length;e+=1)a[e].m(t,i);L(t,r,i),l=!0},p(t,e){if(584&e[0]){let n;for(i=t[6].playlists,n=0;n<i.length;n+=1){const o=$o(t,i,n);a[n]?(a[n].p(o,e),$t(a[n],1)):(a[n]=Do(o),a[n].c(),$t(a[n],1),a[n].m(r.parentNode,r))}for(ht(),n=i.length;n<a.length;n+=1)c(n);gt()}},i(t){if(!l){for(let t=0;t<i.length;t+=1)$t(a[t]);l=!0}},o(t){a=a.filter(Boolean);for(let t=0;t<a.length;t+=1)vt(a[t]);l=!1},d(t){t&&U(e),t&&U(n),t&&U(o),t&&U(s),S(a,t),t&&U(r)}}}function Do(t){let e,n;return e=new Ln({props:{size:"small",data:t[23].name,isUrl:!0,avatar:t[23].coverImgUrl,width:24,height:24}}),e.$on("mousedown",(function(){return t[18](t[23])})),{c(){Ct(e.$$.fragment)},m(t,o){_t(e,t,o),n=!0},p(n,o){t=n;const s={};64&o[0]&&(s.data=t[23].name),64&o[0]&&(s.avatar=t[23].coverImgUrl),e.$set(s)},i(t){n||($t(e.$$.fragment,t),n=!0)},o(t){vt(e.$$.fragment,t),n=!1},d(t){At(e,t)}}}function No(t){let e,n,o,s;const r=[ko,bo],l=[];function i(t,e){return t[6]?0:1}return e=i(t),n=l[e]=r[e](t),{c(){n.c(),o=N()},m(t,n){l[e].m(t,n),L(t,o,n),s=!0},p(t,s){let a=e;e=i(t),e===a?l[e].p(t,s):(ht(),vt(l[a],1,1,(()=>{l[a]=null})),gt(),n=l[e],n?n.p(t,s):(n=l[e]=r[e](t),n.c()),$t(n,1),n.m(o.parentNode,o))},i(t){s||($t(n),s=!0)},o(t){vt(n),s=!1},d(t){l[e].d(t),t&&U(o)}}}function jo(t){let e,n,o,s,l,i,a,c,u,d,f,p,m,h,g;return c=new qt({props:{size:"big",isUrl:t[0],avatar:t[0]||"",width:32,height:32}}),c.$on("click",t[7]),d=new ln({props:{showPopupWindow:t[1],cssText:"position: absolute; top: 54px;",$$slots:{default:[xo]},$$scope:{ctx:t}}}),d.$on("layerClick",t[8]),d.$on("animIn",To),p=new ln({props:{noLayer:!0,showPopupWindow:t[4],cssText:"position: fixed; top: 54px; width: 360px; overflow: hidden; max-height: calc(100vh - 148px); min-height: 0",$$slots:{default:[No]},$$scope:{ctx:t}}}),p.$on("layerClick",t[20]),{c(){e=P("div"),n=P("div"),o=P("span"),s=D(),l=P("input"),i=D(),a=P("div"),Ct(c.$$.fragment),u=D(),Ct(d.$$.fragment),f=D(),Ct(p.$$.fragment),z(o,"class","iconfont icon-search avatar menu svelte-1oc67v8"),z(l,"type","text"),z(l,"class","input svelte-1oc67v8"),z(l,"placeholder","搜索歌曲和歌手"),z(a,"class","avatar-container svelte-1oc67v8"),z(n,"class","column search svelte-1oc67v8"),z(e,"class","column svelte-1oc67v8"),B(e,"margin-left","48px")},m(r,$){L(r,e,$),C(e,n),C(n,o),C(n,s),C(n,l),O(l,t[3]),C(n,i),C(n,a),_t(c,a,null),C(e,u),_t(d,e,null),C(e,f),_t(p,e,null),m=!0,h||(g=[j(o,"click",t[9]),j(l,"input",t[12]),j(l,"change",t[9]),j(l,"focus",t[10]),j(l,"blur",t[13]),j(l,"input",t[11])],h=!0)},p(t,e){8&e[0]&&l.value!==t[3]&&O(l,t[3]);const n={};1&e[0]&&(n.isUrl=t[0]),1&e[0]&&(n.avatar=t[0]||""),c.$set(n);const o={};2&e[0]&&(o.showPopupWindow=t[1]),4&e[0]|8&e[1]&&(o.$$scope={dirty:e,ctx:t}),d.$set(o);const s={};16&e[0]&&(s.showPopupWindow=t[4]),104&e[0]|8&e[1]&&(s.$$scope={dirty:e,ctx:t}),p.$set(s)},i(t){m||($t(c.$$.fragment,t),$t(d.$$.fragment,t),$t(p.$$.fragment,t),m=!0)},o(t){vt(c.$$.fragment,t),vt(d.$$.fragment,t),vt(p.$$.fragment,t),m=!1},d(t){t&&U(e),At(c),At(d),At(p),h=!1,r(g)}}}function To(t){t.detail.animate({transform:["translate(-20px, -32px) scale(0.9)","translate(0px, 0px) scale(1)"],opacity:[0,1]},100)}function zo(t,e,n){let o=!1;let s=store.get("profile"),r={avatarUrl:"",name:"未登录"},{avatarUrl:l=(s?s.avatarUrl:"")}=e;function i(){s&&n(2,r={avatarUrl:s.avatarUrl,name:s.nickname}),n(0,l=s?s.avatarUrl:"")}i(),appHooks.on("__updateLoginAvatar",(()=>{s=store.get("profile"),i()}));let a,c,u=!1,d=[];async function f(){await NeteaseApi.search(a)}return t.$$set=t=>{"avatarUrl"in t&&n(0,l=t.avatarUrl)},[l,o,r,a,u,d,c,()=>n(1,o=!0),()=>{n(1,o=!1);const t=store.get("profile");t&&n(2,r={avatarUrl:t.avatarUrl,name:t.nickname}),n(0,l=t?t.avatarUrl:"")},f,async function(){n(5,d=(await NeteaseApi.search()).body.result.hots.reduce(((t,e)=>[...t,e.first]),[])),n(4,u=!0)},async function(){if(!a)return n(6,c=null);const t=(await NeteaseApi.suggest(a)).body.result;console.log(t),Object.keys(t).length&&n(6,c=t)},function(){a=this.value,n(3,a)},()=>setTimeout((()=>n(4,u=!1))),function(t){r=t,n(2,r)},t=>{n(3,a=`${t.name}`),f()},t=>{n(3,a=`${t.name}`),f()},t=>{n(3,a=`${t.name}`),f()},t=>{n(3,a=`${t.name}`),f()},t=>{n(3,a=t),f()},()=>n(4,u=!1)]}class Ho extends St{constructor(t){super(),Ut(this,t,zo,jo,i,{avatarUrl:0},null,[-1,-1])}}function Oo(t){let e,n,o,s,l,i,a,c,u,d,f,p,m,h,g,$=t[0]?"◱":"▢";return s=new Ho({}),{c(){e=P("div"),n=P("div"),n.textContent="REM",o=D(),Ct(s.$$.fragment),l=D(),i=P("div"),a=P("div"),a.textContent="–",c=D(),u=P("div"),d=E($),f=D(),p=P("div"),p.textContent="⨉",z(n,"class","title debug svelte-1diabot"),z(a,"class","column clk svelte-1diabot"),z(u,"class","column clk svelte-1diabot"),z(p,"class","column clk red svelte-1diabot"),z(i,"class","column btn-group svelte-1diabot"),z(e,"class","column container svelte-1diabot")},m(r,$){L(r,e,$),C(e,n),C(e,o),_t(s,e,null),C(e,l),C(e,i),C(i,a),C(i,c),C(i,u),C(u,d),C(i,f),C(i,p),m=!0,h||(g=[j(a,"click",Bo),j(u,"click",t[1]),j(p,"click",Ro)],h=!0)},p(t,[e]){(!m||1&e)&&$!==($=t[0]?"◱":"▢")&&H(d,$)},i(t){m||($t(s.$$.fragment,t),m=!0)},o(t){vt(s.$$.fragment,t),m=!1},d(t){t&&U(e),At(s),h=!1,r(g)}}}function Bo(){hooks.send("win:min")}function Ro(){hooks.send("win:close")}function Mo(t,e,n){let o=!1;return[o,function(){if(o)return hooks.send("win:unmax"),void n(0,o=!1);hooks.send("win:max"),n(0,o=!0)}]}class Io extends St{constructor(t){super(),Ut(this,t,Mo,Oo,i,{})}}function Wo(t){let e,n,o,s,r,l,i,a,u,d,f,p,m,h,g;function $(e){t[8](e)}function v(e){t[9](e)}r=new Io({});let y={};void 0!==t[0]&&(y.selected=t[0]),void 0!==t[1]&&(y.tabs=t[1]),i=new Bt({props:y}),Z.push((()=>kt(i,"selected",$))),Z.push((()=>kt(i,"tabs",v))),p=new ie({});return h=new pe({props:{}}),t[10](h),{c(){e=P("div"),n=P("img"),s=D(),Ct(r.$$.fragment),l=D(),Ct(i.$$.fragment),d=D(),f=P("div"),Ct(p.$$.fragment),m=D(),Ct(h.$$.fragment),z(n,"class","wallpaper svelte-pzugcb"),c(n.src,o=t[3])||z(n,"src",o),z(n,"alt",""),z(n,"width",t[5]),z(f,"class","row window svelte-pzugcb"),B(e,"transition","background-color 0.2s"),B(e,"background-color","var("+(t[4]?"--acrylicBackgroundColor":"--noneAcrylicBackgroundColor")+")")},m(o,a){L(o,e,a),C(e,n),t[7](n),C(e,s),_t(r,e,null),C(e,l),_t(i,e,null),C(e,d),C(e,f),_t(p,f,null),C(f,m),_t(h,f,null),g=!0},p(t,[s]){(!g||8&s&&!c(n.src,o=t[3]))&&z(n,"src",o),(!g||32&s)&&z(n,"width",t[5]);const r={};!a&&1&s&&(a=!0,r.selected=t[0],rt((()=>a=!1))),!u&&2&s&&(u=!0,r.tabs=t[1],rt((()=>u=!1))),i.$set(r);h.$set({}),(!g||16&s)&&B(e,"background-color","var("+(t[4]?"--acrylicBackgroundColor":"--noneAcrylicBackgroundColor")+")")},i(t){g||($t(r.$$.fragment,t),$t(i.$$.fragment,t),$t(p.$$.fragment,t),$t(h.$$.fragment,t),g=!0)},o(t){vt(r.$$.fragment,t),vt(i.$$.fragment,t),vt(p.$$.fragment,t),vt(h.$$.fragment,t),g=!1},d(n){n&&U(e),t[7](null),At(r),At(i),At(p),t[10](null),At(h)}}}function qo(){return new Promise((t=>{hooks.once("win:bounds",((e,n)=>{t(n)})),hooks.send("winquery:bounds")}))}function Fo(t,e,n){window.appHooks=new te({captureRejections:!0});let o=Ze;store.get("profile")?NeteaseApi.checkIn(store.get("cookie")):o=Nn;let s,r=-1,l=[o,en],i=["我的","发现"];window.Pager=(()=>{let t=[{},{}],e=[0],o=(new Map).set("我的",{}).set("发现",{}),a=[];function c(e,s,r={},a=!1){if(p(e)){if(a){const n=i.indexOf(e);return l[n]=s,t[n]=r,!1}return!0}return l.push(s),i.push(e),n(1,i),t.push(r),o.set(e,{}),!0}function u(o,c=!1){(o<0||o>=i.length)&&(o=0);let u=t[o];"function"==typeof u&&(u=u()),(r!==o||c)&&(a.forEach((t=>t.call(null))),a=[],e[o]=i[r],s.display(l[o],u),n(0,r=o))}function d(t,e=!1){"number"!=typeof t&&(t=i.indexOf(t)),u(t,e)}function f(s){(s<0||s>=i.length)&&(s=0),o.delete(i[r]),a=[],l=l.slice(0,s).concat(l.slice(s+1)),n(1,i=i.slice(0,s).concat(i.slice(s+1)));let c="function"==typeof t[s]?t[s]().onTabDestroy:t[s].onTabDestroy;t=t.slice(0,s).concat(t.slice(s+1)),"function"==typeof c&&c(s),function(){let t=i.indexOf(e[r]);!~t&&(t=0),u(t,!0)}()}function p(t){return"string"==typeof t?~i.indexOf(t):~l.indexOf(t)}return{add:c,select:d,remove:function(t){"number"!=typeof t&&(t=i.indexOf(t)),f(t)},has:p,openNew:function(t,e,n,o=!1){if(c(t,e,n,o))return d(t);d(t,!0)},getContext:function(){const e=l[r],n=i[r];return{name:n,class:e,props:t[r],save:o.get(n)}},beforeSwitch:function(t){a.push(t)}}})();let a,c=store.get("sys-settings"),u=!1;!async function(){n(3,a=await async function(){let t=await wallpaper.getWallpaper(),e="",n=t.length;for(let o=0;o<n;o++)e+=String.fromCharCode(t[o]);return`data:image/jpeg;base64,${btoa(e)}`}())}(),appHooks.on("__openMinePage",(()=>{window.Pager.openNew("我的",Ze,{},!0)})),hooks.on("win:screenMove",((t,e)=>{p(e.x,e.y)})),hooks.send("winbind:move");let d,f=1080;function p(t,e){u&&d&&(d.style.setProperty("--top",-e+"px"),d.style.setProperty("--left",-t+"px"))}(async()=>{let t=await qo(),e=await new Promise((t=>{hooks.once("win:screenSize",((e,n)=>{t(n)})),hooks.send("winquery:screenSize")}));window.Pager.select(0),n(5,f=e.width),p(t.x,t.y)})(),appHooks.on("playerReady",(()=>{__setColor(document.body,d,1)})),appHooks.on("changeControlColor",(t=>{document.body.style.setProperty("--controlColor",t)})),appHooks.on("useAcrylic",(async t=>{if(c.theme.useAcrylic=n(4,u=t),t){let t=await qo();p(t.x,t.y)}store.set("sys-settings",c)})),c||(c={theme:{controlColor:[0,"dodgerblue","teal","darkred","gold"],useAcrylic:!0}},store.set("sys-settings",c));let m=c.theme.controlColor.slice(1),h=c.theme.controlColor[0];return appHooks.emit("changeControlColor",m[h]),appHooks.emit("useAcrylic",c.theme.useAcrylic),[r,i,s,a,u,f,d,function(t){Z[t?"unshift":"push"]((()=>{d=t,n(6,d)}))},function(t){r=t,n(0,r)},function(t){i=t,n(1,i)},function(t){Z[t?"unshift":"push"]((()=>{s=t,n(2,s)}))}]}let Yo={};const Vo={get(t){if(Yo[t])return Yo[t];let e=null,n=localStorage.getItem(t);try{e=JSON.parse(n)}catch(t){e=n}return null!=e?Yo[t]=e:void 0},set(t,e){Yo[t]=e,localStorage.setItem(t,"string"==typeof e?e:JSON.stringify(e))},setCache(t,e){Yo[t]=e},rm(t){Yo[t]&&(Yo[t]=null),localStorage.removeItem(t)},has(t){return!!Yo[t]||!!this.get(t)}};return window.store=Vo,new class extends St{constructor(t){super(),Ut(this,t,Fo,Wo,i,{})}}({target:document.body})}();
