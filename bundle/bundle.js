var app=function(){"use strict";function t(){}const e=t=>t;function n(t,e){for(const n in e)t[n]=e[n];return t}function s(t){return t()}function o(){return Object.create(null)}function r(t){t.forEach(s)}function l(t){return"function"==typeof t}function i(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}let c;function a(t,e){return c||(c=document.createElement("a")),c.href=e,t===c.href}function u(t,e,n,s){if(t){const o=d(t,e,n,s);return t[0](o)}}function d(t,e,s,o){return t[1]&&o?n(s.ctx.slice(),t[1](o(e))):s.ctx}function f(t,e,n,s){if(t[2]&&s){const o=t[2](s(n));if(void 0===e.dirty)return o;if("object"==typeof o){const t=[],n=Math.max(e.dirty.length,o.length);for(let s=0;s<n;s+=1)t[s]=e.dirty[s]|o[s];return t}return e.dirty|o}return e.dirty}function p(t,e,n,s,o,r){if(o){const l=d(e,n,s,r);t.p(l,o)}}function m(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let t=0;t<n;t++)e[t]=-1;return e}return-1}function h(t){const e={};for(const n in t)"$"!==n[0]&&(e[n]=t[n]);return e}function $(t){return null==t?"":t}function g(e){return e&&l(e.destroy)?e.destroy:t}const v="undefined"!=typeof window;let y=v?()=>window.performance.now():()=>Date.now(),w=v?t=>requestAnimationFrame(t):t;const x=new Set;function b(t){x.forEach((e=>{e.c(t)||(x.delete(e),e.f())})),0!==x.size&&w(b)}function k(t){let e;return 0===x.size&&w(b),{promise:new Promise((n=>{x.add(e={c:t,f:n})})),abort(){x.delete(e)}}}function C(t,e){t.appendChild(e)}function _(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function L(t){const e=S("style");return function(t,e){C(t.head||t,e)}(_(t),e),e.sheet}function A(t,e,n){t.insertBefore(e,n||null)}function U(t){t.parentNode.removeChild(t)}function P(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function S(t){return document.createElement(t)}function D(t){return document.createTextNode(t)}function q(){return D(" ")}function E(){return D("")}function N(t,e,n,s){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n,s)}function T(t){return function(e){return e.stopPropagation(),t.call(this,e)}}function z(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function O(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function j(t,e){t.value=null==e?"":e}function M(t,e,n,s){null===n?t.style.removeProperty(e):t.style.setProperty(e,n,s?"important":"")}function B(t,e,{bubbles:n=!1,cancelable:s=!1}={}){const o=document.createEvent("CustomEvent");return o.initCustomEvent(t,n,s,e),o}const R=new Map;let I,W=0;function H(t,e,n,s,o,r,l,i=0){const c=16.666/s;let a="{\n";for(let t=0;t<=1;t+=c){const s=e+(n-e)*r(t);a+=100*t+`%{${l(s,1-s)}}\n`}const u=a+`100% {${l(n,1-n)}}\n}`,d=`__svelte_${function(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}(u)}_${i}`,f=_(t),{stylesheet:p,rules:m}=R.get(f)||function(t,e){const n={stylesheet:L(e),rules:{}};return R.set(t,n),n}(f,t);m[d]||(m[d]=!0,p.insertRule(`@keyframes ${d} ${u}`,p.cssRules.length));const h=t.style.animation||"";return t.style.animation=`${h?`${h}, `:""}${d} ${s}ms linear ${o}ms 1 both`,W+=1,d}function F(t,e){const n=(t.style.animation||"").split(", "),s=n.filter(e?t=>t.indexOf(e)<0:t=>-1===t.indexOf("__svelte")),o=n.length-s.length;o&&(t.style.animation=s.join(", "),W-=o,W||w((()=>{W||(R.forEach((t=>{const{stylesheet:e}=t;let n=e.cssRules.length;for(;n--;)e.deleteRule(n);t.rules={}})),R.clear())})))}function X(t){I=t}function Y(){if(!I)throw new Error("Function called outside component initialization");return I}function V(t){Y().$$.on_mount.push(t)}function J(t){Y().$$.on_destroy.push(t)}function K(){const t=Y();return(e,n,{cancelable:s=!1}={})=>{const o=t.$$.callbacks[e];if(o){const r=B(e,n,{cancelable:s});return o.slice().forEach((e=>{e.call(t,r)})),!r.defaultPrevented}return!0}}function Q(t,e){return Y().$$.context.set(t,e),e}function G(t){return Y().$$.context.get(t)}function Z(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach((t=>t.call(this,e)))}const tt=[],et=[],nt=[],st=[],ot=Promise.resolve();let rt=!1;function lt(t){nt.push(t)}function it(t){st.push(t)}const ct=new Set;let at,ut=0;function dt(){const t=I;do{for(;ut<tt.length;){const t=tt[ut];ut++,X(t),ft(t.$$)}for(X(null),tt.length=0,ut=0;et.length;)et.pop()();for(let t=0;t<nt.length;t+=1){const e=nt[t];ct.has(e)||(ct.add(e),e())}nt.length=0}while(tt.length);for(;st.length;)st.pop()();rt=!1,ct.clear(),X(t)}function ft(t){if(null!==t.fragment){t.update(),r(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(lt)}}function pt(){return at||(at=Promise.resolve(),at.then((()=>{at=null}))),at}function mt(t,e,n){t.dispatchEvent(B(`${e?"intro":"outro"}${n}`))}const ht=new Set;let $t;function gt(){$t={r:0,c:[],p:$t}}function vt(){$t.r||r($t.c),$t=$t.p}function yt(t,e){t&&t.i&&(ht.delete(t),t.i(e))}function wt(t,e,n,s){if(t&&t.o){if(ht.has(t))return;ht.add(t),$t.c.push((()=>{ht.delete(t),s&&(n&&t.d(1),s())})),t.o(e)}}const xt={duration:0};function bt(n,s,o){let i,c=s(n,o),a=!0;const u=$t;function d(){const{delay:s=0,duration:o=300,easing:l=e,tick:d=t,css:f}=c||xt;f&&(i=H(n,1,0,o,s,l,f));const p=y()+s,m=p+o;lt((()=>mt(n,!1,"start"))),k((t=>{if(a){if(t>=m)return d(0,1),mt(n,!1,"end"),--u.r||r(u.c),!1;if(t>=p){const e=l((t-p)/o);d(1-e,e)}}return a}))}return u.r+=1,l(c)?pt().then((()=>{c=c(),d()})):d(),{end(t){t&&c.tick&&c.tick(1,0),a&&(i&&F(n,i),a=!1)}}}function kt(t,e){const n={},s={},o={$$scope:1};let r=t.length;for(;r--;){const l=t[r],i=e[r];if(i){for(const t in l)t in i||(s[t]=1);for(const t in i)o[t]||(n[t]=i[t],o[t]=1);t[r]=i}else for(const t in l)o[t]=1}for(const t in s)t in n||(n[t]=void 0);return n}function Ct(t){return"object"==typeof t&&null!==t?t:{}}function _t(t,e,n){const s=t.$$.props[e];void 0!==s&&(t.$$.bound[s]=n,n(t.$$.ctx[s]))}function Lt(t){t&&t.c()}function At(t,e,n,o){const{fragment:i,on_mount:c,on_destroy:a,after_update:u}=t.$$;i&&i.m(e,n),o||lt((()=>{const e=c.map(s).filter(l);a?a.push(...e):r(e),t.$$.on_mount=[]})),u.forEach(lt)}function Ut(t,e){const n=t.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Pt(t,e){-1===t.$$.dirty[0]&&(tt.push(t),rt||(rt=!0,ot.then(dt)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function St(e,n,s,l,i,c,a,u=[-1]){const d=I;X(e);const f=e.$$={fragment:null,ctx:null,props:c,update:t,not_equal:i,bound:o(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(n.context||(d?d.$$.context:[])),callbacks:o(),dirty:u,skip_bound:!1,root:n.target||d.$$.root};a&&a(f.root);let p=!1;if(f.ctx=s?s(e,n.props||{},((t,n,...s)=>{const o=s.length?s[0]:n;return f.ctx&&i(f.ctx[t],f.ctx[t]=o)&&(!f.skip_bound&&f.bound[t]&&f.bound[t](o),p&&Pt(e,t)),n})):[],f.update(),p=!0,r(f.before_update),f.fragment=!!l&&l(f.ctx),n.target){if(n.hydrate){const t=function(t){return Array.from(t.childNodes)}(n.target);f.fragment&&f.fragment.l(t),t.forEach(U)}else f.fragment&&f.fragment.c();n.intro&&yt(e.$$.fragment),At(e,n.target,n.anchor,n.customElement),dt()}X(d)}class Dt{$destroy(){Ut(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function qt(t,e,n){const s=t.slice();return s[8]=e[n],s[10]=n,s}function Et(t){let e,n,s,o,r=t[8]+"";function l(){return t[6](t[10])}return{c(){e=S("div"),n=D(r),z(e,"class","tab tab-text svelte-1db85j0")},m(t,r){A(t,e,r),C(e,n),s||(o=N(e,"click",l),s=!0)},p(e,s){t=e,1&s&&r!==(r=t[8]+"")&&O(n,r)},d(t){t&&U(e),s=!1,o()}}}function Nt(t){let e;function n(t,e){return"我的"===t[8]||"发现"===t[8]?zt:Tt}let s=n(t),o=s(t);return{c(){o.c(),e=E()},m(t,n){o.m(t,n),A(t,e,n)},p(t,r){s===(s=n(t))&&o?o.p(t,r):(o.d(1),o=s(t),o&&(o.c(),o.m(e.parentNode,e)))},d(t){o.d(t),t&&U(e)}}}function Tt(t){let e,n,s,o,l,i,c,a,u=t[8]+"";function d(){return t[5](t[10])}return{c(){e=S("div"),n=S("span"),s=D(u),o=q(),l=S("div"),l.textContent="⨯",i=q(),z(n,"class","tab-text svelte-1db85j0"),z(l,"class","column cross svelte-1db85j0"),z(e,"class","tab selected column svelte-1db85j0"),M(e,"padding-right","2px")},m(r,u){A(r,e,u),C(e,n),C(n,s),C(e,o),C(e,l),C(e,i),c||(a=[N(l,"click",t[3]),N(e,"click",d)],c=!0)},p(e,n){t=e,1&n&&u!==(u=t[8]+"")&&O(s,u)},d(t){t&&U(e),c=!1,r(a)}}}function zt(t){let e,n,s,o,r=t[8]+"";function l(){return t[4](t[10])}return{c(){e=S("div"),n=D(r),z(e,"class","tab selected tab-text svelte-1db85j0")},m(t,r){A(t,e,r),C(e,n),s||(o=N(e,"click",l),s=!0)},p(e,s){t=e,1&s&&r!==(r=t[8]+"")&&O(n,r)},d(t){t&&U(e),s=!1,o()}}}function Ot(t){let e;function n(t,e){return t[10]===t[1]?Nt:Et}let s=n(t),o=s(t);return{c(){o.c(),e=E()},m(t,n){o.m(t,n),A(t,e,n)},p(t,r){s===(s=n(t))&&o?o.p(t,r):(o.d(1),o=s(t),o&&(o.c(),o.m(e.parentNode,e)))},d(t){o.d(t),t&&U(e)}}}function jt(e){let n,s=e[0],o=[];for(let t=0;t<s.length;t+=1)o[t]=Ot(qt(e,s,t));return{c(){n=S("div");for(let t=0;t<o.length;t+=1)o[t].c();z(n,"class","column c svelte-1db85j0")},m(t,s){A(t,n,s);for(let t=0;t<o.length;t+=1)o[t].m(n,null);e[7](n)},p(t,[e]){if(11&e){let r;for(s=t[0],r=0;r<s.length;r+=1){const l=qt(t,s,r);o[r]?o[r].p(l,e):(o[r]=Ot(l),o[r].c(),o[r].m(n,null))}for(;r<o.length;r+=1)o[r].d(1);o.length=s.length}},i:t,o:t,d(t){t&&U(n),P(o,t),e[7](null)}}}function Mt(t){Pager.select(t)}function Bt(t,e,n){let s,{tabs:o=["我的","发现"]}=e,{selected:r=0}=e;rem.on("__pageFold",(()=>{n(2,s.style.cssText="border-bottom: solid 1px rgba(0,0,0,0.2);",s)})),rem.on("__pageUnfold",(()=>{n(2,s.style.cssText="",s)}));return t.$$set=t=>{"tabs"in t&&n(0,o=t.tabs),"selected"in t&&n(1,r=t.selected)},[o,r,s,function(){Pager.remove(r)},t=>Mt(t),t=>Mt(t),t=>Mt(t),function(t){et[t?"unshift":"push"]((()=>{s=t,n(2,s)}))}]}class Rt extends Dt{constructor(t){super(),St(this,t,Bt,jt,i,{tabs:0,selected:1})}}function It(t){let e,n,s,o;return{c(){e=S("span"),n=D(t[2]),z(e,"class",s="avatar iconfont size-"+(t[3]?t[3]:"normal")+" svelte-m9oihy"),z(e,"style",o="border-radius: "+t[6]+";"+t[8])},m(t,s){A(t,e,s),C(e,n)},p(t,r){4&r&&O(n,t[2]),8&r&&s!==(s="avatar iconfont size-"+(t[3]?t[3]:"normal")+" svelte-m9oihy")&&z(e,"class",s),320&r&&o!==(o="border-radius: "+t[6]+";"+t[8])&&z(e,"style",o)},d(t){t&&U(e)}}}function Wt(t){let e,n,s,o,r,l;return{c(){e=S("img"),a(e.src,n=t[2])||z(e,"src",n),z(e,"class","avatar svelte-m9oihy"),z(e,"alt",s="avatar size-"+(t[3]?t[3]:"normal")),z(e,"draggable","false"),z(e,"width",t[4]),z(e,"height",t[5]),z(e,"style",o="border-radius: "+t[6]+";"+t[8])},m(n,s){A(n,e,s),t[11](e),r||(l=N(e,"load",t[10]),r=!0)},p(t,r){4&r&&!a(e.src,n=t[2])&&z(e,"src",n),8&r&&s!==(s="avatar size-"+(t[3]?t[3]:"normal"))&&z(e,"alt",s),16&r&&z(e,"width",t[4]),32&r&&z(e,"height",t[5]),320&r&&o!==(o="border-radius: "+t[6]+";"+t[8])&&z(e,"style",o)},d(n){n&&U(e),t[11](null),r=!1,l()}}}function Ht(e){let n,s,o,r,l;function i(t,e){return t[1]?Wt:It}let c=i(e),a=c(e);return{c(){n=S("div"),a.c(),z(n,"class",s="column"+(e[7]?" clkable":"")+" svelte-m9oihy"),z(n,"style",o="width: fit-content; heigth: fit-content;"+e[8])},m(t,s){A(t,n,s),a.m(n,null),r||(l=N(n,"click",e[9]),r=!0)},p(t,[e]){c===(c=i(t))&&a?a.p(t,e):(a.d(1),a=c(t),a&&(a.c(),a.m(n,null))),128&e&&s!==(s="column"+(t[7]?" clkable":"")+" svelte-m9oihy")&&z(n,"class",s),256&e&&o!==(o="width: fit-content; heigth: fit-content;"+t[8])&&z(n,"style",o)},i:t,o:t,d(t){t&&U(n),a.d(),r=!1,l()}}}function Ft(t,e,n){const s=K();let{isUrl:o=!0}=e,{avatar:r=""}=e,{size:l=""}=e,{width:i}=e,{height:c}=e,{radius:a="50%"}=e,{clickable:u=!0}=e,{ctx:d=this}=e,{cssText:f=""}=e;return t.$$set=t=>{"isUrl"in t&&n(1,o=t.isUrl),"avatar"in t&&n(2,r=t.avatar),"size"in t&&n(3,l=t.size),"width"in t&&n(4,i=t.width),"height"in t&&n(5,c=t.height),"radius"in t&&n(6,a=t.radius),"clickable"in t&&n(7,u=t.clickable),"ctx"in t&&n(0,d=t.ctx),"cssText"in t&&n(8,f=t.cssText)},[d,o,r,l,i,c,a,u,f,function(t){s("click",t)},function(){s("loaded")},function(t){et[t?"unshift":"push"]((()=>{d=t,n(0,d)}))}]}class Xt extends Dt{constructor(t){super(),St(this,t,Ft,Ht,i,{isUrl:1,avatar:2,size:3,width:4,height:5,radius:6,clickable:7,ctx:0,cssText:8})}}class Yt{constructor(t){this.data=t}urls={};async getPlayUrlAsync(t="high"){let e;try{e="low"===t?this.data.l.br:"medium"===t?this.data.m.br:this.data.h.br}catch(n){switch(t){case"low":if(e=!!this.data.h&&this.data.h.br,e)break;case"high":if(e=!!this.data.m&&this.data.m.br,e)break;case"medium":if(e=!!this.data.l&&this.data.l.br,e)break}}let n=(this.urls[t]=await NeteaseApi.getSongUrl(this.data.id,store.get("cookie"),e)).body.data[0].url;const s=await server.getMedia(`ne${this.data.id}`);return s?URL.createObjectURL(new Blob([s])):(server.saveToCache(n,`ne${this.data.id}`),n)}async url(t="high"){return this.urls[t]?this.urls[t]:this.getPlayUrlAsync(t)}title(){return this.data.name}album(){return this.data.al}artist(){return this.data.ar}uri(){return this.data.id}}function Vt(e){let n,s,o,l;return{c(){n=S("input"),z(n,"type","range"),z(n,"style",s=e[1]+";--progress: "+e[0]+"%"),z(n,"step","0.001"),z(n,"class","svelte-1k44m6r")},m(t,s){A(t,n,s),j(n,e[0]),e[6](n),o||(l=[N(n,"change",e[5]),N(n,"input",e[5]),N(n,"mousedown",e[3]),N(n,"mousemove",e[4])],o=!0)},p(t,[e]){3&e&&s!==(s=t[1]+";--progress: "+t[0]+"%")&&z(n,"style",s),1&e&&j(n,t[0])},i:t,o:t,d(t){t&&U(n),e[6](null),o=!1,r(l)}}}function Jt(t,e,n){let s,{value:o}=e,{cssStyle:r=""}=e,l=K(),i=!1;return document.addEventListener("mouseup",(()=>{i&&(i=!1,l("mouseup",s.value))})),t.$$set=t=>{"value"in t&&n(0,o=t.value),"cssStyle"in t&&n(1,r=t.cssStyle)},[o,r,s,function(t){i=!0;let e=t.offsetX/s.offsetWidth*100;n(2,s.value=e,s),l("mousedown",e)},function(){i&&l("mousemove",s.value)},function(){o=function(t){return""===t?null:+t}(this.value),n(0,o)},function(t){et[t?"unshift":"push"]((()=>{s=t,n(2,s)}))}]}class Kt extends Dt{constructor(t){super(),St(this,t,Jt,Vt,i,{value:0,cssStyle:1})}}const Qt=Symbol("[[Observers]]");class Gt{[Qt]=new Set;addObserver(t){("function"==typeof t||"object"==typeof t&&t&&"function"==typeof t.update)&&this[Qt].add(t)}removeObserver(t){if(!t)return this.removeAllObservers();this[Qt].delete(t)}removeAllObservers(){this[Qt]=new Set}notifyObservers(...t){for(const e of this[Qt])"function"==typeof e?e.call(this,...t):e.update(this,...t)}}const Zt=new class extends Gt{_metadata={};constructor(t={}){super(),this.setMetadata(t)}setMetadata(t={}){this._metadata.title=t.title||this._metadata.title,this._metadata.album=t.album||this._metadata.album,this._metadata.artist=t.artist||this._metadata.artist,this._metadata.artwork=t.artwork||this._metadata.artwork}getMetadataConfig(){return this._metadata}title(t){return void 0!==t?(this._metadata.title=t,this):this._metadata.title}album(t){return void 0===t?this._metadata.album:(this._metadata.album=t,this)}artist(t){return void 0===t?this._metadata.artist:(this._metadata.artist=t,this)}artwork(t,e){return void 0===t?this._metadata.artwork||[]:(this._metadata.artwork||(this._metadata.artwork=[]),void 0===e?this._metadata.artwork[t]:(this._metadata.artwork[t]=e,this))}setArtwork(t){return this._metadata.artwork=t,this}apply(){navigator.mediaSession.metadata=new MediaMetadata(this._metadata)}},te=Symbol();function ee(t,e,n){function s(...o){e.apply(n.thisArg,o),n.off(t,s)}return s[te]=e,s}class ne{static captureRejections=!0;static defaultMaxListeners=-1;static thisArg=void 0;events={};maxListeners=ne.defaultMaxListeners;setMaxListeners(t){return this.maxListeners=t,this}getMaxListeners(){return this.maxListeners}addListener(t,e){if(!e||"function"!=typeof e)throw TypeError('arg1 is not type of  "function", received: '+typeof e);if(this.events[t]){const n=this.events[t],s=this.maxListeners;if(~s&&n.length===this.maxListeners)throw RangeError(`Out of range. max: ${s}`);n.push(e)}else this.events[t]=[e];return this}removeListener(t,e){if("function"!=typeof e)return this.removeAllListeners(t);let n=this.events[t];if(n){n=[...n];const s=n.length;let o=[];for(let t=0;t<s;t++)n[t]!==e&&n[t].toString()!==e.toString()&&o.push(n[t]);return this.events[t]=o,this}}removeAllListeners(t){return delete this.events[t],this.events[t]=null,this}emit(t,...e){let n=this.events[t],s=!1;if(n){n=[...n];const t=n.length;try{for(let s=0;s<t;s++)n[s].apply(this.thisArg,e);s=!0}catch(t){this.captureRejections&&this.emit("error",t)}return s}return!1}once(t,e){return this.addListener(t,ee(t,e,this)),this}listeners(t){return[...this.events[t]]}rawListeners(t){let e=this.events[t];return e?e.reduce(((t,e)=>[...t,e[te]||e]),[]):[]}listenerCount(t){return this.events[t]?this.events[t].length:0}prependListener(t,e){if(!e||"function"!=typeof e)throw TypeError('arg1 is not type of  "function", received: '+typeof e);if(this.events[t]){const n=this.events[t],s=this.maxListeners;if(~s&&n.length===this.maxListeners)throw RangeError(`Out of range. max: ${s}`);n.unshift(e)}else this.events[t]=[e];return this}prependOnceListener(t,e){return this.prependListener(ee(t,e,this)),this}thisArg=ne.thisArg;captureRejections=!0;constructor(t){this.on=this.addListener,this.off=this.removeListener,this.offAll=this.removeAllListeners,t&&(this.thisArg=t.thisArg||ne.thisArg,this.captureRejections=t.captureRejections||ne.captureRejections)}}class se{static audioElement=document.createElement("audio");static em=new ne;static on(t,e){this.em.on(t,e)}on(t,e){se.on(t,e)}static play(){return this.em.emit("play"),this.audioElement.play()}play(){return se.play()}static pause(){this.audioElement.pause(),this.em.emit("pause")}pause(){se.pause()}static seek(t){if("number"!=typeof t)return this.audioElement.currentTime;this.audioElement.currentTime=t,this.em.emit("seek")}seek(t){return se.seek(t)}static load(t){return t&&(this.audioElement.src=t),this.audioElement.src}load(t){return se.load(t)}async loadData(t){this.audioData=t,this.load(await t.url()),this.onDataLoaded()}onDataLoaded(){}static volume(t){if(!t)return this.audioElement.volume;this.audioElement.volume=t}volume(t){return se.volume(t)}static duration(){return this.audioElement.duration}duration(){return se.duration()}}se.audioElement.addEventListener("ended",(()=>{se.em.emit("ended")}));const oe=new se;window.Player=oe,navigator.mediaSession.setActionHandler("play",(()=>oe.play())),navigator.mediaSession.setActionHandler("pause",(()=>oe.pause()));class re{static listData=[];static getAudioData(t){return new Yt(this.listData[t])}static current=0;static mode=0;static MODE=0;static MODE_SINGLE_LOOP=1;static MODE_RANDOM=2;static loadList(t){this.listData=t.concat([]),this.current=0}static next(){let t=this.current,e=this.listData.length;switch(this.mode){case 0:t=t===e-1?0:t+1;break;case 2:t=~~(Math.random()*e-1)}return this.current=t,this.getAudioData(t)}static prev(){let t=this.current,e=this.listData.length;switch(this.mode){case 0:t=t?t-1:e;break;case 2:t=~~(Math.random()*e-1)}return this.current=t,this.getAudioData(t)}static playNext(){const t=re.next();t&&this.playByAudioData(t)}static playPrev(){const t=re.prev();t&&this.playByAudioData(t)}static play(t){this.current=t;const e=this.getAudioData(t);this.playByAudioData(e)}static playByAudioData(t){oe.loadData(t).then((async()=>{await oe.play(),rem.emit("loadedContent")})),rem.emit("setControlsContent",t)}}function le(t){let e,n,s,o,l,i,c,a,u,d,f,p,m,h,$,g,v,y,w,x,b,k,_,L,P,E,T,j,B,R,I,W,H,F,X,Y,V,J,K,Q,G,Z,tt,nt,st,ot=(t[1].title||"暂未播放歌曲")+"",rt=t[1].artist+"",lt=t[2]?"":"";function ct(e){t[21](e)}let at={isUrl:!!t[1].album,avatar:t[1].artwork?t[1].artwork[0].src:"R",width:56,height:56,radius:"10%"};function ut(e){t[25](e)}void 0!==t[3]&&(at.ctx=t[3]),s=new Xt({props:at}),et.push((()=>_t(s,"ctx",ct))),s.$on("loaded",t[11]);let dt={cssStyle:"width: 200px"};function ft(e){t[27](e)}void 0!==t[5]&&(dt.value=t[5]),X=new Kt({props:dt}),et.push((()=>_t(X,"value",ut))),X.$on("mousedown",t[18]),X.$on("mousemove",t[20]),X.$on("mouseup",t[19]);let pt={};return void 0!==t[8]&&(pt.value=t[8]),G=new Kt({props:pt}),et.push((()=>_t(G,"value",ft))),G.$on("mousedown",t[16]),G.$on("mousemove",t[16]),G.$on("mouseup",t[17]),{c(){e=S("div"),n=S("div"),Lt(s.$$.fragment),l=q(),i=S("div"),c=S("div"),a=D(ot),u=q(),d=S("div"),f=D(rt),p=q(),m=S("div"),h=S("div"),$=S("div"),g=D(""),y=q(),w=S("div"),x=D(""),k=q(),_=S("div"),L=D(lt),P=q(),E=S("div"),E.textContent="",T=q(),j=S("div"),B=D(""),I=q(),W=S("div"),H=S("span"),H.textContent="0:00",F=q(),Lt(X.$$.fragment),V=q(),J=S("span"),J.textContent="0:00",K=q(),Q=S("div"),Lt(G.$$.fragment),z(c,"class","title svelte-o0fqs3"),z(d,"class","subtitle svelte-o0fqs3"),z(i,"class","row txt svelte-o0fqs3"),z(n,"class","column header edge svelte-o0fqs3"),z($,"class",v="btn big btn-nb"+(t[7]?" active":"")+" svelte-o0fqs3"),z(w,"class",b="btn big btn-nb"+(t[0].mode?" disable":"")+" svelte-o0fqs3"),z(_,"class","btn big btn-big svelte-o0fqs3"),z(E,"class","btn big btn-nb svelte-o0fqs3"),z(j,"class",R="btn big btn-nb"+(t[6]?" active":"")+" svelte-o0fqs3"),z(h,"class","column"),M(h,"margin","4px 0px"),z(H,"class","time svelte-o0fqs3"),z(J,"class","time svelte-o0fqs3"),z(W,"class","column"),M(W,"width","100%"),z(m,"class","row center svelte-o0fqs3"),z(Q,"class","column edge svelte-o0fqs3"),M(Q,"flex-direction","row-reverse"),z(e,"class","column c svelte-o0fqs3")},m(o,r){A(o,e,r),C(e,n),At(s,n,null),C(n,l),C(n,i),C(i,c),C(c,a),C(i,u),C(i,d),C(d,f),C(e,p),C(e,m),C(m,h),C(h,$),C($,g),C(h,y),C(h,w),C(w,x),C(h,k),C(h,_),C(_,L),C(h,P),C(h,E),C(h,T),C(h,j),C(j,B),C(m,I),C(m,W),C(W,H),t[24](H),C(W,F),At(X,W,null),C(W,V),C(W,J),t[26](J),C(e,K),C(e,Q),At(G,Q,null),t[28](e),tt=!0,nt||(st=[N($,"click",t[22]),N(w,"click",t[13]),N(_,"click",t[12]),N(E,"click",t[14]),N(j,"click",t[23])],nt=!0)},p(t,e){const n={};2&e[0]&&(n.isUrl=!!t[1].album),2&e[0]&&(n.avatar=t[1].artwork?t[1].artwork[0].src:"R"),!o&&8&e[0]&&(o=!0,n.ctx=t[3],it((()=>o=!1))),s.$set(n),(!tt||2&e[0])&&ot!==(ot=(t[1].title||"暂未播放歌曲")+"")&&O(a,ot),(!tt||2&e[0])&&rt!==(rt=t[1].artist+"")&&O(f,rt),(!tt||128&e[0]&&v!==(v="btn big btn-nb"+(t[7]?" active":"")+" svelte-o0fqs3"))&&z($,"class",v),(!tt||1&e[0]&&b!==(b="btn big btn-nb"+(t[0].mode?" disable":"")+" svelte-o0fqs3"))&&z(w,"class",b),(!tt||4&e[0])&&lt!==(lt=t[2]?"":"")&&O(L,lt),(!tt||64&e[0]&&R!==(R="btn big btn-nb"+(t[6]?" active":"")+" svelte-o0fqs3"))&&z(j,"class",R);const r={};!Y&&32&e[0]&&(Y=!0,r.value=t[5],it((()=>Y=!1))),X.$set(r);const l={};!Z&&256&e[0]&&(Z=!0,l.value=t[8],it((()=>Z=!1))),G.$set(l)},i(t){tt||(yt(s.$$.fragment,t),yt(X.$$.fragment,t),yt(G.$$.fragment,t),tt=!0)},o(t){wt(s.$$.fragment,t),wt(X.$$.fragment,t),wt(G.$$.fragment,t),tt=!1},d(n){n&&U(e),Ut(s),t[24](null),Ut(X),t[26](null),Ut(G),t[28](null),nt=!1,r(st)}}}function ie(t){let e=~~(t%60);return e<10&&(e="0"+e),`${~~(t/60)}:${e}`}function ce(t,e,n){let s,o,r,l={},i=!1,c=1;async function a(t){Zt.title(t.title()),Zt.album(t.album().name),Zt.artist(t.artist().reduce(((t,e)=>[...t,e.name]),[]).join(" · ")),Zt.artwork(0,{src:t.album().picUrl}),Zt.notifyObservers(Zt.getMetadataConfig()),store.set("loadedContent",t.data)}Zt.addObserver((function(t){this.apply(),n(1,l=t)})),window.__getColorInfo=function(t,e,n,s){let o=4*(e*(s-1)+n);return(t=t.data).slice(o,o+4)},window.__setColor=function(t,e,n=.7){if(!e)return;let s=CanvasCtx;const o=e.width,r=e.height;Canvas.width=o,Canvas.height=r,s.drawImage(e,0,0);const l=s.getImageData(0,0,o,r),i=o/2,c=r/2,a=o/4,u=i+a,d=r/4,f=c+d;let p=__getColorInfo(l,o,a,d),m=__getColorInfo(l,o,u,d),h=__getColorInfo(l,o,i,c),$=__getColorInfo(l,o,a,f),g=__getColorInfo(l,o,u,f),v=[];for(let t=0;t<4;t++){let e=(p[t]+m[t]+h[t]+$[t]+g[t])/5,n=7e-4*e+.5;v[t]=~~(n*e)}const y=`rgba(${v[0]},${v[1]},${v[2]}, ${n})`;return t.style.setProperty("--color",y),y};let u=0;function d(){if(oe.load())return i?oe.pause():oe.play()}rem.on("setControlsContent",a),rem.on("loadedContent",(()=>{c=oe.duration(),n(10,g.innerText=ie(c),g),s&&(n(5,u=0),clearInterval(s)),s=setInterval((()=>{if(v)return;let t=oe.seek();n(5,u=t/c*100),n(9,$.innerText=ie(t),$)}),500)})),rem.on("playerReady",(async t=>{t.on("play",(()=>{n(2,i=!0)})),t.on("pause",(()=>n(2,i=!1))),t.on("ended",(()=>re.playNext()));let e=store.get("loadedContent");e&&(e=new Yt(e),a(e),oe.loadData(e))})),window.addEventListener("keypress",(t=>{" "===t.key&&d()}));let f,p=!1,m=!1;function h(){return p?n(0,re.mode=1,re):m?n(0,re.mode=2,re):void n(0,re.mode=0,re)}(f=store.get("volume")||50)&&rem.once("playerReady",(()=>{oe.volume(f/100)}));var $,g,v=!1;new Array(5);return[re,l,i,o,r,u,p,m,f,$,g,function(){__setColor(r,o)},d,function(){re.playPrev()},function(){re.playNext()},h,function(t){oe.volume(t.detail/100)},function(){store.set("volume",f)},function(){v=!0},function(t){v=!1;try{oe.seek(t.detail/100*c)}catch(t){}},function(t){v&&n(9,$.innerText=ie(t.detail/100*c),$)},function(t){o=t,n(3,o)},()=>{n(7,m=!m),h()},()=>{n(6,p=!p),h()},function(t){et[t?"unshift":"push"]((()=>{n(9,$=t)}))},function(t){u=t,n(5,u)},function(t){et[t?"unshift":"push"]((()=>{n(10,g=t)}))},function(t){f=t,n(8,f)},function(t){et[t?"unshift":"push"]((()=>{r=t,n(4,r)}))}]}navigator.mediaSession.setActionHandler("nexttrack",(()=>re.playNext())),navigator.mediaSession.setActionHandler("previoustrack",(()=>re.playPrev()));class ae extends Dt{constructor(t){super(),St(this,t,ce,le,i,{},null,[-1,-1])}}function ue(e){let n;return{c(){n=S("div")},m(t,e){A(t,n,e)},p:t,i:t,o:t,d(t){t&&U(n)}}}class de extends Dt{constructor(t){super(),St(this,t,null,ue,i,{})}}function fe(t,e,n){return new Promise(((s,o)=>{let r=t.animate(e,n);r.onfinish=()=>s(r),r.onremove=()=>o(r)}))}function pe(t){let e,s,o,r;const l=[t[1]];var i=t[0];function c(t){let e={};for(let t=0;t<l.length;t+=1)e=n(e,l[t]);return{props:e}}return i&&(o=new i(c())),{c(){e=S("div"),s=S("div"),o&&Lt(o.$$.fragment),z(s,"class","innerWindow row svelte-1wgokwx"),z(e,"class","container row svelte-1wgokwx")},m(n,l){A(n,e,l),C(e,s),o&&At(o,s,null),t[4](s),r=!0},p(t,[e]){const n=2&e?kt(l,[Ct(t[1])]):{};if(i!==(i=t[0])){if(o){gt();const t=o;wt(t.$$.fragment,1,0,(()=>{Ut(t,1)})),vt()}i?(o=new i(c()),Lt(o.$$.fragment),yt(o.$$.fragment,1),At(o,s,null)):o=null}else i&&o.$set(n)},i(t){r||(o&&yt(o.$$.fragment,t),r=!0)},o(t){o&&wt(o.$$.fragment,t),r=!1},d(n){n&&U(e),o&&Ut(o),t[4](null)}}}function me(t,e,n){let s,o=de,r={};return[o,r,s,async function(t,e){await fe(s,[{opacity:1,transform:"scale(1)"},{opacity:0,transform:"scale(1.06)"}],{duration:60,ease:"cubic-bezier(0.95, 0.05, 0.795, 0.035)",fill:"forwards"}),function(t,e){if(o===t)return n(0,o=de),n(1,r=e),void setTimeout((()=>{n(0,o=t)}));n(1,r=e),n(0,o=t)}(t,e),requestIdleCallback((async()=>{await fe(s,[{opacity:0,transform:"scale(0.96)"},{opacity:1,transform:"scale(1)"}],{duration:80,ease:"cubic-bezier(0.19, 1, 0.22, 1)",fill:"forwards"}),rem.emit("pageSwipeAnimFinish")}))},function(t){et[t?"unshift":"push"]((()=>{s=t,n(2,s)}))}]}class he extends Dt{constructor(t){super(),St(this,t,me,pe,i,{display:3})}get display(){return this.$$.ctx[3]}}function $e(t){let e,n;const s=t[5].default,o=u(s,t,t[4],null);return{c(){e=S("div"),o&&o.c(),z(e,"class","container svelte-1mqptgy"),z(e,"style",t[0])},m(s,r){A(s,e,r),o&&o.m(e,null),t[6](e),n=!0},p(t,[r]){o&&o.p&&(!n||16&r)&&p(o,s,t,t[4],n?f(s,t[4],r,null):m(t[4]),null),(!n||1&r)&&z(e,"style",t[0])},i(t){n||(yt(o,t),n=!0)},o(t){wt(o,t),n=!1},d(n){n&&U(e),o&&o.d(n),t[6](null)}}}function ge(t,e,n){let s,{$$slots:o={},$$scope:r}=e,{cssStyle:l}=e;return t.$$set=t=>{"cssStyle"in t&&n(0,l=t.cssStyle),"$$scope"in t&&n(4,r=t.$$scope)},[l,s,function(t){s.offsetHeight&&s.offsetWidth&&t({width:s.offsetWidth,height:s.offsetHeight}),new MutationObserver(((e,n)=>{n.disconnect();try{t({width:s.offsetWidth,height:s.offsetHeight})}catch(t){}})).observe(s,{childList:!0,subtree:!0,attributes:!0})},function(){s.setAttribute("__force-update__",""),s.removeAttribute("__force-update__")},r,o,function(t){et[t?"unshift":"push"]((()=>{s=t,n(1,s)}))}]}class ve extends Dt{constructor(t){super(),St(this,t,ge,$e,i,{cssStyle:0,measure:2,forceUpdate:3})}get measure(){return this.$$.ctx[2]}get forceUpdate(){return this.$$.ctx[3]}}function ye(t){let e;const n=t[11].default,s=u(n,t,t[16],null);return{c(){s&&s.c()},m(t,n){s&&s.m(t,n),e=!0},p(t,o){s&&s.p&&(!e||65536&o[0])&&p(s,n,t,t[16],e?f(n,t[16],o,null):m(t[16]),null)},i(t){e||(yt(s,t),e=!0)},o(t){wt(s,t),e=!1},d(t){s&&s.d(t)}}}function we(t){let e,n,s,o,r,l,i,c,a,u;return s=new ve({props:{cssStyle:"width: 100%",$$slots:{default:[ye]},$$scope:{ctx:t}}}),t[12](s),{c(){e=S("div"),n=S("div"),Lt(s.$$.fragment),o=q(),r=S("div"),l=S("div"),z(n,"class","contaienr svelte-dmx3xq"),z(l,"class","thumb svelte-dmx3xq"),z(r,"class",i="bar"+(t[4]?" active":"")+(t[3]?"":" hide")+" svelte-dmx3xq"),z(e,"class","c svelte-dmx3xq")},m(i,d){A(i,e,d),C(e,n),At(s,n,null),t[13](n),C(e,o),C(e,r),C(r,l),t[14](l),t[15](e),c=!0,a||(u=N(l,"mousedown",t[6]),a=!0)},p(t,e){const n={};65536&e[0]&&(n.$$scope={dirty:e,ctx:t}),s.$set(n),(!c||24&e[0]&&i!==(i="bar"+(t[4]?" active":"")+(t[3]?"":" hide")+" svelte-dmx3xq"))&&z(r,"class",i)},i(t){c||(yt(s.$$.fragment,t),c=!0)},o(t){wt(s.$$.fragment,t),c=!1},d(n){n&&U(e),t[12](null),Ut(s),t[13](null),t[14](null),t[15](null),a=!1,u()}}}function xe(t,e,n){let s,o,r,l,i,c,a,u,d,f,{$$slots:p={},$$scope:m}=e,h=!1,$=!1,g=!1,v=0,y=!0,w=null;function x(t){if(r=function(t){let e;try{e=t.offsetHeight}catch(t){e=0}return e}(s),l=t,r>=l)return v=0,A(0),n(3,h=!1);n(3,h=!0),i=(l-r)*r/l,a=r/l;try{o&&o.style.setProperty("--thumb-height",r*a+"px");const{save:t}=Pager.getContext();y&&A(v=t.pageOffsetY)}catch(t){}}function b(){y=!1}function k(t){$&&(n(4,g=!0),f=t.screenY-u,v=d+f,A(v))}function C(){n(4,g=!1),$=!1}V((()=>{c.addEventListener("mousemove",k),document.addEventListener("mouseup",C),document.addEventListener("wheel",(t=>{h&&(isNaN(v)&&(v=0),~t.path.indexOf(c)&&(v+=~~t.deltaY*a,v<0&&(v=0),v>i&&(v=i),A(v)))})),w=setTimeout((()=>{b()}),2e3)}));let _,L=!1;function A(t){try{if(isNaN(t))return;t<=0&&(L=!0,rem.emit("__pageUnfold"),t=0),t>i&&(t=i),L?L=!1:rem.emit("__pageFold"),o&&o.style.setProperty("--progress",t+"px"),s.scrollTo({left:0,top:t*l/r,behavior:"auto"})}catch(t){}}function U(){return new Promise((t=>{_.measure((({height:e})=>{x(e),t()}))}))}return V(U),J((()=>rem.emit("__pageUnfold"))),Pager.beforeSwitch((()=>{const{save:t}=Pager.getContext();t.pageOffsetY=v})),t.$$set=t=>{"$$scope"in t&&n(16,m=t.$$scope)},[s,o,c,h,g,_,function(t){$=!0,u=t.screenY,d=o.offsetTop},b,function(t){clearTimeout(w),t(b)},U,async function(){U(),_.forceUpdate()},p,function(t){et[t?"unshift":"push"]((()=>{_=t,n(5,_)}))},function(t){et[t?"unshift":"push"]((()=>{s=t,n(0,s)}))},function(t){et[t?"unshift":"push"]((()=>{o=t,n(1,o)}))},function(t){et[t?"unshift":"push"]((()=>{c=t,n(2,c)}))},m]}class be extends Dt{constructor(t){super(),St(this,t,xe,we,i,{disableAutoRestore:7,keepWaiting:8,measure:9,recalc:10},null,[-1,-1])}get disableAutoRestore(){return this.$$.ctx[7]}get keepWaiting(){return this.$$.ctx[8]}get measure(){return this.$$.ctx[9]}get recalc(){return this.$$.ctx[10]}}function ke(t,{delay:n=0,duration:s=400,easing:o=e}={}){const r=+getComputedStyle(t).opacity;return{delay:n,duration:s,easing:o,css:t=>"opacity: "+t*r}}function Ce(t,e,n){const s=t.slice();return s[8]=e[n],s[10]=n,s}function _e(t){let e,n,s=t[1][t[10]]+"";return{c(){e=S("div"),n=D(s),z(e,"class","t txt svelte-fo2dcj"),M(e,"width",t[8]+"%")},m(t,s){A(t,e,s),C(e,n)},p(t,e){2&e&&s!==(s=t[1][t[10]]+"")&&O(n,s)},d(t){t&&U(e)}}}function Le(e){let n,s,o,l,i=e[6],c=[];for(let t=0;t<i.length;t+=1)c[t]=_e(Ce(e,i,t));return{c(){n=S("div");for(let t=0;t<c.length;t+=1)c[t].c();z(n,"class",s="column tile"+(e[2]?" selected":"")+(e[3]?" focus":"")+" svelte-fo2dcj"),M(n,"padding-left",e[0][0]+"%")},m(t,s){A(t,n,s);for(let t=0;t<c.length;t+=1)c[t].m(n,null);o||(l=[N(n,"click",e[4]),N(n,"dblclick",e[5])],o=!0)},p(t,[e]){if(66&e){let s;for(i=t[6],s=0;s<i.length;s+=1){const o=Ce(t,i,s);c[s]?c[s].p(o,e):(c[s]=_e(o),c[s].c(),c[s].m(n,null))}for(;s<c.length;s+=1)c[s].d(1);c.length=i.length}12&e&&s!==(s="column tile"+(t[2]?" selected":"")+(t[3]?" focus":"")+" svelte-fo2dcj")&&z(n,"class",s),1&e&&M(n,"padding-left",t[0][0]+"%")},i:t,o:t,d(t){t&&U(n),P(c,t),o=!1,r(l)}}}function Ae(t,e,n){let s=K();let{location:o=[]}=e,{data:r=[]}=e,{selected:l=!1}=e,{focus:i=!1}=e,c=function(t){let e=new Array(t.length).fill(0);return(t=[...t]).push(100),e.forEach(((e,n,s)=>{s[n]=t[n+1]-t[n]})),e}(o);return t.$$set=t=>{"location"in t&&n(0,o=t.location),"data"in t&&n(1,r=t.data),"selected"in t&&n(2,l=t.selected),"focus"in t&&n(3,i=t.focus)},[o,r,l,i,function(t){s("click",t)},function(t){s("dbclick",t)},c]}class Ue extends Dt{constructor(t){super(),St(this,t,Ae,Le,i,{location:0,data:1,selected:2,focus:3})}}function Pe(t,e,n){const s=t.slice();return s[10]=e[n],s[12]=n,s}function Se(t){let e,n,s;function o(e){t[6](e)}let r={data:[t[12]+1,t[10].name,t[10].ar.reduce(qe,[]).join(" / "),t[10].al.name],selected:t[2].has(t[12]),focus:~t[3]&&t[3]};return void 0!==t[0]&&(r.location=t[0]),e=new Ue({props:r}),et.push((()=>_t(e,"location",o))),e.$on("click",(function(){return t[7](t[12])})),e.$on("dbclick",(function(){return t[8](t[12])})),{c(){Lt(e.$$.fragment)},m(t,n){At(e,t,n),s=!0},p(s,o){t=s;const r={};2&o&&(r.data=[t[12]+1,t[10].name,t[10].ar.reduce(qe,[]).join(" / "),t[10].al.name]),4&o&&(r.selected=t[2].has(t[12])),8&o&&(r.focus=~t[3]&&t[3]),!n&&1&o&&(n=!0,r.location=t[0],it((()=>n=!1))),e.$set(r)},i(t){s||(yt(e.$$.fragment,t),s=!0)},o(t){wt(e.$$.fragment,t),s=!1},d(t){Ut(e,t)}}}function De(t){let e,n,s=t[1],o=[];for(let e=0;e<s.length;e+=1)o[e]=Se(Pe(t,s,e));const r=t=>wt(o[t],1,1,(()=>{o[t]=null}));return{c(){for(let t=0;t<o.length;t+=1)o[t].c();e=E()},m(t,s){for(let e=0;e<o.length;e+=1)o[e].m(t,s);A(t,e,s),n=!0},p(t,[n]){if(63&n){let l;for(s=t[1],l=0;l<s.length;l+=1){const r=Pe(t,s,l);o[l]?(o[l].p(r,n),yt(o[l],1)):(o[l]=Se(r),o[l].c(),yt(o[l],1),o[l].m(e.parentNode,e))}for(gt(),l=s.length;l<o.length;l+=1)r(l);vt()}},i(t){if(!n){for(let t=0;t<s.length;t+=1)yt(o[t]);n=!0}},o(t){o=o.filter(Boolean);for(let t=0;t<o.length;t+=1)wt(o[t]);n=!1},d(t){P(o,t),t&&U(e)}}}const qe=(t,e)=>[...t,e.name];function Ee(t,e,n){let s=K(),{listData:o=[]}=e,{location:r=[]}=e,{selections:l=new Set}=e,{focus:i=-1}=e;function c(t){s("click",{listData:o,i:t})}function a(t){s("dbclick",{listData:o,i:t})}V((()=>{s("mount")}));return t.$$set=t=>{"listData"in t&&n(1,o=t.listData),"location"in t&&n(0,r=t.location),"selections"in t&&n(2,l=t.selections),"focus"in t&&n(3,i=t.focus)},[r,o,l,i,c,a,function(t){r=t,n(0,r)},t=>c(t),t=>a(t)]}class Ne extends Dt{constructor(t){super(),St(this,t,Ee,De,i,{listData:1,location:0,selections:2,focus:3})}}function Te(t){let e,n,s;return{c(){e=S("textarea"),z(e,"type",t[0]),z(e,"id",t[1]),e.value=t[2],z(e,"maxlength",t[4]),z(e,"style",t[5]),z(e,"placeholder",t[7]),z(e,"class","svelte-in1jdh")},m(o,r){A(o,e,r),n||(s=[N(e,"focus",t[9]),N(e,"change",t[11]),N(e,"input",t[12]),N(e,"blur",t[10])],n=!0)},p(t,n){1&n&&z(e,"type",t[0]),2&n&&z(e,"id",t[1]),4&n&&(e.value=t[2]),16&n&&z(e,"maxlength",t[4]),32&n&&z(e,"style",t[5]),128&n&&z(e,"placeholder",t[7])},d(t){t&&U(e),n=!1,r(s)}}}function ze(t){let e,n,s;return{c(){e=S("input"),z(e,"type",t[0]),z(e,"id",t[1]),e.value=t[2],z(e,"style",t[5]),z(e,"placeholder",t[7]),z(e,"class","svelte-in1jdh")},m(o,r){A(o,e,r),n||(s=[N(e,"focus",t[9]),N(e,"change",t[11]),N(e,"input",t[12]),N(e,"blur",t[10])],n=!0)},p(t,n){1&n&&z(e,"type",t[0]),2&n&&z(e,"id",t[1]),4&n&&e.value!==t[2]&&(e.value=t[2]),32&n&&z(e,"style",t[5]),128&n&&z(e,"placeholder",t[7])},d(t){t&&U(e),n=!1,r(s)}}}function Oe(e){let n,s;function o(t,e){return t[3]?ze:Te}let r=o(e),l=r(e);return{c(){n=S("div"),l.c(),z(n,"class",s=(e[6]?"full-border":"input")+(e[8]?" focus":"")+" svelte-in1jdh")},m(t,e){A(t,n,e),l.m(n,null)},p(t,[e]){r===(r=o(t))&&l?l.p(t,e):(l.d(1),l=r(t),l&&(l.c(),l.m(n,null))),320&e&&s!==(s=(t[6]?"full-border":"input")+(t[8]?" focus":"")+" svelte-in1jdh")&&z(n,"class",s)},i:t,o:t,d(t){t&&U(n),l.d()}}}function je(t,e,n){let{type:s="text"}=e,{id:o="default-id"}=e,{value:r=""}=e,{singleLine:l=!0}=e,{maxLength:i=999999}=e,{cssText:c=""}=e,{fullBorder:a=!1}=e,{placeholder:u=""}=e,d=K(),f=!1;return t.$$set=t=>{"type"in t&&n(0,s=t.type),"id"in t&&n(1,o=t.id),"value"in t&&n(2,r=t.value),"singleLine"in t&&n(3,l=t.singleLine),"maxLength"in t&&n(4,i=t.maxLength),"cssText"in t&&n(5,c=t.cssText),"fullBorder"in t&&n(6,a=t.fullBorder),"placeholder"in t&&n(7,u=t.placeholder)},[s,o,r,l,i,c,a,u,f,function(){n(8,f=!0),d("focus")},function(){n(8,f=!1),d("blur")},function(){d("change")},function(){d("input")}]}class Me extends Dt{constructor(t){super(),St(this,t,je,Oe,i,{type:0,id:1,value:2,singleLine:3,maxLength:4,cssText:5,fullBorder:6,placeholder:7})}}function Be(t,e,n){const s=t.slice();return s[38]=e[n],s[40]=n,s}function Re(t){let e,n,s,o,r,l,i,c,a,u,d,f,p,m,h,$,g,v=t[3].title+"",y=t[3].trackCount+"",w=t[3].subtitle+"";return n=new Xt({props:{width:200,height:200,radius:"8%",avatar:t[3].imgUrl}}),{c(){e=S("div"),Lt(n.$$.fragment),s=q(),o=S("div"),r=S("div"),l=S("h1"),i=D(v),c=S("span"),a=D(y),u=D("首"),d=q(),f=S("div"),p=D(w),m=q(),h=S("div"),$=S("div"),$.textContent=" 播放",z(c,"class","bread-crumb svelte-11uucd3"),z(l,"class","title svelte-11uucd3"),z(f,"class","subtitle svelte-11uucd3"),z($,"class","btn big accent svelte-11uucd3"),z(h,"class","column"),z(o,"class","row rowl svelte-11uucd3"),z(e,"class","header column svelte-11uucd3")},m(t,v){A(t,e,v),At(n,e,null),C(e,s),C(e,o),C(o,r),C(r,l),C(l,i),C(l,c),C(c,a),C(c,u),C(r,d),C(r,f),C(f,p),C(o,m),C(o,h),C(h,$),g=!0},p(t,e){const s={};8&e[0]&&(s.avatar=t[3].imgUrl),n.$set(s),(!g||8&e[0])&&v!==(v=t[3].title+"")&&O(i,v),(!g||8&e[0])&&y!==(y=t[3].trackCount+"")&&O(a,y),(!g||8&e[0])&&w!==(w=t[3].subtitle+"")&&O(p,w)},i(t){g||(yt(n.$$.fragment,t),g=!0)},o(t){wt(n.$$.fragment,t),g=!1},d(t){t&&U(e),Ut(n)}}}function Ie(t){let e,n,s,o,r,l=t[38]+"";function i(){return t[17](t[40])}return{c(){e=S("div"),n=D(l),z(e,"class",s="splitterTab"+(t[1]===t[40]?t[2]?" backwards":" forwards":"")+" svelte-11uucd3"),M(e,"width",t[6][t[40]]+"%")},m(t,s){A(t,e,s),C(e,n),o||(r=N(e,"click",i),o=!0)},p(o,r){t=o,1&r[0]&&l!==(l=t[38]+"")&&O(n,l),6&r[0]&&s!==(s="splitterTab"+(t[1]===t[40]?t[2]?" backwards":" forwards":"")+" svelte-11uucd3")&&z(e,"class",s),64&r[0]&&M(e,"width",t[6][t[40]]+"%")},d(t){t&&U(e),o=!1,r()}}}function We(t){let e,n,s,o,r,l,i,c,a,u,d,f,p,m,h,$,g,v=t[3]&&Re(t);o=new Me({props:{type:"text",placeholder:"  搜索列表",fullBorder:!0}});let y=t[0].names,w=[];for(let e=0;e<y.length;e+=1)w[e]=Ie(Be(t,y,e));function x(e){t[19](e)}function b(e){t[20](e)}function k(e){t[21](e)}let _={};return void 0!==t[4]&&(_.listData=t[4]),void 0!==t[7]&&(_.location=t[7]),void 0!==t[8]&&(_.selections=t[8]),d=new Ne({props:_}),et.push((()=>_t(d,"listData",x))),et.push((()=>_t(d,"location",b))),et.push((()=>_t(d,"selections",k))),d.$on("mount",t[15]),d.$on("click",t[13]),d.$on("dbclick",t[14]),{c(){e=S("div"),v&&v.c(),n=q(),s=S("div"),Lt(o.$$.fragment),r=q(),l=S("div"),i=q(),c=S("div");for(let t=0;t<w.length;t+=1)w[t].c();a=q(),u=S("div"),Lt(d.$$.fragment),z(l,"class","column"),z(s,"class","nav column svelte-11uucd3"),z(c,"class","column splitter svelte-11uucd3"),M(c,"padding-left",t[7][0]+"%"),z(u,"class","row list svelte-11uucd3"),z(e,"class","row c svelte-11uucd3")},m(f,p){A(f,e,p),v&&v.m(e,null),C(e,n),C(e,s),At(o,s,null),C(s,r),C(s,l),C(e,i),C(e,c);for(let t=0;t<w.length;t+=1)w[t].m(c,null);t[18](c),C(e,a),C(e,u),At(d,u,null),t[22](e),h=!0,$||(g=N(c,"mousedown",t[12]),$=!0)},p(t,s){if(t[3]?v?(v.p(t,s),8&s[0]&&yt(v,1)):(v=Re(t),v.c(),yt(v,1),v.m(e,n)):v&&(gt(),wt(v,1,1,(()=>{v=null})),vt()),2119&s[0]){let e;for(y=t[0].names,e=0;e<y.length;e+=1){const n=Be(t,y,e);w[e]?w[e].p(n,s):(w[e]=Ie(n),w[e].c(),w[e].m(c,null))}for(;e<w.length;e+=1)w[e].d(1);w.length=y.length}(!h||128&s[0])&&M(c,"padding-left",t[7][0]+"%");const o={};!f&&16&s[0]&&(f=!0,o.listData=t[4],it((()=>f=!1))),!p&&128&s[0]&&(p=!0,o.location=t[7],it((()=>p=!1))),!m&&256&s[0]&&(m=!0,o.selections=t[8],it((()=>m=!1))),d.$set(o)},i(t){h||(yt(v),yt(o.$$.fragment,t),yt(d.$$.fragment,t),h=!0)},o(t){wt(v),wt(o.$$.fragment,t),wt(d.$$.fragment,t),h=!1},d(n){n&&U(e),v&&v.d(),Ut(o),P(w,n),t[18](null),Ut(d),t[22](null),$=!1,g()}}}function He(t){let e,n;return e=new be({props:{$$slots:{default:[We]},$$scope:{ctx:t}}}),t[23](e),{c(){Lt(e.$$.fragment)},m(t,s){At(e,t,s),n=!0},p(t,n){const s={};1535&n[0]|1024&n[1]&&(s.$$scope={dirty:n,ctx:t}),e.$set(s)},i(t){n||(yt(e.$$.fragment,t),n=!0)},o(t){wt(e.$$.fragment,t),n=!1},d(n){t[23](null),Ut(e,n)}}}function Fe(t){let e=[...t],n=new Array(t.length).fill(0);return e.push(100),n.forEach(((t,n,s)=>{s[n]=e[n+1]-e[n]})),n}function Xe(t,e,n){let{header:s=null}=e;const o=()=>1;let{listSplitter:r=store.get("splitter")||{location:[2,8,30,70],names:["功能","歌曲名","艺术家","专辑"]}}=e;r.sortFunc=[o,(t,e)=>e.name>t.name||-1,(t,e)=>e.ar[0].name>t.ar[0].name||-1,(t,e)=>e.al.name>t.al.name||-1];let l,i,{listData:c=[]}=e,{sortBy:a=0}=e,{forwards:u=!0}=e,d=[];function f(t){i=[...t],t.sort(r.sortFunc[a]),!u&&t.reverse(),n(4,d=t)}V((()=>{c instanceof Promise?rem.once("pageSwipeAnimFinish",(()=>c.then((t=>f(t))))):f(c)}));let p=!1;function m(t){if(!p)return!1;let e;"number"!=typeof t&&(t=r.names.indexOf(t)),t===a&&n(2,u=!u),e=r.sortFunc[t]||o,n(1,a=t),store.set("sortBy",a),store.set("forwards",u);let s=[...i];s.sort(e),u||(s=s.reverse()),setTimeout((()=>{n(4,d=s)})),A()}m(a);let h,$,g=Fe(r.location),v=r.location,y=!1,w=0,x=0,b=0;document.addEventListener("mousemove",(function(t){y&&(p=!1,b=t.screenX-x,$.style.transform=`translateX(${b}px)`)})),document.addEventListener("mouseup",(function(){if(y){y=!1,$.style.transform="";let t=b/w*100;n(7,v[h]+=t,v),n(6,g=Fe(v));const e=d;n(4,d=[]),setTimeout((()=>{n(4,d=e)})),x=b=h=0,$=null,store.set("splitter",{location:v,names:r.names})}}));let k=!1;document.addEventListener("keydown",(t=>{t.ctrlKey&&(k=!0)})),document.addEventListener("keyup",(t=>{t.ctrlKey&&(k=!1)}));let C,_,L=new Set;function A(){C.measure()}V((()=>{contextMap.set(_,{"刷新":()=>{const{name:t,props:e}=Pager.getContext(),n=Pager.getContext().class;Pager.openNew(t,n,e,!0)}})})),J((()=>{contextMap.delete(_)}));return t.$$set=t=>{"header"in t&&n(3,s=t.header),"listSplitter"in t&&n(0,r=t.listSplitter),"listData"in t&&n(16,c=t.listData),"sortBy"in t&&n(1,a=t.sortBy),"forwards"in t&&n(2,u=t.forwards)},[r,a,u,s,d,l,g,v,L,C,_,m,function(t){p=!0,$=t.target,$!==l&&(h=[...$.parentNode.children].indexOf($),w=t.path[1].offsetWidth,y=!0,t.target.offsetLeft,x=t.screenX)},function(t){const e=t.detail.i;k?(L.add(e),n(8,L)):n(8,L=(new Set).add(e))},async function(t){const{listData:e,i:n}=t.detail;re.loadList(e),re.play(n)},A,c,t=>m(t),function(t){et[t?"unshift":"push"]((()=>{l=t,n(5,l)}))},function(t){d=t,n(4,d)},function(t){v=t,n(7,v)},function(t){L=t,n(8,L)},function(t){et[t?"unshift":"push"]((()=>{_=t,n(10,_)}))},function(t){et[t?"unshift":"push"]((()=>{C=t,n(9,C)}))}]}class Ye extends Dt{constructor(t){super(),St(this,t,Xe,He,i,{header:3,listSplitter:0,listData:16,sortBy:1,forwards:2},null,[-1,-1])}}function Ve(t,e,n){const s=t.slice();return s[19]=e[n],s[21]=n,s}function Je(t){let e,n,s,o,r,l,i,c,a,u=t[19].name+"";function d(){return t[11](t[19],t[21])}return{c(){e=S("div"),n=S("div"),s=q(),o=S("div"),r=S("div"),l=D(u),i=q(),z(n,"class","avatar svelte-4oats6"),M(n,"background-image","url("+t[19].coverImgUrl+")"),z(o,"class","row title svelte-4oats6"),z(e,"class","card row svelte-4oats6")},m(t,u){A(t,e,u),C(e,n),C(e,s),C(e,o),C(o,r),C(r,l),C(e,i),c||(a=N(e,"click",d),c=!0)},p(e,s){t=e,1&s&&M(n,"background-image","url("+t[19].coverImgUrl+")"),1&s&&u!==(u=t[19].name+"")&&O(l,u)},d(t){t&&U(e),c=!1,a()}}}function Ke(t){let e,n=t[0],s=[];for(let e=0;e<n.length;e+=1)s[e]=Je(Ve(t,n,e));return{c(){e=S("div");for(let t=0;t<s.length;t+=1)s[t].c();z(e,"class","column card-container svelte-4oats6")},m(t,n){A(t,e,n);for(let t=0;t<s.length;t+=1)s[t].m(e,null)},p(t,o){if(259&o){let r;for(n=t[0],r=0;r<n.length;r+=1){const l=Ve(t,n,r);s[r]?s[r].p(l,o):(s[r]=Je(l),s[r].c(),s[r].m(e,null))}for(;r<s.length;r+=1)s[r].d(1);s.length=n.length}},d(t){t&&U(e),P(s,t)}}}function Qe(t){let e,n,s,o,r,l,i,c,u,d,f,p,m,h;return d=new ve({props:{cssStyle:"width: 100%",$$slots:{default:[Ke]},$$scope:{ctx:t}}}),t[12](d),{c(){e=S("div"),n=S("div"),s=S("img"),r=q(),l=S("div"),i=D("▼"),u=q(),Lt(d.$$.fragment),z(s,"class","collection-bgc svelte-4oats6"),a(s.src,o=t[4])||z(s,"src",o),z(s,"alt",""),z(l,"class",c="toggle"+(t[7]?"":" unfold")+" svelte-4oats6"),z(n,"class",f="collection"+(t[7]?"":" unfold")+" svelte-4oats6"),z(n,"title","我的收藏"),z(e,"class","row")},m(o,c){A(o,e,c),C(e,n),C(n,s),t[10](s),C(n,r),C(n,l),C(l,i),C(n,u),At(d,n,null),t[13](n),p=!0,m||(h=N(l,"click",t[9]),m=!0)},p(t,e){(!p||16&e&&!a(s.src,o=t[4]))&&z(s,"src",o),(!p||128&e&&c!==(c="toggle"+(t[7]?"":" unfold")+" svelte-4oats6"))&&z(l,"class",c);const r={};4194305&e&&(r.$$scope={dirty:e,ctx:t}),d.$set(r),(!p||128&e&&f!==(f="collection"+(t[7]?"":" unfold")+" svelte-4oats6"))&&z(n,"class",f)},i(t){p||(yt(d.$$.fragment,t),p=!0)},o(t){wt(d.$$.fragment,t),p=!1},d(n){n&&U(e),t[10](null),t[12](null),Ut(d),t[13](null),m=!1,h()}}}function Ge(t){let e,n;return e=new be({props:{$$slots:{default:[Qe]},$$scope:{ctx:t}}}),t[14](e),{c(){Lt(e.$$.fragment)},m(t,s){At(e,t,s),n=!0},p(t,[n]){const s={};4194525&n&&(s.$$scope={dirty:n,ctx:t}),e.$set(s)},i(t){n||(yt(e.$$.fragment,t),n=!0)},o(t){wt(e.$$.fragment,t),n=!1},d(n){t[14](null),Ut(e,n)}}}function Ze(t){let e=store.get(t);return e||async function(t){let e=store.get("cookie"),n=store.get(t);let s=(await NeteaseApi.getPlaylistDetail(t,e)).body.playlist.trackIds.reduce(((t,e)=>[...t,e.id]),[]);return n=(await NeteaseApi.getSongDetail(s,e)).body.songs,store.setCache(t,n),n}(t)}function tn(t,e,n){let s,o,r,l,{playlists:i=[]}=e;function c(t,e){Pager.openNew(i[t].name,Ye,e)}V((async function(){let t=store.get("dailyDesktop");if(n(3,o.onload=()=>{__setColor(s,o,1),s.style.setProperty("--start","220px"),l.recalc()},o),t&&(new Date).getTime()-t.timeStamp<576e5)return n(4,r=t.url);t=await server.fetchJson("https://cn.bing.com/HPImageArchive.aspx?format=js&idx=0&n=1");const e="https://www.bing.com"+t.images[0].url;n(4,r=e),store.set("dailyDesktop",{timeStamp:(new Date).getTime(),url:e})})),async function(){if(window.__playlists)return n(0,i=window.__playlists);const t=store.get("cookie"),e=store.get("profile").userId,s=await NeteaseApi.getUserPlaylist(e,t);200==s.status&&(window.__playlists=n(0,i=s.body.playlist))}();let a,u=!0;function d(){n(7,u=!u),a.measure((({height:t})=>{s.style.setProperty("--height",t+160+"px"),l.recalc()}))}Pager.beforeSwitch((()=>{const{save:t}=Pager.getContext();t&&(t.collectionFolded=u)})),V((()=>{contextMap.set(s,{"复制图片链接":"","图片另存为":""});const{save:t}=Pager.getContext();t&&void 0!==t.collectionFolded&&(t.collectionFolded||d())})),J((()=>{contextMap.delete(s)}));return t.$$set=t=>{"playlists"in t&&n(0,i=t.playlists)},[i,Ze,s,o,r,l,a,u,c,d,function(t){et[t?"unshift":"push"]((()=>{o=t,n(3,o)}))},(t,e)=>{let n=t.id;c(e,(()=>({header:{imgUrl:t.coverImgUrl,title:t.name,subtitle:`由${t.creator.nickname}创建`,playCount:t.playCount,trackCount:t.trackCount},listData:Ze(n),sortBy:window.store.get("sortBy"),forwards:window.store.get("forwards"),onTabDestroy(){!function(t){store.rm(t)}(n)}})))},function(t){et[t?"unshift":"push"]((()=>{a=t,n(6,a)}))},function(t){et[t?"unshift":"push"]((()=>{s=t,n(2,s)}))},function(t){et[t?"unshift":"push"]((()=>{l=t,n(5,l)}))}]}class en extends Dt{constructor(t){super(),St(this,t,tn,Ge,i,{playlists:0,getDetailX:1})}get getDetailX(){return Ze}}function nn(e){let n;return{c(){n=S("div"),n.innerHTML="<h1>发现</h1>",z(n,"class","row")},m(t,e){A(t,n,e)},p:t,i:t,o:t,d(t){t&&U(n)}}}class sn extends Dt{constructor(t){super(),St(this,t,null,nn,i,{})}}function on(t){let e,n,s,o,l,i,c;const a=t[9].default,d=u(a,t,t[8],null);return{c(){e=S("div"),n=S("div"),d&&d.c(),z(n,"class","container svelte-1e79ph6"),z(n,"style",t[1]),z(e,"class","layer row svelte-1e79ph6")},m(o,r){A(o,e,r),C(e,n),d&&d.m(n,null),l=!0,i||(c=[g(s=t[4].call(null,n)),N(n,"click",T(t[10])),N(e,"click",t[3])],i=!0)},p(t,e){d&&d.p&&(!l||256&e)&&p(d,a,t,t[8],l?f(a,t[8],e,null):m(t[8]),null),(!l||2&e)&&z(n,"style",t[1])},i(t){l||(yt(d,t),o&&o.end(1),l=!0)},o(t){wt(d,t),o=bt(e,ke,{duration:100}),l=!1},d(t){t&&U(e),d&&d.d(t),t&&o&&o.end(),i=!1,r(c)}}}function rn(n){let s,o,i,c,a,d,h,$;const v=n[9].default,w=u(v,n,n[8],null);return{c(){s=S("div"),w&&w.c(),z(s,"class","container svelte-1e79ph6"),z(s,"style",o="z-index:99999;"+n[1])},m(t,e){A(t,s,e),w&&w.m(s,null),d=!0,h||($=[g(i=n[4].call(null,s)),N(s,"click",n[3])],h=!0)},p(t,e){w&&w.p&&(!d||256&e)&&p(w,v,t,t[8],d?f(v,t[8],e,null):m(t[8]),null),(!d||2&e&&o!==(o="z-index:99999;"+t[1]))&&z(s,"style",o)},i(n){d||(yt(w,n),lt((()=>{a&&a.end(1),c=function(n,s,o){let r,i,c=s(n,o),a=!1,u=0;function d(){r&&F(n,r)}function f(){const{delay:s=0,duration:o=300,easing:l=e,tick:f=t,css:p}=c||xt;p&&(r=H(n,0,1,o,s,l,p,u++)),f(0,1);const m=y()+s,h=m+o;i&&i.abort(),a=!0,lt((()=>mt(n,!0,"start"))),i=k((t=>{if(a){if(t>=h)return f(1,0),mt(n,!0,"end"),d(),a=!1;if(t>=m){const e=l((t-m)/o);f(e,1-e)}}return a}))}let p=!1;return{start(){p||(p=!0,F(n),l(c)?(c=c(),pt().then(f)):f())},invalidate(){p=!1},end(){a&&(d(),a=!1)}}}(s,ke,{duration:120}),c.start()})),d=!0)},o(t){wt(w,t),c&&c.invalidate(),a=bt(s,ke,{duration:80}),d=!1},d(t){t&&U(s),w&&w.d(t),t&&a&&a.end(),h=!1,r($)}}}function ln(t){let e,n,s,o=t[0]&&!t[2]&&on(t),r=t[0]&&t[2]&&rn(t);return{c(){o&&o.c(),e=q(),r&&r.c(),n=E()},m(t,l){o&&o.m(t,l),A(t,e,l),r&&r.m(t,l),A(t,n,l),s=!0},p(t,[s]){t[0]&&!t[2]?o?(o.p(t,s),5&s&&yt(o,1)):(o=on(t),o.c(),yt(o,1),o.m(e.parentNode,e)):o&&(gt(),wt(o,1,1,(()=>{o=null})),vt()),t[0]&&t[2]?r?(r.p(t,s),5&s&&yt(r,1)):(r=rn(t),r.c(),yt(r,1),r.m(n.parentNode,n)):r&&(gt(),wt(r,1,1,(()=>{r=null})),vt())},i(t){s||(yt(o),yt(r),s=!0)},o(t){wt(o),wt(r),s=!1},d(t){o&&o.d(t),t&&U(e),r&&r.d(t),t&&U(n)}}}function cn(t,e,n){let{$$slots:s={},$$scope:o}=e;const r=K();function l(){r("layerClick")}Q("close",l);let{showPopupWindow:i=!1}=e,{cssText:c=""}=e,{noLayer:a=!1}=e;return t.$$set=t=>{"showPopupWindow"in t&&n(0,i=t.showPopupWindow),"cssText"in t&&n(1,c=t.cssText),"noLayer"in t&&n(2,a=t.noLayer),"$$scope"in t&&n(8,o=t.$$scope)},[i,c,a,l,function(t){return r("animIn",t),{destroy(){r("animOut",t)}}},function(t,e={}){return undefined.animate(t,e)},function(){n(0,i=!0)},function(){n(0,i=!1)},o,s,function(e){Z.call(this,t,e)}]}class an extends Dt{constructor(t){super(),St(this,t,cn,ln,i,{showPopupWindow:0,cssText:1,noLayer:2,animate:5,destroy:6,pop:7})}get animate(){return this.$$.ctx[5]}get destroy(){return this.$$.ctx[6]}get pop(){return this.$$.ctx[7]}}const un=t=>({}),dn=t=>({...t[4]});function fn(t){let e;const n=t[7].default,s=u(n,t,t[6],dn);return{c(){s&&s.c()},m(t,n){s&&s.m(t,n),e=!0},p(t,o){s&&s.p&&(!e||80&o)&&p(s,n,t,t[6],(t=>16&t)(o)||!e?m(t[6]):f(n,t[6],o,un),dn)},i(t){e||(yt(s,t),e=!0)},o(t){wt(s,t),e=!1},d(t){s&&s.d(t)}}}function pn(t){let e,s,o;const r=[t[4]];var l=t[0];function i(t){let e={};for(let t=0;t<r.length;t+=1)e=n(e,r[t]);return{props:e}}return l&&(e=new l(i())),{c(){e&&Lt(e.$$.fragment),s=E()},m(t,n){e&&At(e,t,n),A(t,s,n),o=!0},p(t,n){const o=16&n?kt(r,[Ct(t[4])]):{};if(l!==(l=t[0])){if(e){gt();const t=e;wt(t.$$.fragment,1,0,(()=>{Ut(t,1)})),vt()}l?(e=new l(i()),Lt(e.$$.fragment),yt(e.$$.fragment,1),At(e,s.parentNode,s)):e=null}else l&&e.$set(o)},i(t){o||(e&&yt(e.$$.fragment,t),o=!0)},o(t){e&&wt(e.$$.fragment,t),o=!1},d(t){t&&U(s),e&&Ut(e,t)}}}function mn(t){let e,n,s,o,r,l;const i=[pn,fn],c=[];function a(t,e){return t[0]?0:1}return n=a(t),s=c[n]=i[n](t),{c(){e=S("div"),s.c(),z(e,"class","container svelte-1mv98ub"),z(e,"style",t[1])},m(s,i){A(s,e,i),c[n].m(e,null),t[8](e),o=!0,r||(l=N(e,"mousedown",t[3]),r=!0)},p(t,[r]){let l=n;n=a(t),n===l?c[n].p(t,r):(gt(),wt(c[l],1,1,(()=>{c[l]=null})),vt(),s=c[n],s?s.p(t,r):(s=c[n]=i[n](t),s.c()),yt(s,1),s.m(e,null)),(!o||2&r)&&z(e,"style",t[1])},i(t){o||(yt(s),o=!0)},o(t){wt(s),o=!1},d(s){s&&U(e),c[n].d(),t[8](null),r=!1,l()}}}function hn(t){t.animate({opacity:["0.4","0"]},200).onfinish=()=>{t.remove()}}function $n(t,e,s){let{$$slots:o={},$$scope:r}=e,{rippleColor:l=""}=e,{component:i=null}=e,{cssStyle:c=""}=e,a=null;return t.$$set=t=>{s(4,e=n(n({},e),h(t))),"rippleColor"in t&&s(5,l=t.rippleColor),"component"in t&&s(0,i=t.component),"cssStyle"in t&&s(1,c=t.cssStyle),"$$scope"in t&&s(6,r=t.$$scope)},e=h(e),[i,c,a,function(t){!function(t,e,n,s){const{left:o,top:r}=t.getBoundingClientRect(),{pageX:l,pageY:i}=e,{offsetWidth:c,offsetHeight:a}=t,u=Math.sqrt(a**2+c**2)/2,d=document.createElement("div");d.style.position="absolute",d.style.borderRadius="50%",d.style.opacity="0.4",d.style.pointerEvents="none",t.appendChild(d),d.animate([{top:i-r+"px",left:l-o+"px",width:"0px",height:"0px",backgroundColor:`${s||"var(--controlColor)"}`},{top:a/2-u+"px",left:c/2-u+"px",width:2*u+"px",height:2*u+"px",backgroundColor:`${s||"var(--controlColor)"}`}],{duration:320,fill:"forwards",easing:"cubic-bezier(0.05, 0.7, 0.2, 1)"}).onfinish=()=>{"function"==typeof n&&n.call(d,d)}}(a,t,hn,l)},e,l,r,o,function(t){et[t?"unshift":"push"]((()=>{a=t,s(2,a)}))}]}class gn extends Dt{constructor(t){super(),St(this,t,$n,mn,i,{rippleColor:5,component:0,cssStyle:1})}}function vn(e){let n;return{c(){n=S("div"),M(n,"width","14px")},m(t,e){A(t,n,e)},p:t,i:t,o:t,d(t){t&&U(n)}}}function yn(t){let e,n,s;return n=new Xt({props:{size:t[1],isUrl:t[0],avatar:t[2],width:t[6],height:t[7]}}),{c(){e=S("div"),Lt(n.$$.fragment),z(e,"class","column leading svelte-emkyx5")},m(t,o){A(t,e,o),At(n,e,null),s=!0},p(t,e){const s={};2&e&&(s.size=t[1]),1&e&&(s.isUrl=t[0]),4&e&&(s.avatar=t[2]),64&e&&(s.width=t[6]),128&e&&(s.height=t[7]),n.$set(s)},i(t){s||(yt(n.$$.fragment,t),s=!0)},o(t){wt(n.$$.fragment,t),s=!1},d(t){t&&U(e),Ut(n)}}}function wn(t){let e,n,s,o;function r(t,e){return t[4]?kn:bn}let l=r(t),i=l(t);const c=t[13].default,a=u(c,t,t[14],null);return{c(){e=S("div"),n=S("div"),i.c(),s=q(),a&&a.c(),z(n,"class","row align svelte-emkyx5"),z(n,"style",t[5]),z(e,"class","column"),M(e,"justify-content","space-between"),M(e,"width",t[9]?"calc(100% - 84px)":"calc(100% - 28px)")},m(t,r){A(t,e,r),C(e,n),i.m(n,null),C(e,s),a&&a.m(e,null),o=!0},p(t,s){l===(l=r(t))&&i?i.p(t,s):(i.d(1),i=l(t),i&&(i.c(),i.m(n,null))),(!o||32&s)&&z(n,"style",t[5]),a&&a.p&&(!o||16384&s)&&p(a,c,t,t[14],o?f(c,t[14],s,null):m(t[14]),null),(!o||512&s)&&M(e,"width",t[9]?"calc(100% - 84px)":"calc(100% - 28px)")},i(t){o||(yt(a,t),o=!0)},o(t){wt(a,t),o=!1},d(t){t&&U(e),i.d(),a&&a.d(t)}}}function xn(t){let e,n,s;function o(t,e){return t[4]?_n:Cn}let r=o(t),l=r(t);const i=t[13].default,c=u(i,t,t[14],null);return{c(){e=S("div"),l.c(),n=q(),c&&c.c(),z(e,"class","row align svelte-emkyx5"),z(e,"style",t[5])},m(t,o){A(t,e,o),l.m(e,null),C(e,n),c&&c.m(e,null),s=!0},p(t,a){r===(r=o(t))&&l?l.p(t,a):(l.d(1),l=r(t),l&&(l.c(),l.m(e,n))),c&&c.p&&(!s||16384&a)&&p(c,i,t,t[14],s?f(i,t[14],a,null):m(t[14]),null),(!s||32&a)&&z(e,"style",t[5])},i(t){s||(yt(c,t),s=!0)},o(t){wt(c,t),s=!1},d(t){t&&U(e),l.d(),c&&c.d(t)}}}function bn(t){let e,n;return{c(){e=S("span"),n=D(t[3])},m(t,s){A(t,e,s),C(e,n)},p(t,e){8&e&&O(n,t[3])},d(t){t&&U(e)}}}function kn(t){let e,n,s,o,r;return{c(){e=S("span"),n=D(t[3]),s=q(),o=S("span"),r=D(t[4]),M(o,"font-size","small"),M(o,"color","#888")},m(t,l){A(t,e,l),C(e,n),A(t,s,l),A(t,o,l),C(o,r)},p(t,e){8&e&&O(n,t[3]),16&e&&O(r,t[4])},d(t){t&&U(e),t&&U(s),t&&U(o)}}}function Cn(t){let e,n;return{c(){e=S("span"),n=D(t[3])},m(t,s){A(t,e,s),C(e,n)},p(t,e){8&e&&O(n,t[3])},d(t){t&&U(e)}}}function _n(t){let e,n,s,o,r;return{c(){e=S("span"),n=D(t[3]),s=q(),o=S("span"),r=D(t[4]),M(o,"font-size","small"),M(o,"color","#888")},m(t,l){A(t,e,l),C(e,n),A(t,s,l),A(t,o,l),C(o,r)},p(t,e){8&e&&O(n,t[3]),16&e&&O(r,t[4])},d(t){t&&U(e),t&&U(s),t&&U(o)}}}function Ln(t){let e,n,s,o,l,i,c,a,u,d;const f=[yn,vn],p=[];function m(t,e){return t[9]?0:1}n=m(t),s=p[n]=f[n](t);const h=[xn,wn],$=[];function g(t,e){return t[10]?0:1}return l=g(t),i=$[l]=h[l](t),{c(){e=S("div"),s.c(),o=q(),i.c(),z(e,"class",c="column c"+(t[8]?" cl":"")+" svelte-emkyx5")},m(s,r){A(s,e,r),p[n].m(e,null),C(e,o),$[l].m(e,null),a=!0,u||(d=[N(e,"click",t[11]),N(e,"mousedown",t[12])],u=!0)},p(t,r){let u=n;n=m(t),n===u?p[n].p(t,r):(gt(),wt(p[u],1,1,(()=>{p[u]=null})),vt(),s=p[n],s?s.p(t,r):(s=p[n]=f[n](t),s.c()),yt(s,1),s.m(e,o));let d=l;l=g(t),l===d?$[l].p(t,r):(gt(),wt($[d],1,1,(()=>{$[d]=null})),vt(),i=$[l],i?i.p(t,r):(i=$[l]=h[l](t),i.c()),yt(i,1),i.m(e,null)),(!a||256&r&&c!==(c="column c"+(t[8]?" cl":"")+" svelte-emkyx5"))&&z(e,"class",c)},i(t){a||(yt(s),yt(i),a=!0)},o(t){wt(s),wt(i),a=!1},d(t){t&&U(e),p[n].d(),$[l].d(),u=!1,r(d)}}}function An(t){let e,n;return e=new gn({props:{cssStyle:"width: 100%",rippleColor:t[8]?"gray":"transparent",$$slots:{default:[Ln]},$$scope:{ctx:t}}}),{c(){Lt(e.$$.fragment)},m(t,s){At(e,t,s),n=!0},p(t,[n]){const s={};256&n&&(s.rippleColor=t[8]?"gray":"transparent"),18431&n&&(s.$$scope={dirty:n,ctx:t}),e.$set(s)},i(t){n||(yt(e.$$.fragment,t),n=!0)},o(t){wt(e.$$.fragment,t),n=!1},d(t){Ut(e,t)}}}function Un(t,e,n){let{$$slots:s={},$$scope:o}=e;const r=K();let{isUrl:l=!0}=e,{size:i="normal"}=e,{avatar:c=""}=e,{data:a=""}=e,{extra:u=""}=e,{style:d=""}=e,{width:f}=e,{height:p}=e,{clickable:m=!0}=e,{useAvatar:h=!0}=e,{breakLine:$=!1}=e;return t.$$set=t=>{"isUrl"in t&&n(0,l=t.isUrl),"size"in t&&n(1,i=t.size),"avatar"in t&&n(2,c=t.avatar),"data"in t&&n(3,a=t.data),"extra"in t&&n(4,u=t.extra),"style"in t&&n(5,d=t.style),"width"in t&&n(6,f=t.width),"height"in t&&n(7,p=t.height),"clickable"in t&&n(8,m=t.clickable),"useAvatar"in t&&n(9,h=t.useAvatar),"breakLine"in t&&n(10,$=t.breakLine),"$$scope"in t&&n(14,o=t.$$scope)},[l,i,c,a,u,d,f,p,m,h,$,function(t){r("click",t)},function(t){r("mousedown",t)},s,o]}class Pn extends Dt{constructor(t){super(),St(this,t,Un,An,i,{isUrl:0,size:1,avatar:2,data:3,extra:4,style:5,width:6,height:7,clickable:8,useAvatar:9,breakLine:10})}}function Sn(e){let n,s,o,r,l;return{c(){n=S("img"),o=q(),r=S("h5"),l=D(e[6]),a(n.src,s=e[5])||z(n,"src",s),z(n,"width",228),z(n,"height",228),z(n,"draggable","false"),z(n,"alt"," "),M(n,"border-radius","24px")},m(t,s){A(t,n,s),e[13](n),A(t,o,s),A(t,r,s),C(r,l)},p(t,e){32&e&&!a(n.src,s=t[5])&&z(n,"src",s),64&e&&O(l,t[6])},i:t,o:t,d(t){t&&U(n),e[13](null),t&&U(o),t&&U(r)}}}function Dn(t){let e,n,s,o,l,i,c,a,u,d,f;return a=new gn({props:{rippleColor:"#000",cssStyle:"border-radius: 8px;",$$slots:{default:[qn]},$$scope:{ctx:t}}}),{c(){e=S("input"),s=q(),o=S("input"),i=q(),c=S("div"),Lt(a.$$.fragment),z(e,"type","text"),z(e,"class",n=$(t[2]&&"error")+" svelte-12m1k1q"),z(e,"placeholder","电话"),z(o,"type","password"),z(o,"class",l=$(t[2]&&"error")+" svelte-12m1k1q"),z(o,"placeholder","密码"),M(c,"padding","24px 0px 12px 0px")},m(n,r){A(n,e,r),j(e,t[0]),A(n,s,r),A(n,o,r),j(o,t[1]),A(n,i,r),A(n,c,r),At(a,c,null),u=!0,d||(f=[N(e,"input",t[11]),N(o,"input",t[12])],d=!0)},p(t,s){(!u||4&s&&n!==(n=$(t[2]&&"error")+" svelte-12m1k1q"))&&z(e,"class",n),1&s&&e.value!==t[0]&&j(e,t[0]),(!u||4&s&&l!==(l=$(t[2]&&"error")+" svelte-12m1k1q"))&&z(o,"class",l),2&s&&o.value!==t[1]&&j(o,t[1]);const r={};65536&s&&(r.$$scope={dirty:s,ctx:t}),a.$set(r)},i(t){u||(yt(a.$$.fragment,t),u=!0)},o(t){wt(a.$$.fragment,t),u=!1},d(t){t&&U(e),t&&U(s),t&&U(o),t&&U(i),t&&U(c),Ut(a),d=!1,r(f)}}}function qn(e){let n,s,o;return{c(){n=S("div"),n.textContent="登陆",z(n,"class","column submit svelte-12m1k1q")},m(t,r){A(t,n,r),s||(o=N(n,"click",e[7]),s=!0)},p:t,d(t){t&&U(n),s=!1,o()}}}function En(t){let e,n,s,o,r,l,i,c,a,u,d,f,p,m=t[8][t[3]]+"",h=t[8][t[3]?0:1]+"";const $=[Dn,Sn],g=[];function v(t,e){return t[3]?t[5]?1:-1:0}return~(a=v(t))&&(u=g[a]=$[a](t)),{c(){e=S("div"),n=S("h3"),s=D(m),o=D("登录 "),r=S("span"),l=D("使用"),i=D(h),c=q(),u&&u.c(),z(r,"class","span svelte-12m1k1q"),z(e,"class","row c svelte-12m1k1q")},m(u,m){A(u,e,m),C(e,n),C(n,s),C(n,o),C(n,r),C(r,l),C(r,i),C(e,c),~a&&g[a].m(e,null),d=!0,f||(p=N(r,"click",t[10]),f=!0)},p(t,[n]){(!d||8&n)&&m!==(m=t[8][t[3]]+"")&&O(s,m),(!d||8&n)&&h!==(h=t[8][t[3]?0:1]+"")&&O(i,h);let o=a;a=v(t),a===o?~a&&g[a].p(t,n):(u&&(gt(),wt(g[o],1,1,(()=>{g[o]=null})),vt()),~a?(u=g[a],u?u.p(t,n):(u=g[a]=$[a](t),u.c()),yt(u,1),u.m(e,null)):u=null)},i(t){d||(yt(u),d=!0)},o(t){wt(u),d=!1},d(t){t&&U(e),~a&&g[a].d(),f=!1,p()}}}function Nn(t,e,n){const s=G("close")||(()=>{rem.emit("__openMinePage"),rem.emit("__updateLoginAvatar")});let o,r,l=!1;let i,c=0,a="",u="等待扫描";async function d(){const t=await NeteaseApi.loginViaQRCode(),e=t[0];n(5,a=t[1].body.data.qrimg);let o=async()=>{const t=await NeteaseApi.validQRLogin(e);if(1!==c)return;let r=()=>setTimeout((async()=>{await o()}),500);switch(n(6,u=t.body.message),t.body.code){case 801:r();break;case 800:d();break;case 802:n(4,i.style.opacity=.32,i),r();break;case 803:store.set("cookie",t.body.cookie),async function(){const t=await NeteaseApi.getUserAccount(store.get("cookie"));store.set("profile",t.body.data.profile),s()}()}};o()}return[o,r,l,c,i,a,u,async function(){const t=await NeteaseApi.login(o,r);if(200!==t.body.code)return n(1,r=""),void n(2,l=!0);localStorage.setItem("profile",JSON.stringify(t.body.profile)),localStorage.setItem("token",JSON.stringify(t.body.token)),store.set("cookie",t.cookie.join("")),s()},["手机","二维码"],d,()=>{n(3,c=c?0:1),c&&d()},function(){o=this.value,n(0,o)},function(){r=this.value,n(1,r)},function(t){et[t?"unshift":"push"]((()=>{i=t,n(4,i)}))}]}class Tn extends Dt{constructor(t){super(),St(this,t,Nn,En,i,{})}}function zn(e){let n,s,o,r,l,i,c,a,u,d,f,p;return n=new Xt({props:{avatar:e[0].avatarUrl,width:120,height:120}}),n.$on("click",On),i=new Me({props:{id:"profileName",value:e[0].nickname}}),f=new Me({props:{id:"profileDesc",maxlength:300,value:e[0].description,singleLine:!1,cssText:"height: 120px"}}),{c(){Lt(n.$$.fragment),s=q(),o=S("div"),r=S("span"),r.textContent="昵称",l=q(),Lt(i.$$.fragment),c=q(),a=S("div"),u=S("span"),u.textContent="介绍",d=q(),Lt(f.$$.fragment),z(r,"class","svelte-1t36vlu"),z(o,"class","row input svelte-1t36vlu"),z(u,"class","svelte-1t36vlu"),z(a,"class","row input svelte-1t36vlu")},m(t,e){At(n,t,e),A(t,s,e),A(t,o,e),C(o,r),C(o,l),At(i,o,null),A(t,c,e),A(t,a,e),C(a,u),C(a,d),At(f,a,null),p=!0},p:t,i(t){p||(yt(n.$$.fragment,t),yt(i.$$.fragment,t),yt(f.$$.fragment,t),p=!0)},o(t){wt(n.$$.fragment,t),wt(i.$$.fragment,t),wt(f.$$.fragment,t),p=!1},d(t){Ut(n,t),t&&U(s),t&&U(o),Ut(i),t&&U(c),t&&U(a),Ut(f)}}}function On(){}function jn(t){return[store.get("profile")]}class Mn extends Dt{constructor(t){super(),St(this,t,jn,zn,i,{})}}function Bn(t){let e,n;return{c(){e=S("div"),n=D(t[5]),M(e,"color","var(--controlColor)"),M(e,"font-weight","bold"),M(e,"margin-bottom","12px"),M(e,"margin-left","calc(14px + "+t[0]+")")},m(t,s){A(t,e,s),C(e,n)},p(t,s){32&s&&O(n,t[5]),1&s&&M(e,"margin-left","calc(14px + "+t[0]+")")},d(t){t&&U(e)}}}function Rn(t){let e,n,s,o,r=t[5]&&Bn(t);const l=t[7].default,i=u(l,t,t[6],null);return{c(){e=S("div"),r&&r.c(),n=q(),s=S("div"),i&&i.c(),M(s,"border-radius",t[2]),M(s,"background-color",t[3]),M(s,"width","calc(100% - "+t[0]+" * 2)"),M(s,"height","fit-content"),M(s,"box-shadow","0px 0px 4px "+t[4]),M(s,"overflow","hidden"),M(s,"margin",t[1]+" "+t[0]),M(e,"margin-top","24px"),M(e,"width","100%")},m(t,l){A(t,e,l),r&&r.m(e,null),C(e,n),C(e,s),i&&i.m(s,null),o=!0},p(t,[c]){t[5]?r?r.p(t,c):(r=Bn(t),r.c(),r.m(e,n)):r&&(r.d(1),r=null),i&&i.p&&(!o||64&c)&&p(i,l,t,t[6],o?f(l,t[6],c,null):m(t[6]),null),(!o||4&c)&&M(s,"border-radius",t[2]),(!o||8&c)&&M(s,"background-color",t[3]),(!o||1&c)&&M(s,"width","calc(100% - "+t[0]+" * 2)"),(!o||16&c)&&M(s,"box-shadow","0px 0px 4px "+t[4]),(!o||3&c)&&M(s,"margin",t[1]+" "+t[0])},i(t){o||(yt(i,t),o=!0)},o(t){wt(i,t),o=!1},d(t){t&&U(e),r&&r.d(),i&&i.d(t)}}}function In(t,e,n){let{$$slots:s={},$$scope:o}=e,{marginHorizon:r="10px"}=e,{marginVertical:l="0px"}=e,{radius:i="12px"}=e,{color:c="rgba(255,255,255,0.4)"}=e,{shadowColor:a="rgba(0,0,0,0.2)"}=e,{title:u=""}=e;return t.$$set=t=>{"marginHorizon"in t&&n(0,r=t.marginHorizon),"marginVertical"in t&&n(1,l=t.marginVertical),"radius"in t&&n(2,i=t.radius),"color"in t&&n(3,c=t.color),"shadowColor"in t&&n(4,a=t.shadowColor),"title"in t&&n(5,u=t.title),"$$scope"in t&&n(6,o=t.$$scope)},[r,l,i,c,a,u,o,s]}class Wn extends Dt{constructor(t){super(),St(this,t,In,Rn,i,{marginHorizon:0,marginVertical:1,radius:2,color:3,shadowColor:4,title:5})}}function Hn(t,e,n){const s=t.slice();return s[6]=e[n],s[8]=n,s}function Fn(t){let e,n,s,o,l,i=t[6]+"";function c(...e){return t[4](t[8],...e)}return{c(){e=S("div"),n=D(i),z(e,"class",s="btn outlined"+(t[0]===t[8]?" selected":"")+" svelte-mvb7d9")},m(t,s){A(t,e,s),C(e,n),o||(l=[N(e,"click",c),N(e,"mousedown",Vn)],o=!0)},p(o,r){t=o,2&r&&i!==(i=t[6]+"")&&O(n,i),1&r&&s!==(s="btn outlined"+(t[0]===t[8]?" selected":"")+" svelte-mvb7d9")&&z(e,"class",s)},d(t){t&&U(e),o=!1,r(l)}}}function Xn(t){let e,n=t[1],s=[];for(let e=0;e<n.length;e+=1)s[e]=Fn(Hn(t,n,e));return{c(){e=S("div");for(let t=0;t<s.length;t+=1)s[t].c();z(e,"class","column"),M(e,"padding-top","8px")},m(t,n){A(t,e,n);for(let t=0;t<s.length;t+=1)s[t].m(e,null)},p(t,o){if(7&o){let r;for(n=t[1],r=0;r<n.length;r+=1){const l=Hn(t,n,r);s[r]?s[r].p(l,o):(s[r]=Fn(l),s[r].c(),s[r].m(e,null))}for(;r<s.length;r+=1)s[r].d(1);s.length=n.length}},d(t){t&&U(e),P(s,t)}}}function Yn(t){let e,s;const o=[t[3],{breakLine:!0}];let r={$$slots:{default:[Xn]},$$scope:{ctx:t}};for(let t=0;t<o.length;t+=1)r=n(r,o[t]);return e=new Pn({props:r}),{c(){Lt(e.$$.fragment)},m(t,n){At(e,t,n),s=!0},p(t,[n]){const s=8&n?kt(o,[Ct(t[3]),o[1]]):{};515&n&&(s.$$scope={dirty:n,ctx:t}),e.$set(s)},i(t){s||(yt(e.$$.fragment,t),s=!0)},o(t){wt(e.$$.fragment,t),s=!1},d(t){Ut(e,t)}}}const Vn=t=>t.stopPropagation();function Jn(t,e,s){let{dataList:o=[]}=e,{selected:r=0}=e;const l=K();function i(t,e){l("selected",e),s(0,r=e)}return t.$$set=t=>{s(3,e=n(n({},e),h(t))),"dataList"in t&&s(1,o=t.dataList),"selected"in t&&s(0,r=t.selected)},e=h(e),[r,o,i,e,(t,e)=>i(0,t)]}class Kn extends Dt{constructor(t){super(),St(this,t,Jn,Yn,i,{dataList:1,selected:0})}}function Qn(e){let n,s,o,l,i,c;return{c(){n=S("div"),s=S("div"),z(s,"class",o="switchThumb"+(e[0]?" thumb-active":"")+" svelte-9mloa7"),z(n,"class",l="switch"+(e[0]?" active":"")+" svelte-9mloa7")},m(t,o){A(t,n,o),C(n,s),i||(c=[N(n,"mousedown",T(Gn)),N(n,"click",T(e[1]))],i=!0)},p(t,[e]){1&e&&o!==(o="switchThumb"+(t[0]?" thumb-active":"")+" svelte-9mloa7")&&z(s,"class",o),1&e&&l!==(l="switch"+(t[0]?" active":"")+" svelte-9mloa7")&&z(n,"class",l)},i:t,o:t,d(t){t&&U(n),i=!1,r(c)}}}const Gn=()=>{};function Zn(t,e,n){let{checked:s=!1}=e;const o=K();function r(){n(0,s=!s),o("toggle",s)}return t.$$set=t=>{"checked"in t&&n(0,s=t.checked)},[s,r,function(){r()}]}class ts extends Dt{constructor(t){super(),St(this,t,Zn,Qn,i,{checked:0,toggle:2})}get toggle(){return this.$$.ctx[2]}}function es(t){let e,n,s;function o(e){t[4](e)}let r={};return void 0!==t[0]&&(r.checked=t[0]),e=new ts({props:r}),et.push((()=>_t(e,"checked",o))),t[5](e),e.$on("toggle",t[2]),{c(){Lt(e.$$.fragment)},m(t,n){At(e,t,n),s=!0},p(t,s){const o={};!n&&1&s&&(n=!0,o.checked=t[0],it((()=>n=!1))),e.$set(o)},i(t){s||(yt(e.$$.fragment,t),s=!0)},o(t){wt(e.$$.fragment,t),s=!1},d(n){t[5](null),Ut(e,n)}}}function ns(t){let e,s;const o=[t[3]];let r={$$slots:{default:[es]},$$scope:{ctx:t}};for(let t=0;t<o.length;t+=1)r=n(r,o[t]);return e=new Pn({props:r}),e.$on("click",t[6]),{c(){Lt(e.$$.fragment)},m(t,n){At(e,t,n),s=!0},p(t,[n]){const s=8&n?kt(o,[Ct(t[3])]):{};259&n&&(s.$$scope={dirty:n,ctx:t}),e.$set(s)},i(t){s||(yt(e.$$.fragment,t),s=!0)},o(t){wt(e.$$.fragment,t),s=!1},d(t){Ut(e,t)}}}function ss(t,e,s){let o,r=K(),{checked:l=!1}=e;return t.$$set=t=>{s(3,e=n(n({},e),h(t))),"checked"in t&&s(0,l=t.checked)},e=h(e),[l,o,function(t){let e=t.detail;r("toggle",e)},e,function(t){l=t,s(0,l)},function(t){et[t?"unshift":"push"]((()=>{o=t,s(1,o)}))},()=>o.toggle()]}class os extends Dt{constructor(t){super(),St(this,t,ss,ns,i,{checked:0})}}function rs(t){let e,n,s;function o(e){t[6](e)}let r={data:"开发者工具",extra:"开启或关闭 DevTools",useAvatar:!1,isUrl:!1};return void 0!==t[3]&&(r.checked=t[3]),e=new os({props:r}),et.push((()=>_t(e,"checked",o))),e.$on("toggle",us),{c(){Lt(e.$$.fragment)},m(t,n){At(e,t,n),s=!0},p(t,s){const o={};!n&&8&s&&(n=!0,o.checked=t[3],it((()=>n=!1))),e.$set(o)},i(t){s||(yt(e.$$.fragment,t),s=!0)},o(t){wt(e.$$.fragment,t),s=!1},d(t){Ut(e,t)}}}function ls(t){let e,n,s,o,r,l,i;function c(e){t[7](e)}function a(e){t[8](e)}let u={data:"主题色 (色相)",useAvatar:!1,isUrl:!1};function d(e){t[9](e)}void 0!==t[0]&&(u.dataList=t[0]),void 0!==t[1]&&(u.selected=t[1]),e=new Kn({props:u}),et.push((()=>_t(e,"dataList",c))),et.push((()=>_t(e,"selected",a))),e.$on("selected",t[4]);let f={data:'使用 "Acrylic" ',extra:"性能较低的设备关闭此选项以获得更好的体验",useAvatar:!1,isUrl:!1};return void 0!==t[2]&&(f.checked=t[2]),r=new os({props:f}),et.push((()=>_t(r,"checked",d))),r.$on("toggle",t[5]),{c(){Lt(e.$$.fragment),o=q(),Lt(r.$$.fragment)},m(t,n){At(e,t,n),A(t,o,n),At(r,t,n),i=!0},p(t,o){const i={};!n&&1&o&&(n=!0,i.dataList=t[0],it((()=>n=!1))),!s&&2&o&&(s=!0,i.selected=t[1],it((()=>s=!1))),e.$set(i);const c={};!l&&4&o&&(l=!0,c.checked=t[2],it((()=>l=!1))),r.$set(c)},i(t){i||(yt(e.$$.fragment,t),yt(r.$$.fragment,t),i=!0)},o(t){wt(e.$$.fragment,t),wt(r.$$.fragment,t),i=!1},d(t){Ut(e,t),t&&U(o),Ut(r,t)}}}function is(e){let n,s;return n=new Pn({props:{useAvatar:!1,data:"清除所有缓存",extra:"需手动重启应用"}}),n.$on("click",ds),{c(){Lt(n.$$.fragment)},m(t,e){At(n,t,e),s=!0},p:t,i(t){s||(yt(n.$$.fragment,t),s=!0)},o(t){wt(n.$$.fragment,t),s=!1},d(t){Ut(n,t)}}}function cs(t){let e,n,s,o,r,l,i,c,a,u,d;r=new Me({props:{placeholder:"  搜索设置",fullBorder:!0}});let f=window.rem.isBeta&&function(t){let e,n;return e=new Wn({props:{title:"测试功能",$$slots:{default:[rs]},$$scope:{ctx:t}}}),{c(){Lt(e.$$.fragment)},m(t,s){At(e,t,s),n=!0},p(t,n){const s={};2056&n&&(s.$$scope={dirty:n,ctx:t}),e.$set(s)},i(t){n||(yt(e.$$.fragment,t),n=!0)},o(t){wt(e.$$.fragment,t),n=!1},d(t){Ut(e,t)}}}(t);return c=new Wn({props:{title:"主题",$$slots:{default:[ls]},$$scope:{ctx:t}}}),u=new Wn({props:{title:"缓存",$$slots:{default:[is]},$$scope:{ctx:t}}}),{c(){e=S("div"),n=S("div"),s=S("h1"),s.textContent="设置",o=q(),Lt(r.$$.fragment),l=q(),f&&f.c(),i=q(),Lt(c.$$.fragment),a=q(),Lt(u.$$.fragment),z(s,"class","svelte-cndn71"),z(n,"class","column grid-margin svelte-cndn71"),M(n,"justify-content","space-between"),M(n,"width","calc(100% - 48px)"),z(e,"class","row c svelte-cndn71")},m(t,p){A(t,e,p),C(e,n),C(n,s),C(n,o),At(r,n,null),C(e,l),f&&f.m(e,null),C(e,i),At(c,e,null),C(e,a),At(u,e,null),d=!0},p(t,e){window.rem.isBeta&&f.p(t,e);const n={};2055&e&&(n.$$scope={dirty:e,ctx:t}),c.$set(n);const s={};2048&e&&(s.$$scope={dirty:e,ctx:t}),u.$set(s)},i(t){d||(yt(r.$$.fragment,t),yt(f),yt(c.$$.fragment,t),yt(u.$$.fragment,t),d=!0)},o(t){wt(r.$$.fragment,t),wt(f),wt(c.$$.fragment,t),wt(u.$$.fragment,t),d=!1},d(t){t&&U(e),Ut(r),f&&f.d(),Ut(c),Ut(u)}}}function as(t){let e,n;return e=new be({props:{$$slots:{default:[cs]},$$scope:{ctx:t}}}),{c(){Lt(e.$$.fragment)},m(t,s){At(e,t,s),n=!0},p(t,[n]){const s={};2063&n&&(s.$$scope={dirty:n,ctx:t}),e.$set(s)},i(t){n||(yt(e.$$.fragment,t),n=!0)},o(t){wt(e.$$.fragment,t),n=!1},d(t){Ut(e,t)}}}function us(t){const e=t.detail?"open":"close";hooks.send(`devtools:${e}`)}function ds(){store.clear()}function fs(t,e,n){let s=store.get("sys-settings"),o=s.theme.controlColor.slice(1),r=s.theme.controlColor[0],l=s.theme.useAcrylic,i=s.beta.showDevTools;return[o,r,l,i,function(t){const e=t.detail;n(1,r=s.theme.controlColor[0]=e),rem.emit("changeControlColor",o[r]),store.set("sys-settings",s)},function(t){const e=t.detail;s.theme.useAcrylic=e,rem.emit("useAcrylic",e)},function(t){i=t,n(3,i)},function(t){o=t,n(0,o)},function(t){r=t,n(1,r)},function(t){l=t,n(2,l)}]}class ps extends Dt{constructor(t){super(),St(this,t,fs,as,i,{})}}function ms(t){let e,n;return e=new Tn({}),{c(){Lt(e.$$.fragment)},m(t,s){At(e,t,s),n=!0},i(t){n||(yt(e.$$.fragment,t),n=!0)},o(t){wt(e.$$.fragment,t),n=!1},d(t){Ut(e,t)}}}function hs(e){let n,s,o,r;return{c(){n=S("div"),s=S("div"),s.textContent="  修改个人信息",z(s,"class","btn outlined"),M(n,"padding-left","56px"),M(n,"margin","8px 0px")},m(t,l){A(t,n,l),C(n,s),o||(r=N(s,"click",e[6]),o=!0)},p:t,d(t){t&&U(n),o=!1,r()}}}function $s(e){let n,s;return n=new Pn({props:{isUrl:!1,style:"font-size: small",size:"small",avatar:"",data:"登陆"}}),n.$on("click",e[4]),{c(){Lt(n.$$.fragment)},m(t,e){At(n,t,e),s=!0},p:t,i(t){s||(yt(n.$$.fragment,t),s=!0)},o(t){wt(n.$$.fragment,t),s=!1},d(t){Ut(n,t)}}}function gs(e){let n,s;return n=new Pn({props:{style:"font-size: small",isUrl:!1,size:"small",avatar:"",data:"注销"}}),n.$on("click",e[5]),{c(){Lt(n.$$.fragment)},m(t,e){At(n,t,e),s=!0},p:t,i(t){s||(yt(n.$$.fragment,t),s=!0)},o(t){wt(n.$$.fragment,t),s=!1},d(t){Ut(n,t)}}}function vs(t){let e,n,s,o,r,l,i,c,a,u,d,f,p,m,h,$,g,v;function y(e){t[8](e)}let w={$$slots:{default:[ms]},$$scope:{ctx:t}};void 0!==t[2]&&(w.showPopupWindow=t[2]),s=new an({props:w}),et.push((()=>_t(s,"showPopupWindow",y))),s.$on("layerClick",t[3]),l=new Pn({props:{isUrl:t[0].avatarUrl,avatar:t[0].avatarUrl||"",data:t[0].name,width:28,height:28,clickable:!1}});let x=t[1]&&hs(t);const b=[gs,$s],k=[];function _(t,e){return t[1]?0:1}return a=_(t),u=k[a]=b[a](t),p=new Pn({props:{isUrl:!1,style:"font-size: small",size:"small",avatar:"",data:"设置"}}),p.$on("click",t[7]),h=new Pn({props:{isUrl:!1,style:"font-size: small",size:"small",avatar:"",data:"下载管理"}}),{c(){e=S("div"),n=S("header"),Lt(s.$$.fragment),r=q(),Lt(l.$$.fragment),i=q(),x&&x.c(),c=q(),u.c(),d=q(),f=S("div"),Lt(p.$$.fragment),m=q(),Lt(h.$$.fragment),$=q(),g=S("footer"),g.textContent="REM",z(n,"class","row svelte-ms8jvt"),z(f,"class","article row svelte-ms8jvt"),z(g,"class","column svelte-ms8jvt"),z(e,"class","row c svelte-ms8jvt")},m(t,o){A(t,e,o),C(e,n),At(s,n,null),C(n,r),At(l,n,null),C(n,i),x&&x.m(n,null),C(n,c),k[a].m(n,null),C(e,d),C(e,f),At(p,f,null),C(f,m),At(h,f,null),C(e,$),C(e,g),v=!0},p(t,[e]){const r={};1024&e&&(r.$$scope={dirty:e,ctx:t}),!o&&4&e&&(o=!0,r.showPopupWindow=t[2],it((()=>o=!1))),s.$set(r);const i={};1&e&&(i.isUrl=t[0].avatarUrl),1&e&&(i.avatar=t[0].avatarUrl||""),1&e&&(i.data=t[0].name),l.$set(i),t[1]?x?x.p(t,e):(x=hs(t),x.c(),x.m(n,c)):x&&(x.d(1),x=null);let d=a;a=_(t),a===d?k[a].p(t,e):(gt(),wt(k[d],1,1,(()=>{k[d]=null})),vt(),u=k[a],u?u.p(t,e):(u=k[a]=b[a](t),u.c()),yt(u,1),u.m(n,null))},i(t){v||(yt(s.$$.fragment,t),yt(l.$$.fragment,t),yt(u),yt(p.$$.fragment,t),yt(h.$$.fragment,t),v=!0)},o(t){wt(s.$$.fragment,t),wt(l.$$.fragment,t),wt(u),wt(p.$$.fragment,t),wt(h.$$.fragment,t),v=!1},d(t){t&&U(e),Ut(s),Ut(l),x&&x.d(),k[a].d(),Ut(p),Ut(h)}}}function ys(t,e,n){let s=G("close"),{user:o}=e,r=!!o.avatarUrl,l=!1;return t.$$set=t=>{"user"in t&&n(0,o=t.user)},[o,r,l,()=>{n(2,l=!1);const t=store.get("profile");t&&(n(0,o={avatarUrl:t.avatarUrl,name:t.nickname}),n(1,r=!!o.avatarUrl))},()=>{n(2,l=!0)},function(){store.rm("profile"),store.rm("token"),n(0,o={avatarUrl:"",name:"未登录"}),n(1,r=!!o.avatarUrl)},()=>{s(),Pager.openNew("个人信息",Mn,{})},function(){s(),Pager.openNew("设置",ps,{})},function(t){l=t,n(2,l)}]}class ws extends Dt{constructor(t){super(),St(this,t,ys,vs,i,{user:0})}}function xs(t,e,n){const s=t.slice();return s[23]=e[n],s[33]=n,s}function bs(t,e,n){const s=t.slice();return s[23]=e[n],s}function ks(t,e,n){const s=t.slice();return s[23]=e[n],s}function Cs(t,e,n){const s=t.slice();return s[23]=e[n],s}function _s(t,e,n){const s=t.slice();return s[23]=e[n],s}function Ls(t){let e,n,s;function o(e){t[14](e)}let r={};return void 0!==t[2]&&(r.user=t[2]),e=new ws({props:r}),et.push((()=>_t(e,"user",o))),{c(){Lt(e.$$.fragment)},m(t,n){At(e,t,n),s=!0},p(t,s){const o={};!n&&4&s[0]&&(n=!0,o.user=t[2],it((()=>n=!1))),e.$set(o)},i(t){s||(yt(e.$$.fragment,t),s=!0)},o(t){wt(e.$$.fragment,t),s=!1},d(t){Ut(e,t)}}}function As(t){let e,n,s=t[5],o=[];for(let e=0;e<s.length;e+=1)o[e]=Ps(xs(t,s,e));const r=t=>wt(o[t],1,1,(()=>{o[t]=null}));return{c(){for(let t=0;t<o.length;t+=1)o[t].c();e=E()},m(t,s){for(let e=0;e<o.length;e+=1)o[e].m(t,s);A(t,e,s),n=!0},p(t,n){if(552&n[0]){let l;for(s=t[5],l=0;l<s.length;l+=1){const r=xs(t,s,l);o[l]?(o[l].p(r,n),yt(o[l],1)):(o[l]=Ps(r),o[l].c(),yt(o[l],1),o[l].m(e.parentNode,e))}for(gt(),l=s.length;l<o.length;l+=1)r(l);vt()}},i(t){if(!n){for(let t=0;t<s.length;t+=1)yt(o[t]);n=!0}},o(t){o=o.filter(Boolean);for(let t=0;t<o.length;t+=1)wt(o[t]);n=!1},d(t){P(o,t),t&&U(e)}}}function Us(t){let e,n,s,o,r,l=t[6].songs&&Ss(t),i=t[6].artists&&qs(t),c=t[6].albums&&Ns(t),a=t[6].playlists&&zs(t);return{c(){l&&l.c(),e=q(),i&&i.c(),n=q(),c&&c.c(),s=q(),a&&a.c(),o=E()},m(t,u){l&&l.m(t,u),A(t,e,u),i&&i.m(t,u),A(t,n,u),c&&c.m(t,u),A(t,s,u),a&&a.m(t,u),A(t,o,u),r=!0},p(t,r){t[6].songs?l?(l.p(t,r),64&r[0]&&yt(l,1)):(l=Ss(t),l.c(),yt(l,1),l.m(e.parentNode,e)):l&&(gt(),wt(l,1,1,(()=>{l=null})),vt()),t[6].artists?i?(i.p(t,r),64&r[0]&&yt(i,1)):(i=qs(t),i.c(),yt(i,1),i.m(n.parentNode,n)):i&&(gt(),wt(i,1,1,(()=>{i=null})),vt()),t[6].albums?c?(c.p(t,r),64&r[0]&&yt(c,1)):(c=Ns(t),c.c(),yt(c,1),c.m(s.parentNode,s)):c&&(gt(),wt(c,1,1,(()=>{c=null})),vt()),t[6].playlists?a?(a.p(t,r),64&r[0]&&yt(a,1)):(a=zs(t),a.c(),yt(a,1),a.m(o.parentNode,o)):a&&(gt(),wt(a,1,1,(()=>{a=null})),vt())},i(t){r||(yt(l),yt(i),yt(c),yt(a),r=!0)},o(t){wt(l),wt(i),wt(c),wt(a),r=!1},d(t){l&&l.d(t),t&&U(e),i&&i.d(t),t&&U(n),c&&c.d(t),t&&U(s),a&&a.d(t),t&&U(o)}}}function Ps(t){let e,n;return e=new Pn({props:{size:"small",data:t[23],isUrl:!1,avatar:t[33]+1}}),e.$on("mousedown",(function(){return t[19](t[23])})),{c(){Lt(e.$$.fragment)},m(t,s){At(e,t,s),n=!0},p(n,s){t=n;const o={};32&s[0]&&(o.data=t[23]),e.$set(o)},i(t){n||(yt(e.$$.fragment,t),n=!0)},o(t){wt(e.$$.fragment,t),n=!1},d(t){Ut(e,t)}}}function Ss(t){let e,n,s,o,r=t[6].songs,l=[];for(let e=0;e<r.length;e+=1)l[e]=Ds(_s(t,r,e));const i=t=>wt(l[t],1,1,(()=>{l[t]=null}));return{c(){e=S("div"),e.textContent="歌曲",n=q();for(let t=0;t<l.length;t+=1)l[t].c();s=E(),z(e,"class","title svelte-1qqx9fh")},m(t,r){A(t,e,r),A(t,n,r);for(let e=0;e<l.length;e+=1)l[e].m(t,r);A(t,s,r),o=!0},p(t,e){if(584&e[0]){let n;for(r=t[6].songs,n=0;n<r.length;n+=1){const o=_s(t,r,n);l[n]?(l[n].p(o,e),yt(l[n],1)):(l[n]=Ds(o),l[n].c(),yt(l[n],1),l[n].m(s.parentNode,s))}for(gt(),n=r.length;n<l.length;n+=1)i(n);vt()}},i(t){if(!o){for(let t=0;t<r.length;t+=1)yt(l[t]);o=!0}},o(t){l=l.filter(Boolean);for(let t=0;t<l.length;t+=1)wt(l[t]);o=!1},d(t){t&&U(e),t&&U(n),P(l,t),t&&U(s)}}}function Ds(t){let e,n;return e=new Pn({props:{size:"small",data:t[23].name,isUrl:!1,avatar:""}}),e.$on("mousedown",(function(){return t[15](t[23])})),{c(){Lt(e.$$.fragment)},m(t,s){At(e,t,s),n=!0},p(n,s){t=n;const o={};64&s[0]&&(o.data=t[23].name),e.$set(o)},i(t){n||(yt(e.$$.fragment,t),n=!0)},o(t){wt(e.$$.fragment,t),n=!1},d(t){Ut(e,t)}}}function qs(t){let e,n,s,o,r,l,i=t[6].artists,c=[];for(let e=0;e<i.length;e+=1)c[e]=Es(Cs(t,i,e));const a=t=>wt(c[t],1,1,(()=>{c[t]=null}));return{c(){e=S("div"),n=q(),s=S("div"),s.textContent="艺术家",o=q();for(let t=0;t<c.length;t+=1)c[t].c();r=E(),M(e,"height","1px"),M(e,"background-color","#ddd"),z(s,"class","title svelte-1qqx9fh")},m(t,i){A(t,e,i),A(t,n,i),A(t,s,i),A(t,o,i);for(let e=0;e<c.length;e+=1)c[e].m(t,i);A(t,r,i),l=!0},p(t,e){if(584&e[0]){let n;for(i=t[6].artists,n=0;n<i.length;n+=1){const s=Cs(t,i,n);c[n]?(c[n].p(s,e),yt(c[n],1)):(c[n]=Es(s),c[n].c(),yt(c[n],1),c[n].m(r.parentNode,r))}for(gt(),n=i.length;n<c.length;n+=1)a(n);vt()}},i(t){if(!l){for(let t=0;t<i.length;t+=1)yt(c[t]);l=!0}},o(t){c=c.filter(Boolean);for(let t=0;t<c.length;t+=1)wt(c[t]);l=!1},d(t){t&&U(e),t&&U(n),t&&U(s),t&&U(o),P(c,t),t&&U(r)}}}function Es(t){let e,n;return e=new Pn({props:{size:"small",data:t[23].name,isUrl:!0,avatar:t[23].img1v1Url,width:24,height:24}}),e.$on("mousedown",(function(){return t[16](t[23])})),{c(){Lt(e.$$.fragment)},m(t,s){At(e,t,s),n=!0},p(n,s){t=n;const o={};64&s[0]&&(o.data=t[23].name),64&s[0]&&(o.avatar=t[23].img1v1Url),e.$set(o)},i(t){n||(yt(e.$$.fragment,t),n=!0)},o(t){wt(e.$$.fragment,t),n=!1},d(t){Ut(e,t)}}}function Ns(t){let e,n,s,o,r,l,i=t[6].albums,c=[];for(let e=0;e<i.length;e+=1)c[e]=Ts(ks(t,i,e));const a=t=>wt(c[t],1,1,(()=>{c[t]=null}));return{c(){e=S("div"),n=q(),s=S("div"),s.textContent="专辑",o=q();for(let t=0;t<c.length;t+=1)c[t].c();r=E(),M(e,"height","1px"),M(e,"background-color","#ddd"),z(s,"class","title svelte-1qqx9fh")},m(t,i){A(t,e,i),A(t,n,i),A(t,s,i),A(t,o,i);for(let e=0;e<c.length;e+=1)c[e].m(t,i);A(t,r,i),l=!0},p(t,e){if(584&e[0]){let n;for(i=t[6].albums,n=0;n<i.length;n+=1){const s=ks(t,i,n);c[n]?(c[n].p(s,e),yt(c[n],1)):(c[n]=Ts(s),c[n].c(),yt(c[n],1),c[n].m(r.parentNode,r))}for(gt(),n=i.length;n<c.length;n+=1)a(n);vt()}},i(t){if(!l){for(let t=0;t<i.length;t+=1)yt(c[t]);l=!0}},o(t){c=c.filter(Boolean);for(let t=0;t<c.length;t+=1)wt(c[t]);l=!1},d(t){t&&U(e),t&&U(n),t&&U(s),t&&U(o),P(c,t),t&&U(r)}}}function Ts(t){let e,n;return e=new Pn({props:{size:"small",data:t[23].name,isUrl:!1,avatar:" "}}),e.$on("mousedown",(function(){return t[17](t[23])})),{c(){Lt(e.$$.fragment)},m(t,s){At(e,t,s),n=!0},p(n,s){t=n;const o={};64&s[0]&&(o.data=t[23].name),e.$set(o)},i(t){n||(yt(e.$$.fragment,t),n=!0)},o(t){wt(e.$$.fragment,t),n=!1},d(t){Ut(e,t)}}}function zs(t){let e,n,s,o,r,l,i=t[6].playlists,c=[];for(let e=0;e<i.length;e+=1)c[e]=Os(bs(t,i,e));const a=t=>wt(c[t],1,1,(()=>{c[t]=null}));return{c(){e=S("div"),n=q(),s=S("div"),s.textContent="歌单",o=q();for(let t=0;t<c.length;t+=1)c[t].c();r=E(),M(e,"height","1px"),M(e,"background-color","#ddd"),z(s,"class","title svelte-1qqx9fh")},m(t,i){A(t,e,i),A(t,n,i),A(t,s,i),A(t,o,i);for(let e=0;e<c.length;e+=1)c[e].m(t,i);A(t,r,i),l=!0},p(t,e){if(584&e[0]){let n;for(i=t[6].playlists,n=0;n<i.length;n+=1){const s=bs(t,i,n);c[n]?(c[n].p(s,e),yt(c[n],1)):(c[n]=Os(s),c[n].c(),yt(c[n],1),c[n].m(r.parentNode,r))}for(gt(),n=i.length;n<c.length;n+=1)a(n);vt()}},i(t){if(!l){for(let t=0;t<i.length;t+=1)yt(c[t]);l=!0}},o(t){c=c.filter(Boolean);for(let t=0;t<c.length;t+=1)wt(c[t]);l=!1},d(t){t&&U(e),t&&U(n),t&&U(s),t&&U(o),P(c,t),t&&U(r)}}}function Os(t){let e,n;return e=new Pn({props:{size:"small",data:t[23].name,isUrl:!0,avatar:t[23].coverImgUrl,width:24,height:24}}),e.$on("mousedown",(function(){return t[18](t[23])})),{c(){Lt(e.$$.fragment)},m(t,s){At(e,t,s),n=!0},p(n,s){t=n;const o={};64&s[0]&&(o.data=t[23].name),64&s[0]&&(o.avatar=t[23].coverImgUrl),e.$set(o)},i(t){n||(yt(e.$$.fragment,t),n=!0)},o(t){wt(e.$$.fragment,t),n=!1},d(t){Ut(e,t)}}}function js(t){let e,n,s,o;const r=[Us,As],l=[];function i(t,e){return t[6]?0:1}return e=i(t),n=l[e]=r[e](t),{c(){n.c(),s=E()},m(t,n){l[e].m(t,n),A(t,s,n),o=!0},p(t,o){let c=e;e=i(t),e===c?l[e].p(t,o):(gt(),wt(l[c],1,1,(()=>{l[c]=null})),vt(),n=l[e],n?n.p(t,o):(n=l[e]=r[e](t),n.c()),yt(n,1),n.m(s.parentNode,s))},i(t){o||(yt(n),o=!0)},o(t){wt(n),o=!1},d(t){l[e].d(t),t&&U(s)}}}function Ms(t){let e,n,s,o,l,i,c,a,u,d,f,p,m,h,$;return a=new Xt({props:{size:"big",isUrl:t[0],avatar:t[0]||"",width:32,height:32}}),a.$on("click",t[7]),d=new an({props:{showPopupWindow:t[1],cssText:"position: absolute; top: 64px;",$$slots:{default:[Ls]},$$scope:{ctx:t}}}),d.$on("layerClick",t[8]),d.$on("animIn",Bs),p=new an({props:{noLayer:!0,showPopupWindow:t[4],cssText:"position: fixed; top: 56px; width: 360px; overflow: hidden; max-height: calc(100vh - 148px); min-height: 0",$$slots:{default:[js]},$$scope:{ctx:t}}}),p.$on("layerClick",t[20]),{c(){e=S("div"),n=S("div"),s=S("span"),o=q(),l=S("input"),i=q(),c=S("div"),Lt(a.$$.fragment),u=q(),Lt(d.$$.fragment),f=q(),Lt(p.$$.fragment),z(s,"class","iconfont icon-search avatar menu svelte-1qqx9fh"),z(l,"type","text"),z(l,"class","input svelte-1qqx9fh"),z(l,"placeholder","搜索歌曲和歌手"),z(c,"class","avatar-container svelte-1qqx9fh"),z(n,"class","column search svelte-1qqx9fh"),z(e,"class","column svelte-1qqx9fh"),M(e,"margin-left","48px")},m(r,g){A(r,e,g),C(e,n),C(n,s),C(n,o),C(n,l),j(l,t[3]),C(n,i),C(n,c),At(a,c,null),C(e,u),At(d,e,null),C(e,f),At(p,e,null),m=!0,h||($=[N(s,"click",t[9]),N(l,"input",t[12]),N(l,"change",t[9]),N(l,"focus",t[10]),N(l,"blur",t[13]),N(l,"input",t[11])],h=!0)},p(t,e){8&e[0]&&l.value!==t[3]&&j(l,t[3]);const n={};1&e[0]&&(n.isUrl=t[0]),1&e[0]&&(n.avatar=t[0]||""),a.$set(n);const s={};2&e[0]&&(s.showPopupWindow=t[1]),4&e[0]|8&e[1]&&(s.$$scope={dirty:e,ctx:t}),d.$set(s);const o={};16&e[0]&&(o.showPopupWindow=t[4]),104&e[0]|8&e[1]&&(o.$$scope={dirty:e,ctx:t}),p.$set(o)},i(t){m||(yt(a.$$.fragment,t),yt(d.$$.fragment,t),yt(p.$$.fragment,t),m=!0)},o(t){wt(a.$$.fragment,t),wt(d.$$.fragment,t),wt(p.$$.fragment,t),m=!1},d(t){t&&U(e),Ut(a),Ut(d),Ut(p),h=!1,r($)}}}function Bs(t){t.detail.animate({transform:["translate(-20px, -32px) scale(0.9)","translate(0px, 0px) scale(1)"],opacity:[0,1]},100)}function Rs(t,e,n){let s=!1;let o=store.get("profile"),r={avatarUrl:"",name:"未登录"},{avatarUrl:l=(o?o.avatarUrl:"")}=e;function i(){o&&n(2,r={avatarUrl:o.avatarUrl,name:o.nickname}),n(0,l=o?o.avatarUrl:"")}i(),rem.on("__updateLoginAvatar",(()=>{o=store.get("profile"),i()}));let c,a,u=!1,d=[];async function f(){await NeteaseApi.search(c)}return t.$$set=t=>{"avatarUrl"in t&&n(0,l=t.avatarUrl)},[l,s,r,c,u,d,a,()=>n(1,s=!0),()=>{n(1,s=!1);const t=store.get("profile");t&&n(2,r={avatarUrl:t.avatarUrl,name:t.nickname}),n(0,l=t?t.avatarUrl:"")},f,async function(){n(5,d=(await NeteaseApi.search()).body.result.hots.reduce(((t,e)=>[...t,e.first]),[])),n(4,u=!0)},async function(){if(!c)return n(6,a=null);const t=(await NeteaseApi.suggest(c)).body.result;console.log(t),Object.keys(t).length&&n(6,a=t)},function(){c=this.value,n(3,c)},()=>setTimeout((()=>n(4,u=!1))),function(t){r=t,n(2,r)},t=>{n(3,c=`${t.name}`),f()},t=>{n(3,c=`${t.name}`),f()},t=>{n(3,c=`${t.name}`),f()},t=>{n(3,c=`${t.name}`),f()},t=>{n(3,c=t),f()},()=>n(4,u=!1)]}class Is extends Dt{constructor(t){super(),St(this,t,Rs,Ms,i,{avatarUrl:0},null,[-1,-1])}}function Ws(t){let e,n,s,o,l,i,c,a,u,d,f,p,m,h,$,g,v,y=t[0]?"":"";return i=new Is({}),{c(){e=S("div"),n=S("div"),s=D("REM"),o=q(),l=S("div"),Lt(i.$$.fragment),c=q(),a=S("div"),u=S("div"),u.textContent="",d=q(),f=S("div"),p=D(y),m=q(),h=S("div"),h.textContent="⨉",z(n,"class","title"+(window.rem.isBeta?" debug":"")+" svelte-v5h8ms"),M(l,"align-self","flex-start"),M(l,"margin-top","16px"),z(u,"class","column clk svelte-v5h8ms"),z(f,"class","column clk svelte-v5h8ms"),z(h,"class","column clk red svelte-v5h8ms"),z(a,"class","column btn-group svelte-v5h8ms"),z(e,"class","column container svelte-v5h8ms")},m(r,y){A(r,e,y),C(e,n),C(n,s),C(e,o),C(e,l),At(i,l,null),C(e,c),C(e,a),C(a,u),C(a,d),C(a,f),C(f,p),C(a,m),C(a,h),$=!0,g||(v=[N(u,"click",Hs),N(f,"click",t[1]),N(h,"click",Fs)],g=!0)},p(t,[e]){(!$||1&e)&&y!==(y=t[0]?"":"")&&O(p,y)},i(t){$||(yt(i.$$.fragment,t),$=!0)},o(t){wt(i.$$.fragment,t),$=!1},d(t){t&&U(e),Ut(i),g=!1,r(v)}}}function Hs(){hooks.send("win:min")}function Fs(){hooks.send("win:close")}function Xs(t,e,n){let s=!1;return[s,function(){if(s)return hooks.send("win:unmax"),void n(0,s=!1);hooks.send("win:max"),n(0,s=!0)}]}class Ys extends Dt{constructor(t){super(),St(this,t,Xs,Ws,i,{})}}function Vs(t,e,n){const s=t.slice();return s[6]=e[n],s}function Js(t,e,n){const s=t.slice();return s[9]=e[n],s}function Ks(t){let e,n;return e=new Pn({props:{useAvatar:!1,size:"small",isUrl:!1,data:t[9]}}),e.$on("click",(function(){l(t[4](t[6][t[9]]))&&t[4](t[6][t[9]]).apply(this,arguments)})),{c(){Lt(e.$$.fragment)},m(t,s){At(e,t,s),n=!0},p(n,s){t=n;const o={};8&s&&(o.data=t[9]),e.$set(o)},i(t){n||(yt(e.$$.fragment,t),n=!0)},o(t){wt(e.$$.fragment,t),n=!1},d(t){Ut(e,t)}}}function Qs(t){let e,n,s,o,r=Object.keys(t[6]),l=[];for(let e=0;e<r.length;e+=1)l[e]=Ks(Js(t,r,e));const i=t=>wt(l[t],1,1,(()=>{l[t]=null}));return{c(){e=S("div"),n=q();for(let t=0;t<l.length;t+=1)l[t].c();s=E(),z(e,"class","divider svelte-14ron6b")},m(t,r){A(t,e,r),A(t,n,r);for(let e=0;e<l.length;e+=1)l[e].m(t,r);A(t,s,r),o=!0},p(t,e){if(24&e){let n;for(r=Object.keys(t[6]),n=0;n<r.length;n+=1){const o=Js(t,r,n);l[n]?(l[n].p(o,e),yt(l[n],1)):(l[n]=Ks(o),l[n].c(),yt(l[n],1),l[n].m(s.parentNode,s))}for(gt(),n=r.length;n<l.length;n+=1)i(n);vt()}},i(t){if(!o){for(let t=0;t<r.length;t+=1)yt(l[t]);o=!0}},o(t){l=l.filter(Boolean);for(let t=0;t<l.length;t+=1)wt(l[t]);o=!1},d(t){t&&U(e),t&&U(n),P(l,t),t&&U(s)}}}function Gs(t){let e,n,s,o,r,l=t[3],i=[];for(let e=0;e<l.length;e+=1)i[e]=Qs(Vs(t,l,e));const c=t=>wt(i[t],1,1,(()=>{i[t]=null}));return{c(){e=S("div");for(let t=0;t<i.length;t+=1)i[t].c();z(e,"class",n="container "+(t[0]?"display":"")+" svelte-14ron6b"),M(e,"--x",t[1]+"px"),M(e,"--y",t[2]+"px")},m(t,n){A(t,e,n);for(let t=0;t<i.length;t+=1)i[t].m(e,null);s=!0,o||(r=N(e,"click",Zs),o=!0)},p(t,[o]){if(24&o){let n;for(l=t[3],n=0;n<l.length;n+=1){const s=Vs(t,l,n);i[n]?(i[n].p(s,o),yt(i[n],1)):(i[n]=Qs(s),i[n].c(),yt(i[n],1),i[n].m(e,null))}for(gt(),n=l.length;n<i.length;n+=1)c(n);vt()}(!s||1&o&&n!==(n="container "+(t[0]?"display":"")+" svelte-14ron6b"))&&z(e,"class",n),(!s||2&o)&&M(e,"--x",t[1]+"px"),(!s||4&o)&&M(e,"--y",t[2]+"px")},i(t){if(!s){for(let t=0;t<l.length;t+=1)yt(i[t]);s=!0}},o(t){i=i.filter(Boolean);for(let t=0;t<i.length;t+=1)wt(i[t]);s=!1},d(t){t&&U(e),P(i,t),o=!1,r()}}}const Zs=t=>t.stopPropagation();function to(t,e,n){let{display:s=!1}=e,{x:o=0}=e,{y:r=0}=e,{data:l=[{}]}=e;const i=G("disableLayer");return t.$$set=t=>{"display"in t&&n(0,s=t.display),"x"in t&&n(1,o=t.x),"y"in t&&n(2,r=t.y),"data"in t&&n(3,l=t.data)},[s,o,r,l,function(t){return"function"==typeof t?()=>{t.call(null),i()}:i}]}class eo extends Dt{constructor(t){super(),St(this,t,to,Gs,i,{display:0,x:1,y:2,data:3})}}function no(t){let e,n,s,o,r,l,i,c,a,d,h;function $(e){t[9](e)}function g(e){t[10](e)}function v(e){t[11](e)}function y(e){t[12](e)}let w={};void 0!==t[2]&&(w.display=t[2]),void 0!==t[3]&&(w.x=t[3]),void 0!==t[4]&&(w.y=t[4]),void 0!==t[5]&&(w.data=t[5]),n=new eo({props:w}),et.push((()=>_t(n,"display",$))),et.push((()=>_t(n,"x",g))),et.push((()=>_t(n,"y",v))),et.push((()=>_t(n,"data",y)));const x=t[8].default,b=u(x,t,t[7],null);return{c(){e=S("div"),Lt(n.$$.fragment),i=q(),b&&b.c(),z(e,"class",c="container "+(t[1]?"fade":"")+" svelte-1vsc1mc")},m(s,o){A(s,e,o),At(n,e,null),C(e,i),b&&b.m(e,null),a=!0,d||(h=N(e,"click",t[0]),d=!0)},p(t,[i]){const u={};!s&&4&i&&(s=!0,u.display=t[2],it((()=>s=!1))),!o&&8&i&&(o=!0,u.x=t[3],it((()=>o=!1))),!r&&16&i&&(r=!0,u.y=t[4],it((()=>r=!1))),!l&&32&i&&(l=!0,u.data=t[5],it((()=>l=!1))),n.$set(u),b&&b.p&&(!a||128&i)&&p(b,x,t,t[7],a?f(x,t[7],i,null):m(t[7]),null),(!a||2&i&&c!==(c="container "+(t[1]?"fade":"")+" svelte-1vsc1mc"))&&z(e,"class",c)},i(t){a||(yt(n.$$.fragment,t),yt(b,t),a=!0)},o(t){wt(n.$$.fragment,t),wt(b,t),a=!1},d(t){t&&U(e),Ut(n),b&&b.d(t),d=!1,h()}}}function so(t,e,n){let s,o,r,l,{$$slots:i={},$$scope:c}=e,a=!1;function u(){n(1,a=!0)}function d(){n(1,a=!1),n(2,s=!1)}function f(t,e,i){u(),n(3,o=visualViewport.width-t>200?t:t-200),n(4,r=e);let c=[];for(const t of contextMap.keys())i.includes(t)&&c.push(contextMap.get(t));c.length&&(n(5,l=c),n(2,s=!0))}return window.addEventListener("mousedown",(t=>{if(2===t.button){const{pageX:e,pageY:n,path:o}=t;if(s)return d(),requestIdleCallback((()=>f(e,n,o)));t.preventDefault(),f(e,n,o)}})),Q("disableLayer",d),t.$$set=t=>{"$$scope"in t&&n(7,c=t.$$scope)},[d,a,s,o,r,l,u,c,i,function(t){s=t,n(2,s)},function(t){o=t,n(3,o)},function(t){r=t,n(4,r)},function(t){l=t,n(5,l)}]}class oo extends Dt{constructor(t){super(),St(this,t,so,no,i,{activeLayer:6,disableLayer:0})}get activeLayer(){return this.$$.ctx[6]}get disableLayer(){return this.$$.ctx[0]}}function ro(t){let e,n,s,o,r,l,i,c,u,d,f,p,m,h,$,g,v;function y(e){t[8](e)}function w(e){t[9](e)}r=new Ys({});let x={};void 0!==t[0]&&(x.selected=t[0]),void 0!==t[1]&&(x.tabs=t[1]),i=new Rt({props:x}),et.push((()=>_t(i,"selected",y))),et.push((()=>_t(i,"tabs",w))),p=new ae({});return h=new he({props:{}}),t[10](h),g=new oo({}),{c(){e=S("div"),n=S("img"),o=q(),Lt(r.$$.fragment),l=q(),Lt(i.$$.fragment),d=q(),f=S("div"),Lt(p.$$.fragment),m=q(),Lt(h.$$.fragment),$=q(),Lt(g.$$.fragment),z(n,"class","wallpaper svelte-pzugcb"),a(n.src,s=t[3])||z(n,"src",s),z(n,"alt",""),z(n,"width",t[5]),z(f,"class","row window svelte-pzugcb"),M(e,"transition","background-color 0.2s"),M(e,"background-color","var("+(t[4]?"--acrylicBackgroundColor":"--noneAcrylicBackgroundColor")+")")},m(s,c){A(s,e,c),C(e,n),t[7](n),C(e,o),At(r,e,null),C(e,l),At(i,e,null),C(e,d),C(e,f),At(p,f,null),C(f,m),At(h,f,null),C(e,$),At(g,e,null),v=!0},p(t,[o]){(!v||8&o&&!a(n.src,s=t[3]))&&z(n,"src",s),(!v||32&o)&&z(n,"width",t[5]);const r={};!c&&1&o&&(c=!0,r.selected=t[0],it((()=>c=!1))),!u&&2&o&&(u=!0,r.tabs=t[1],it((()=>u=!1))),i.$set(r);h.$set({}),(!v||16&o)&&M(e,"background-color","var("+(t[4]?"--acrylicBackgroundColor":"--noneAcrylicBackgroundColor")+")")},i(t){v||(yt(r.$$.fragment,t),yt(i.$$.fragment,t),yt(p.$$.fragment,t),yt(h.$$.fragment,t),yt(g.$$.fragment,t),v=!0)},o(t){wt(r.$$.fragment,t),wt(i.$$.fragment,t),wt(p.$$.fragment,t),wt(h.$$.fragment,t),wt(g.$$.fragment,t),v=!1},d(n){n&&U(e),t[7](null),Ut(r),Ut(i),Ut(p),t[10](null),Ut(h),Ut(g)}}}function lo(){return new Promise((t=>{hooks.once("win:bounds",((e,n)=>{t(n)})),hooks.send("winquery:bounds")}))}function io(t,e,n){contextMap.set(document.body,{"关于":"","检测更新":""});let s=en;store.get("profile")?NeteaseApi.checkIn(store.get("cookie")):s=Tn;let o,r=-1,l=[s,sn],i=["我的","发现"];window.Pager=(()=>{let t=[{},{}],e=[0],s=(new Map).set("我的",{}).set("发现",{}),c=[];function a(e,o,r={},c=!1){if(p(e)){if(c){const n=i.indexOf(e);return l[n]=o,t[n]=r,!1}return!0}return l.push(o),i.push(e),n(1,i),t.push(r),s.set(e,{}),!0}function u(s,a=!1){(s<0||s>=i.length)&&(s=0);let u=t[s];"function"==typeof u&&(u=u()),(r!==s||a)&&(c.forEach((t=>t.call(null))),c=[],e[s]=i[r],o.display(l[s],u),n(0,r=s))}function d(t,e=!1){"number"!=typeof t&&(t=i.indexOf(t)),u(t,e)}function f(o){(o<0||o>=i.length)&&(o=0),s.delete(i[r]),c=[],l=l.slice(0,o).concat(l.slice(o+1)),n(1,i=i.slice(0,o).concat(i.slice(o+1)));let a="function"==typeof t[o]?t[o]().onTabDestroy:t[o].onTabDestroy;t=t.slice(0,o).concat(t.slice(o+1)),"function"==typeof a&&a(o),function(){let t=i.indexOf(e[r]);!~t&&(t=0),u(t,!0)}()}function p(t){return"string"==typeof t?~i.indexOf(t):~l.indexOf(t)}return{add:a,select:d,remove:function(t){"number"!=typeof t&&(t=i.indexOf(t)),f(t)},has:p,openNew:function(t,e,n,s=!1){if(a(t,e,n,s))return d(t);d(t,!0)},getContext:function(){const e=l[r],n=i[r];return{name:n,class:e,props:t[r],save:s.get(n)}},beforeSwitch:function(t){c.push(t)}}})();let c,a=store.get("sys-settings"),u=!1;!async function(){n(3,c=await async function(){let t=await wallpaper.getWallpaper(),e="";return e="string"==typeof t?t:URL.createObjectURL(new Blob([t])),e}())}(),rem.on("__openMinePage",(()=>{window.Pager.openNew("我的",en,{},!0)})),hooks.on("win:screenMove",((t,e)=>{p(e.x,e.y)})),hooks.send("winbind:move");let d,f=1080;function p(t,e){u&&d&&(d.style.setProperty("--top",-e+"px"),d.style.setProperty("--left",-t+"px"))}(async()=>{let t=await lo(),e=await new Promise((t=>{hooks.once("win:screenSize",((e,n)=>{t(n)})),hooks.send("winquery:screenSize")}));window.Pager.select(0),n(5,f=e.width),p(t.x,t.y)})(),rem.on("playerReady",(()=>{__setColor(document.body,d,1)})),rem.on("changeControlColor",(t=>{document.body.style.setProperty("--controlHue",t)})),rem.on("useAcrylic",(async t=>{if(a.theme.useAcrylic=n(4,u=t),t){let t=await lo();p(t.x,t.y)}store.set("sys-settings",a)})),a||(a={theme:{controlColor:[2,39,148,210,270,292,322],useAcrylic:!0},beta:{showDevTools:!1}},store.set("sys-settings",a));let m=a.theme.controlColor.slice(1),h=a.theme.controlColor[0];return rem.emit("changeControlColor",m[h]),rem.emit("useAcrylic",a.theme.useAcrylic),[r,i,o,c,u,f,d,function(t){et[t?"unshift":"push"]((()=>{d=t,n(6,d)}))},function(t){r=t,n(0,r)},function(t){i=t,n(1,i)},function(t){et[t?"unshift":"push"]((()=>{o=t,n(2,o)}))}]}let co={};const ao={get(t){if(co[t])return co[t];let e=null,n=localStorage.getItem(t);try{e=JSON.parse(n)}catch(t){e=n}return null!=e?co[t]=e:void 0},set(t,e){co[t]=e,localStorage.setItem(t,"string"==typeof e?e:JSON.stringify(e))},setCache(t,e){co[t]=e},rm(t){co[t]&&(co[t]=null),localStorage.removeItem(t)},has(t){return!!co[t]||!!this.get(t)},clear(){for(const t of Object.keys(co))this.rm(t)}};return window.store=ao,window.rem=new ne({captureRejections:!0}),window.contextMap=new Map,rem.isBeta=!0,new class extends Dt{constructor(t){super(),St(this,t,io,ro,i,{})}}({target:document.body})}();
