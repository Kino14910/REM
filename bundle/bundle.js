var app=function(){"use strict";function t(){}const e=t=>t;function n(t,e){for(const n in e)t[n]=e[n];return t}function s(t){return t()}function o(){return Object.create(null)}function r(t){t.forEach(s)}function i(t){return"function"==typeof t}function l(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}let c;function a(t,e){return c||(c=document.createElement("a")),c.href=e,t===c.href}function u(t,e,n,s){if(t){const o=d(t,e,n,s);return t[0](o)}}function d(t,e,s,o){return t[1]&&o?n(s.ctx.slice(),t[1](o(e))):s.ctx}function f(t,e,n,s){if(t[2]&&s){const o=t[2](s(n));if(void 0===e.dirty)return o;if("object"==typeof o){const t=[],n=Math.max(e.dirty.length,o.length);for(let s=0;s<n;s+=1)t[s]=e.dirty[s]|o[s];return t}return e.dirty|o}return e.dirty}function p(t,e,n,s,o,r){if(o){const i=d(e,n,s,r);t.p(i,o)}}function m(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let t=0;t<n;t++)e[t]=-1;return e}return-1}function h(t){const e={};for(const n in t)"$"!==n[0]&&(e[n]=t[n]);return e}function $(t){return null==t?"":t}function g(e){return e&&i(e.destroy)?e.destroy:t}const v="undefined"!=typeof window;let y=v?()=>window.performance.now():()=>Date.now(),w=v?t=>requestAnimationFrame(t):t;const x=new Set;function b(t){x.forEach((e=>{e.c(t)||(x.delete(e),e.f())})),0!==x.size&&w(b)}function k(t){let e;return 0===x.size&&w(b),{promise:new Promise((n=>{x.add(e={c:t,f:n})})),abort(){x.delete(e)}}}function _(t,e){t.appendChild(e)}function C(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function A(t){const e=E("style");return function(t,e){_(t.head||t,e)}(C(t),e),e.sheet}function L(t,e,n){t.insertBefore(e,n||null)}function P(t){t.parentNode.removeChild(t)}function U(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function E(t){return document.createElement(t)}function S(t){return document.createTextNode(t)}function D(){return S(" ")}function z(){return S("")}function N(t,e,n,s){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n,s)}function T(t){return function(e){return e.stopPropagation(),t.call(this,e)}}function j(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function M(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function O(t,e){t.value=null==e?"":e}function R(t,e,n,s){null===n?t.style.removeProperty(e):t.style.setProperty(e,n,s?"important":"")}function I(t,e,n=!1){const s=document.createEvent("CustomEvent");return s.initCustomEvent(t,n,!1,e),s}const B=new Map;let W,H=0;function q(t,e,n,s,o,r,i,l=0){const c=16.666/s;let a="{\n";for(let t=0;t<=1;t+=c){const s=e+(n-e)*r(t);a+=100*t+`%{${i(s,1-s)}}\n`}const u=a+`100% {${i(n,1-n)}}\n}`,d=`__svelte_${function(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}(u)}_${l}`,f=C(t),{stylesheet:p,rules:m}=B.get(f)||function(t,e){const n={stylesheet:A(e),rules:{}};return B.set(t,n),n}(f,t);m[d]||(m[d]=!0,p.insertRule(`@keyframes ${d} ${u}`,p.cssRules.length));const h=t.style.animation||"";return t.style.animation=`${h?`${h}, `:""}${d} ${s}ms linear ${o}ms 1 both`,H+=1,d}function F(t,e){const n=(t.style.animation||"").split(", "),s=n.filter(e?t=>t.indexOf(e)<0:t=>-1===t.indexOf("__svelte")),o=n.length-s.length;o&&(t.style.animation=s.join(", "),H-=o,H||w((()=>{H||(B.forEach((t=>{const{stylesheet:e}=t;let n=e.cssRules.length;for(;n--;)e.deleteRule(n);t.rules={}})),B.clear())})))}function V(t){W=t}function X(){if(!W)throw new Error("Function called outside component initialization");return W}function J(t){X().$$.on_mount.push(t)}function Y(){const t=X();return(e,n)=>{const s=t.$$.callbacks[e];if(s){const o=I(e,n);s.slice().forEach((e=>{e.call(t,o)}))}}}function K(t){return X().$$.context.get(t)}function Q(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach((t=>t.call(this,e)))}const G=[],Z=[],tt=[],et=[],nt=Promise.resolve();let st=!1;function ot(t){tt.push(t)}function rt(t){et.push(t)}const it=new Set;let lt,ct=0;function at(){const t=W;do{for(;ct<G.length;){const t=G[ct];ct++,V(t),ut(t.$$)}for(V(null),G.length=0,ct=0;Z.length;)Z.pop()();for(let t=0;t<tt.length;t+=1){const e=tt[t];it.has(e)||(it.add(e),e())}tt.length=0}while(G.length);for(;et.length;)et.pop()();st=!1,it.clear(),V(t)}function ut(t){if(null!==t.fragment){t.update(),r(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(ot)}}function dt(){return lt||(lt=Promise.resolve(),lt.then((()=>{lt=null}))),lt}function ft(t,e,n){t.dispatchEvent(I(`${e?"intro":"outro"}${n}`))}const pt=new Set;let mt;function ht(){mt={r:0,c:[],p:mt}}function $t(){mt.r||r(mt.c),mt=mt.p}function gt(t,e){t&&t.i&&(pt.delete(t),t.i(e))}function vt(t,e,n,s){if(t&&t.o){if(pt.has(t))return;pt.add(t),mt.c.push((()=>{pt.delete(t),s&&(n&&t.d(1),s())})),t.o(e)}}const yt={duration:0};function wt(n,s,o){let r,l,c=s(n,o),a=!1,u=0;function d(){r&&F(n,r)}function f(){const{delay:s=0,duration:o=300,easing:i=e,tick:f=t,css:p}=c||yt;p&&(r=q(n,0,1,o,s,i,p,u++)),f(0,1);const m=y()+s,h=m+o;l&&l.abort(),a=!0,ot((()=>ft(n,!0,"start"))),l=k((t=>{if(a){if(t>=h)return f(1,0),ft(n,!0,"end"),d(),a=!1;if(t>=m){const e=i((t-m)/o);f(e,1-e)}}return a}))}let p=!1;return{start(){p||(p=!0,F(n),i(c)?(c=c(),dt().then(f)):f())},invalidate(){p=!1},end(){a&&(d(),a=!1)}}}function xt(n,s,o){let l,c=s(n,o),a=!0;const u=mt;function d(){const{delay:s=0,duration:o=300,easing:i=e,tick:d=t,css:f}=c||yt;f&&(l=q(n,1,0,o,s,i,f));const p=y()+s,m=p+o;ot((()=>ft(n,!1,"start"))),k((t=>{if(a){if(t>=m)return d(0,1),ft(n,!1,"end"),--u.r||r(u.c),!1;if(t>=p){const e=i((t-p)/o);d(1-e,e)}}return a}))}return u.r+=1,i(c)?dt().then((()=>{c=c(),d()})):d(),{end(t){t&&c.tick&&c.tick(1,0),a&&(l&&F(n,l),a=!1)}}}function bt(t,e){const n={},s={},o={$$scope:1};let r=t.length;for(;r--;){const i=t[r],l=e[r];if(l){for(const t in i)t in l||(s[t]=1);for(const t in l)o[t]||(n[t]=l[t],o[t]=1);t[r]=l}else for(const t in i)o[t]=1}for(const t in s)t in n||(n[t]=void 0);return n}function kt(t){return"object"==typeof t&&null!==t?t:{}}function _t(t,e,n){const s=t.$$.props[e];void 0!==s&&(t.$$.bound[s]=n,n(t.$$.ctx[s]))}function Ct(t){t&&t.c()}function At(t,e,n,o){const{fragment:l,on_mount:c,on_destroy:a,after_update:u}=t.$$;l&&l.m(e,n),o||ot((()=>{const e=c.map(s).filter(i);a?a.push(...e):r(e),t.$$.on_mount=[]})),u.forEach(ot)}function Lt(t,e){const n=t.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Pt(t,e){-1===t.$$.dirty[0]&&(G.push(t),st||(st=!0,nt.then(at)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function Ut(e,n,s,i,l,c,a,u=[-1]){const d=W;V(e);const f=e.$$={fragment:null,ctx:null,props:c,update:t,not_equal:l,bound:o(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(n.context||(d?d.$$.context:[])),callbacks:o(),dirty:u,skip_bound:!1,root:n.target||d.$$.root};a&&a(f.root);let p=!1;if(f.ctx=s?s(e,n.props||{},((t,n,...s)=>{const o=s.length?s[0]:n;return f.ctx&&l(f.ctx[t],f.ctx[t]=o)&&(!f.skip_bound&&f.bound[t]&&f.bound[t](o),p&&Pt(e,t)),n})):[],f.update(),p=!0,r(f.before_update),f.fragment=!!i&&i(f.ctx),n.target){if(n.hydrate){const t=function(t){return Array.from(t.childNodes)}(n.target);f.fragment&&f.fragment.l(t),t.forEach(P)}else f.fragment&&f.fragment.c();n.intro&&gt(e.$$.fragment),At(e,n.target,n.anchor,n.customElement),at()}V(d)}class Et{$destroy(){Lt(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function St(t,e,n){const s=t.slice();return s[8]=e[n],s[10]=n,s}function Dt(t){let e,n,s,o,r=t[8]+"";function i(){return t[6](t[10])}return{c(){e=E("div"),n=S(r),j(e,"class","tab tab-text svelte-1db85j0")},m(t,r){L(t,e,r),_(e,n),s||(o=N(e,"click",i),s=!0)},p(e,s){t=e,1&s&&r!==(r=t[8]+"")&&M(n,r)},d(t){t&&P(e),s=!1,o()}}}function zt(t){let e;function n(t,e){return"我的"===t[8]||"发现"===t[8]?Tt:Nt}let s=n(t),o=s(t);return{c(){o.c(),e=z()},m(t,n){o.m(t,n),L(t,e,n)},p(t,r){s===(s=n(t))&&o?o.p(t,r):(o.d(1),o=s(t),o&&(o.c(),o.m(e.parentNode,e)))},d(t){o.d(t),t&&P(e)}}}function Nt(t){let e,n,s,o,i,l,c,a,u=t[8]+"";function d(){return t[5](t[10])}return{c(){e=E("div"),n=E("span"),s=S(u),o=D(),i=E("div"),i.textContent="⨯",l=D(),j(n,"class","tab-text svelte-1db85j0"),j(i,"class","column cross svelte-1db85j0"),j(e,"class","tab selected column svelte-1db85j0"),R(e,"padding-right","2px")},m(r,u){L(r,e,u),_(e,n),_(n,s),_(e,o),_(e,i),_(e,l),c||(a=[N(i,"click",t[3]),N(e,"click",d)],c=!0)},p(e,n){t=e,1&n&&u!==(u=t[8]+"")&&M(s,u)},d(t){t&&P(e),c=!1,r(a)}}}function Tt(t){let e,n,s,o,r=t[8]+"";function i(){return t[4](t[10])}return{c(){e=E("div"),n=S(r),j(e,"class","tab selected tab-text svelte-1db85j0")},m(t,r){L(t,e,r),_(e,n),s||(o=N(e,"click",i),s=!0)},p(e,s){t=e,1&s&&r!==(r=t[8]+"")&&M(n,r)},d(t){t&&P(e),s=!1,o()}}}function jt(t){let e;function n(t,e){return t[10]===t[1]?zt:Dt}let s=n(t),o=s(t);return{c(){o.c(),e=z()},m(t,n){o.m(t,n),L(t,e,n)},p(t,r){s===(s=n(t))&&o?o.p(t,r):(o.d(1),o=s(t),o&&(o.c(),o.m(e.parentNode,e)))},d(t){o.d(t),t&&P(e)}}}function Mt(e){let n,s=e[0],o=[];for(let t=0;t<s.length;t+=1)o[t]=jt(St(e,s,t));return{c(){n=E("div");for(let t=0;t<o.length;t+=1)o[t].c();j(n,"class","column c svelte-1db85j0")},m(t,s){L(t,n,s);for(let t=0;t<o.length;t+=1)o[t].m(n,null);e[7](n)},p(t,[e]){if(11&e){let r;for(s=t[0],r=0;r<s.length;r+=1){const i=St(t,s,r);o[r]?o[r].p(i,e):(o[r]=jt(i),o[r].c(),o[r].m(n,null))}for(;r<o.length;r+=1)o[r].d(1);o.length=s.length}},i:t,o:t,d(t){t&&P(n),U(o,t),e[7](null)}}}function Ot(t){Pager.select(t)}function Rt(t,e,n){let s,{tabs:o=["我的","发现"]}=e,{selected:r=0}=e;__emitter.on("__pageFold",(()=>{n(2,s.style.cssText="border-bottom: solid 1px rgba(0,0,0,0.2);",s)})),__emitter.on("__pageUnfold",(()=>{n(2,s.style.cssText="",s)}));return t.$$set=t=>{"tabs"in t&&n(0,o=t.tabs),"selected"in t&&n(1,r=t.selected)},[o,r,s,function(){Pager.remove(r)},t=>Ot(t),t=>Ot(t),t=>Ot(t),function(t){Z[t?"unshift":"push"]((()=>{s=t,n(2,s)}))}]}class It extends Et{constructor(t){super(),Ut(this,t,Rt,Mt,l,{tabs:0,selected:1})}}function Bt(t,{delay:n=0,duration:s=400,easing:o=e}={}){const r=+getComputedStyle(t).opacity;return{delay:n,duration:s,easing:o,css:t=>"opacity: "+t*r}}function Wt(t){let e,n,s,o,i,l,c;const a=t[9].default,d=u(a,t,t[8],null);return{c(){e=E("div"),n=E("div"),d&&d.c(),j(n,"class","container svelte-2ifc8j"),j(n,"style",t[1]),j(e,"class","layer row svelte-2ifc8j")},m(o,r){L(o,e,r),_(e,n),d&&d.m(n,null),i=!0,l||(c=[g(s=t[4].call(null,n)),N(n,"click",T(t[10])),N(e,"click",t[3])],l=!0)},p(t,e){d&&d.p&&(!i||256&e)&&p(d,a,t,t[8],i?f(a,t[8],e,null):m(t[8]),null),(!i||2&e)&&j(n,"style",t[1])},i(t){i||(gt(d,t),o&&o.end(1),i=!0)},o(t){vt(d,t),o=xt(e,Bt,{duration:100}),i=!1},d(t){t&&P(e),d&&d.d(t),t&&o&&o.end(),l=!1,r(c)}}}function Ht(t){let e,n,s,o,i,l,c,a;const d=t[9].default,h=u(d,t,t[8],null);return{c(){e=E("div"),h&&h.c(),j(e,"class","container svelte-2ifc8j"),j(e,"style",n="z-index:99999;"+t[1])},m(n,o){L(n,e,o),h&&h.m(e,null),l=!0,c||(a=[g(s=t[4].call(null,e)),N(e,"click",t[3])],c=!0)},p(t,s){h&&h.p&&(!l||256&s)&&p(h,d,t,t[8],l?f(d,t[8],s,null):m(t[8]),null),(!l||2&s&&n!==(n="z-index:99999;"+t[1]))&&j(e,"style",n)},i(t){l||(gt(h,t),ot((()=>{i&&i.end(1),o=wt(e,Bt,{duration:120}),o.start()})),l=!0)},o(t){vt(h,t),o&&o.invalidate(),i=xt(e,Bt,{duration:80}),l=!1},d(t){t&&P(e),h&&h.d(t),t&&i&&i.end(),c=!1,r(a)}}}function qt(t){let e,n,s,o=t[0]&&!t[2]&&Wt(t),r=t[0]&&t[2]&&Ht(t);return{c(){o&&o.c(),e=D(),r&&r.c(),n=z()},m(t,i){o&&o.m(t,i),L(t,e,i),r&&r.m(t,i),L(t,n,i),s=!0},p(t,[s]){t[0]&&!t[2]?o?(o.p(t,s),5&s&&gt(o,1)):(o=Wt(t),o.c(),gt(o,1),o.m(e.parentNode,e)):o&&(ht(),vt(o,1,1,(()=>{o=null})),$t()),t[0]&&t[2]?r?(r.p(t,s),5&s&&gt(r,1)):(r=Ht(t),r.c(),gt(r,1),r.m(n.parentNode,n)):r&&(ht(),vt(r,1,1,(()=>{r=null})),$t())},i(t){s||(gt(o),gt(r),s=!0)},o(t){vt(o),vt(r),s=!1},d(t){o&&o.d(t),t&&P(e),r&&r.d(t),t&&P(n)}}}function Ft(t,e,n){let{$$slots:s={},$$scope:o}=e;const r=Y();function i(){r("layerClick")}var l,c;l="close",c=i,X().$$.context.set(l,c);let{showPopupWindow:a=!1}=e,{cssText:u=""}=e,{noLayer:d=!1}=e;return t.$$set=t=>{"showPopupWindow"in t&&n(0,a=t.showPopupWindow),"cssText"in t&&n(1,u=t.cssText),"noLayer"in t&&n(2,d=t.noLayer),"$$scope"in t&&n(8,o=t.$$scope)},[a,u,d,i,function(t){return r("animIn",t),{destroy(){r("animOut",t)}}},function(t,e={}){return undefined.animate(t,e)},function(){n(0,a=!0)},function(){n(0,a=!1)},o,s,function(e){Q.call(this,t,e)}]}class Vt extends Et{constructor(t){super(),Ut(this,t,Ft,qt,l,{showPopupWindow:0,cssText:1,noLayer:2,animate:5,destroy:6,pop:7})}get animate(){return this.$$.ctx[5]}get destroy(){return this.$$.ctx[6]}get pop(){return this.$$.ctx[7]}}function Xt(t){let e,n,s,o;return{c(){e=E("span"),n=S(t[2]),j(e,"class",s="avatar iconfont size-"+(t[3]?t[3]:"normal")+" svelte-m9oihy"),j(e,"style",o="border-radius: "+t[6]+";"+t[8])},m(t,s){L(t,e,s),_(e,n)},p(t,r){4&r&&M(n,t[2]),8&r&&s!==(s="avatar iconfont size-"+(t[3]?t[3]:"normal")+" svelte-m9oihy")&&j(e,"class",s),320&r&&o!==(o="border-radius: "+t[6]+";"+t[8])&&j(e,"style",o)},d(t){t&&P(e)}}}function Jt(t){let e,n,s,o,r,i;return{c(){e=E("img"),a(e.src,n=t[2])||j(e,"src",n),j(e,"class","avatar svelte-m9oihy"),j(e,"alt",s="avatar size-"+(t[3]?t[3]:"normal")),j(e,"draggable","false"),j(e,"width",t[4]),j(e,"height",t[5]),j(e,"style",o="border-radius: "+t[6]+";"+t[8])},m(n,s){L(n,e,s),t[11](e),r||(i=N(e,"load",t[10]),r=!0)},p(t,r){4&r&&!a(e.src,n=t[2])&&j(e,"src",n),8&r&&s!==(s="avatar size-"+(t[3]?t[3]:"normal"))&&j(e,"alt",s),16&r&&j(e,"width",t[4]),32&r&&j(e,"height",t[5]),320&r&&o!==(o="border-radius: "+t[6]+";"+t[8])&&j(e,"style",o)},d(n){n&&P(e),t[11](null),r=!1,i()}}}function Yt(e){let n,s,o,r,i;function l(t,e){return t[1]?Jt:Xt}let c=l(e),a=c(e);return{c(){n=E("div"),a.c(),j(n,"class",s="column"+(e[7]?" clkable":"")+" svelte-m9oihy"),j(n,"style",o="width: fit-content; heigth: fit-content;"+e[8])},m(t,s){L(t,n,s),a.m(n,null),r||(i=N(n,"click",e[9]),r=!0)},p(t,[e]){c===(c=l(t))&&a?a.p(t,e):(a.d(1),a=c(t),a&&(a.c(),a.m(n,null))),128&e&&s!==(s="column"+(t[7]?" clkable":"")+" svelte-m9oihy")&&j(n,"class",s),256&e&&o!==(o="width: fit-content; heigth: fit-content;"+t[8])&&j(n,"style",o)},i:t,o:t,d(t){t&&P(n),a.d(),r=!1,i()}}}function Kt(t,e,n){const s=Y();let{isUrl:o=!0}=e,{avatar:r=""}=e,{size:i=""}=e,{width:l}=e,{height:c}=e,{radius:a="50%"}=e,{clickable:u=!0}=e,{ctx:d=this}=e,{cssText:f=""}=e;return t.$$set=t=>{"isUrl"in t&&n(1,o=t.isUrl),"avatar"in t&&n(2,r=t.avatar),"size"in t&&n(3,i=t.size),"width"in t&&n(4,l=t.width),"height"in t&&n(5,c=t.height),"radius"in t&&n(6,a=t.radius),"clickable"in t&&n(7,u=t.clickable),"ctx"in t&&n(0,d=t.ctx),"cssText"in t&&n(8,f=t.cssText)},[d,o,r,i,l,c,a,u,f,function(t){s("click",t)},function(){s("loaded")},function(t){Z[t?"unshift":"push"]((()=>{d=t,n(0,d)}))}]}class Qt extends Et{constructor(t){super(),Ut(this,t,Kt,Yt,l,{isUrl:1,avatar:2,size:3,width:4,height:5,radius:6,clickable:7,ctx:0,cssText:8})}}const Gt=t=>({}),Zt=t=>({...t[4]});function te(t){let e;const n=t[7].default,s=u(n,t,t[6],Zt);return{c(){s&&s.c()},m(t,n){s&&s.m(t,n),e=!0},p(t,o){s&&s.p&&(!e||80&o)&&p(s,n,t,t[6],(t=>16&t)(o)||!e?m(t[6]):f(n,t[6],o,Gt),Zt)},i(t){e||(gt(s,t),e=!0)},o(t){vt(s,t),e=!1},d(t){s&&s.d(t)}}}function ee(t){let e,s,o;const r=[t[4]];var i=t[0];function l(t){let e={};for(let t=0;t<r.length;t+=1)e=n(e,r[t]);return{props:e}}return i&&(e=new i(l())),{c(){e&&Ct(e.$$.fragment),s=z()},m(t,n){e&&At(e,t,n),L(t,s,n),o=!0},p(t,n){const o=16&n?bt(r,[kt(t[4])]):{};if(i!==(i=t[0])){if(e){ht();const t=e;vt(t.$$.fragment,1,0,(()=>{Lt(t,1)})),$t()}i?(e=new i(l()),Ct(e.$$.fragment),gt(e.$$.fragment,1),At(e,s.parentNode,s)):e=null}else i&&e.$set(o)},i(t){o||(e&&gt(e.$$.fragment,t),o=!0)},o(t){e&&vt(e.$$.fragment,t),o=!1},d(t){t&&P(s),e&&Lt(e,t)}}}function ne(t){let e,n,s,o,r,i;const l=[ee,te],c=[];function a(t,e){return t[0]?0:1}return n=a(t),s=c[n]=l[n](t),{c(){e=E("div"),s.c(),j(e,"class","container svelte-1mv98ub"),j(e,"style",t[1])},m(s,l){L(s,e,l),c[n].m(e,null),t[8](e),o=!0,r||(i=N(e,"mousedown",t[3]),r=!0)},p(t,[r]){let i=n;n=a(t),n===i?c[n].p(t,r):(ht(),vt(c[i],1,1,(()=>{c[i]=null})),$t(),s=c[n],s?s.p(t,r):(s=c[n]=l[n](t),s.c()),gt(s,1),s.m(e,null)),(!o||2&r)&&j(e,"style",t[1])},i(t){o||(gt(s),o=!0)},o(t){vt(s),o=!1},d(s){s&&P(e),c[n].d(),t[8](null),r=!1,i()}}}function se(t){t.animate({opacity:["0.4","0"]},200).onfinish=()=>{t.remove()}}function oe(t,e,s){let{$$slots:o={},$$scope:r}=e,{rippleColor:i=""}=e,{component:l=null}=e,{cssStyle:c=""}=e,a=null;return t.$$set=t=>{s(4,e=n(n({},e),h(t))),"rippleColor"in t&&s(5,i=t.rippleColor),"component"in t&&s(0,l=t.component),"cssStyle"in t&&s(1,c=t.cssStyle),"$$scope"in t&&s(6,r=t.$$scope)},e=h(e),[l,c,a,function(t){!function(t,e,n,s){const{left:o,top:r}=t.getBoundingClientRect(),{pageX:i,pageY:l}=e,{offsetWidth:c,offsetHeight:a}=t,u=Math.sqrt(a**2+c**2)/2,d=document.createElement("div");d.style.position="absolute",d.style.borderRadius="50%",d.style.opacity="0.4",d.style.pointerEvents="none",t.appendChild(d),d.animate([{top:l-r+"px",left:i-o+"px",width:"0px",height:"0px",backgroundColor:`${s||"var(--controlColor)"}`},{top:a/2-u+"px",left:c/2-u+"px",width:2*u+"px",height:2*u+"px",backgroundColor:`${s||"var(--controlColor)"}`}],{duration:320,fill:"forwards",easing:"ease-out"}).onfinish=()=>{"function"==typeof n&&n.call(d,d)}}(a,t,se,i)},e,i,r,o,function(t){Z[t?"unshift":"push"]((()=>{a=t,s(2,a)}))}]}class re extends Et{constructor(t){super(),Ut(this,t,oe,ne,l,{rippleColor:5,component:0,cssStyle:1})}}function ie(e){let n;return{c(){n=E("div"),R(n,"width","14px")},m(t,e){L(t,n,e)},p:t,i:t,o:t,d(t){t&&P(n)}}}function le(t){let e,n,s;return n=new Qt({props:{size:t[1],isUrl:t[0],avatar:t[2],width:t[6],height:t[7]}}),{c(){e=E("div"),Ct(n.$$.fragment),j(e,"class","column leading svelte-1xq5eac")},m(t,o){L(t,e,o),At(n,e,null),s=!0},p(t,e){const s={};2&e&&(s.size=t[1]),1&e&&(s.isUrl=t[0]),4&e&&(s.avatar=t[2]),64&e&&(s.width=t[6]),128&e&&(s.height=t[7]),n.$set(s)},i(t){s||(gt(n.$$.fragment,t),s=!0)},o(t){vt(n.$$.fragment,t),s=!1},d(t){t&&P(e),Lt(n)}}}function ce(t){let e,n,s,o;function r(t,e){return t[4]?de:ue}let i=r(t),l=i(t);const c=t[13].default,a=u(c,t,t[14],null);return{c(){e=E("div"),n=E("div"),l.c(),s=D(),a&&a.c(),j(n,"class","row align svelte-1xq5eac"),j(n,"style",t[5]),j(e,"class","column"),R(e,"justify-content","space-between"),R(e,"width",t[9]?"calc(100% - 84px)":"calc(100% - 28px)")},m(t,r){L(t,e,r),_(e,n),l.m(n,null),_(e,s),a&&a.m(e,null),o=!0},p(t,s){i===(i=r(t))&&l?l.p(t,s):(l.d(1),l=i(t),l&&(l.c(),l.m(n,null))),(!o||32&s)&&j(n,"style",t[5]),a&&a.p&&(!o||16384&s)&&p(a,c,t,t[14],o?f(c,t[14],s,null):m(t[14]),null),(!o||512&s)&&R(e,"width",t[9]?"calc(100% - 84px)":"calc(100% - 28px)")},i(t){o||(gt(a,t),o=!0)},o(t){vt(a,t),o=!1},d(t){t&&P(e),l.d(),a&&a.d(t)}}}function ae(t){let e,n,s;function o(t,e){return t[4]?pe:fe}let r=o(t),i=r(t);const l=t[13].default,c=u(l,t,t[14],null);return{c(){e=E("div"),i.c(),n=D(),c&&c.c(),j(e,"class","row align svelte-1xq5eac"),j(e,"style",t[5])},m(t,o){L(t,e,o),i.m(e,null),_(e,n),c&&c.m(e,null),s=!0},p(t,a){r===(r=o(t))&&i?i.p(t,a):(i.d(1),i=r(t),i&&(i.c(),i.m(e,n))),c&&c.p&&(!s||16384&a)&&p(c,l,t,t[14],s?f(l,t[14],a,null):m(t[14]),null),(!s||32&a)&&j(e,"style",t[5])},i(t){s||(gt(c,t),s=!0)},o(t){vt(c,t),s=!1},d(t){t&&P(e),i.d(),c&&c.d(t)}}}function ue(t){let e,n;return{c(){e=E("span"),n=S(t[3])},m(t,s){L(t,e,s),_(e,n)},p(t,e){8&e&&M(n,t[3])},d(t){t&&P(e)}}}function de(t){let e,n,s,o,r;return{c(){e=E("span"),n=S(t[3]),s=D(),o=E("span"),r=S(t[4]),R(o,"font-size","small"),R(o,"color","#888")},m(t,i){L(t,e,i),_(e,n),L(t,s,i),L(t,o,i),_(o,r)},p(t,e){8&e&&M(n,t[3]),16&e&&M(r,t[4])},d(t){t&&P(e),t&&P(s),t&&P(o)}}}function fe(t){let e,n;return{c(){e=E("span"),n=S(t[3])},m(t,s){L(t,e,s),_(e,n)},p(t,e){8&e&&M(n,t[3])},d(t){t&&P(e)}}}function pe(t){let e,n,s,o,r;return{c(){e=E("span"),n=S(t[3]),s=D(),o=E("span"),r=S(t[4]),R(o,"font-size","small"),R(o,"color","#888")},m(t,i){L(t,e,i),_(e,n),L(t,s,i),L(t,o,i),_(o,r)},p(t,e){8&e&&M(n,t[3]),16&e&&M(r,t[4])},d(t){t&&P(e),t&&P(s),t&&P(o)}}}function me(t){let e,n,s,o,i,l,c,a,u,d;const f=[le,ie],p=[];function m(t,e){return t[9]?0:1}n=m(t),s=p[n]=f[n](t);const h=[ae,ce],$=[];function g(t,e){return t[10]?0:1}return i=g(t),l=$[i]=h[i](t),{c(){e=E("div"),s.c(),o=D(),l.c(),j(e,"class",c="column c"+(t[8]?" cl":"")+" svelte-1xq5eac")},m(s,r){L(s,e,r),p[n].m(e,null),_(e,o),$[i].m(e,null),a=!0,u||(d=[N(e,"click",t[11]),N(e,"mousedown",t[12])],u=!0)},p(t,r){let u=n;n=m(t),n===u?p[n].p(t,r):(ht(),vt(p[u],1,1,(()=>{p[u]=null})),$t(),s=p[n],s?s.p(t,r):(s=p[n]=f[n](t),s.c()),gt(s,1),s.m(e,o));let d=i;i=g(t),i===d?$[i].p(t,r):(ht(),vt($[d],1,1,(()=>{$[d]=null})),$t(),l=$[i],l?l.p(t,r):(l=$[i]=h[i](t),l.c()),gt(l,1),l.m(e,null)),(!a||256&r&&c!==(c="column c"+(t[8]?" cl":"")+" svelte-1xq5eac"))&&j(e,"class",c)},i(t){a||(gt(s),gt(l),a=!0)},o(t){vt(s),vt(l),a=!1},d(t){t&&P(e),p[n].d(),$[i].d(),u=!1,r(d)}}}function he(t){let e,n;return e=new re({props:{cssStyle:"width: 100%",rippleColor:t[8]?"gray":"transparent",$$slots:{default:[me]},$$scope:{ctx:t}}}),{c(){Ct(e.$$.fragment)},m(t,s){At(e,t,s),n=!0},p(t,[n]){const s={};256&n&&(s.rippleColor=t[8]?"gray":"transparent"),18431&n&&(s.$$scope={dirty:n,ctx:t}),e.$set(s)},i(t){n||(gt(e.$$.fragment,t),n=!0)},o(t){vt(e.$$.fragment,t),n=!1},d(t){Lt(e,t)}}}function $e(t,e,n){let{$$slots:s={},$$scope:o}=e;const r=Y();let{isUrl:i=!0}=e,{size:l="normal"}=e,{avatar:c=""}=e,{data:a=""}=e,{extra:u=""}=e,{style:d=""}=e,{width:f}=e,{height:p}=e,{clickable:m=!0}=e,{useAvatar:h=!0}=e,{breakLine:$=!1}=e;return t.$$set=t=>{"isUrl"in t&&n(0,i=t.isUrl),"size"in t&&n(1,l=t.size),"avatar"in t&&n(2,c=t.avatar),"data"in t&&n(3,a=t.data),"extra"in t&&n(4,u=t.extra),"style"in t&&n(5,d=t.style),"width"in t&&n(6,f=t.width),"height"in t&&n(7,p=t.height),"clickable"in t&&n(8,m=t.clickable),"useAvatar"in t&&n(9,h=t.useAvatar),"breakLine"in t&&n(10,$=t.breakLine),"$$scope"in t&&n(14,o=t.$$scope)},[i,l,c,a,u,d,f,p,m,h,$,function(t){r("click",t)},function(t){r("mousedown",t)},s,o]}class ge extends Et{constructor(t){super(),Ut(this,t,$e,he,l,{isUrl:0,size:1,avatar:2,data:3,extra:4,style:5,width:6,height:7,clickable:8,useAvatar:9,breakLine:10})}}function ve(t){let e,n,s,o,r;return{c(){e=E("img"),s=D(),o=E("h5"),r=S(t[6]),a(e.src,n=t[5])||j(e,"src",n),j(e,"width",228),j(e,"height",228),j(e,"draggable","false"),j(e,"alt"," ")},m(n,i){L(n,e,i),t[13](e),L(n,s,i),L(n,o,i),_(o,r)},p(t,s){32&s&&!a(e.src,n=t[5])&&j(e,"src",n),64&s&&M(r,t[6])},d(n){n&&P(e),t[13](null),n&&P(s),n&&P(o)}}}function ye(t){let e,n,s,o,i,l,c,a,u;return{c(){e=E("input"),s=D(),o=E("input"),l=D(),c=E("div"),c.textContent="登陆",j(e,"type","text"),j(e,"class",n=$(t[2]&&"error")+" svelte-1apmc3m"),j(e,"placeholder","电话"),j(o,"type","password"),j(o,"class",i=$(t[2]&&"error")+" svelte-1apmc3m"),j(o,"placeholder","密码"),j(c,"class","column submit svelte-1apmc3m")},m(n,r){L(n,e,r),O(e,t[0]),L(n,s,r),L(n,o,r),O(o,t[1]),L(n,l,r),L(n,c,r),a||(u=[N(e,"input",t[11]),N(o,"input",t[12]),N(c,"click",t[7])],a=!0)},p(t,s){4&s&&n!==(n=$(t[2]&&"error")+" svelte-1apmc3m")&&j(e,"class",n),1&s&&e.value!==t[0]&&O(e,t[0]),4&s&&i!==(i=$(t[2]&&"error")+" svelte-1apmc3m")&&j(o,"class",i),2&s&&o.value!==t[1]&&O(o,t[1])},d(t){t&&P(e),t&&P(s),t&&P(o),t&&P(l),t&&P(c),a=!1,r(u)}}}function we(e){let n,s,o,r,i,l,c,a,u,d,f=e[8][e[3]]+"",p=e[8][e[3]?0:1]+"";function m(t,e){return t[3]?ve:ye}let h=m(e),$=h(e);return{c(){n=E("div"),s=E("h3"),o=S(f),r=S("登录 "),i=E("span"),l=S("使用"),c=S(p),a=D(),$.c(),j(i,"class","span svelte-1apmc3m"),j(n,"class","row c svelte-1apmc3m")},m(t,f){L(t,n,f),_(n,s),_(s,o),_(s,r),_(s,i),_(i,l),_(i,c),_(n,a),$.m(n,null),u||(d=N(i,"click",e[10]),u=!0)},p(t,[e]){8&e&&f!==(f=t[8][t[3]]+"")&&M(o,f),8&e&&p!==(p=t[8][t[3]?0:1]+"")&&M(c,p),h===(h=m(t))&&$?$.p(t,e):($.d(1),$=h(t),$&&($.c(),$.m(n,null)))},i:t,o:t,d(t){t&&P(n),$.d(),u=!1,d()}}}function xe(t,e,n){const s=K("close")||(()=>{__emitter.emit("__openMinePage"),__emitter.emit("__updateLoginAvatar")});let o,r,i=!1;let l,c,a=0,u="等待扫描";async function d(){const t=await NeteaseApi.loginViaQRCode(),e=t[0];n(5,c=t[1].body.data.qrimg);let o=async()=>{const t=await NeteaseApi.validQRLogin(e);if(1!==a)return;let r=()=>setTimeout((async()=>{await o()}),500);switch(n(6,u=t.body.message),t.body.code){case 801:r();break;case 800:d();break;case 802:n(4,l.style.opacity=.5,l),r();break;case 803:store.set("cookie",t.body.cookie),async function(){const t=await NeteaseApi.getUserAccount(store.get("cookie"));store.set("profile",t.body.data.profile),s()}()}};o()}return[o,r,i,a,l,c,u,async function(){const t=await NeteaseApi.login(o,r);if(200!==t.body.code)return n(1,r=""),void n(2,i=!0);localStorage.setItem("profile",JSON.stringify(t.body.profile)),localStorage.setItem("token",JSON.stringify(t.body.token)),store.set("cookie",t.cookie.join("")),s()},["手机","二维码"],d,()=>{n(3,a=a?0:1),a&&d()},function(){o=this.value,n(0,o)},function(){r=this.value,n(1,r)},function(t){Z[t?"unshift":"push"]((()=>{l=t,n(4,l)}))}]}class be extends Et{constructor(t){super(),Ut(this,t,xe,we,l,{})}}function ke(t){let e,n,s;return{c(){e=E("textarea"),j(e,"type",t[0]),j(e,"id",t[1]),e.value=t[2],j(e,"maxlength",t[4]),j(e,"style",t[5]),j(e,"placeholder",t[7]),j(e,"class","svelte-in1jdh")},m(o,r){L(o,e,r),n||(s=[N(e,"focus",t[9]),N(e,"change",t[11]),N(e,"input",t[12]),N(e,"blur",t[10])],n=!0)},p(t,n){1&n&&j(e,"type",t[0]),2&n&&j(e,"id",t[1]),4&n&&(e.value=t[2]),16&n&&j(e,"maxlength",t[4]),32&n&&j(e,"style",t[5]),128&n&&j(e,"placeholder",t[7])},d(t){t&&P(e),n=!1,r(s)}}}function _e(t){let e,n,s;return{c(){e=E("input"),j(e,"type",t[0]),j(e,"id",t[1]),e.value=t[2],j(e,"style",t[5]),j(e,"placeholder",t[7]),j(e,"class","svelte-in1jdh")},m(o,r){L(o,e,r),n||(s=[N(e,"focus",t[9]),N(e,"change",t[11]),N(e,"input",t[12]),N(e,"blur",t[10])],n=!0)},p(t,n){1&n&&j(e,"type",t[0]),2&n&&j(e,"id",t[1]),4&n&&e.value!==t[2]&&(e.value=t[2]),32&n&&j(e,"style",t[5]),128&n&&j(e,"placeholder",t[7])},d(t){t&&P(e),n=!1,r(s)}}}function Ce(e){let n,s;function o(t,e){return t[3]?_e:ke}let r=o(e),i=r(e);return{c(){n=E("div"),i.c(),j(n,"class",s=(e[6]?"full-border":"input")+(e[8]?" focus":"")+" svelte-in1jdh")},m(t,e){L(t,n,e),i.m(n,null)},p(t,[e]){r===(r=o(t))&&i?i.p(t,e):(i.d(1),i=r(t),i&&(i.c(),i.m(n,null))),320&e&&s!==(s=(t[6]?"full-border":"input")+(t[8]?" focus":"")+" svelte-in1jdh")&&j(n,"class",s)},i:t,o:t,d(t){t&&P(n),i.d()}}}function Ae(t,e,n){let{type:s="text"}=e,{id:o="default-id"}=e,{value:r=""}=e,{singleLine:i=!0}=e,{maxLength:l=999999}=e,{cssText:c=""}=e,{fullBorder:a=!1}=e,{placeholder:u=""}=e,d=Y(),f=!1;return t.$$set=t=>{"type"in t&&n(0,s=t.type),"id"in t&&n(1,o=t.id),"value"in t&&n(2,r=t.value),"singleLine"in t&&n(3,i=t.singleLine),"maxLength"in t&&n(4,l=t.maxLength),"cssText"in t&&n(5,c=t.cssText),"fullBorder"in t&&n(6,a=t.fullBorder),"placeholder"in t&&n(7,u=t.placeholder)},[s,o,r,i,l,c,a,u,f,function(){n(8,f=!0),d("focus")},function(){n(8,f=!1),d("blur")},function(){d("change")},function(){d("input")}]}class Le extends Et{constructor(t){super(),Ut(this,t,Ae,Ce,l,{type:0,id:1,value:2,singleLine:3,maxLength:4,cssText:5,fullBorder:6,placeholder:7})}}function Pe(e){let n,s,o,r,i,l,c,a,u,d,f,p;return n=new Qt({props:{avatar:e[0].avatarUrl,width:120,height:120}}),l=new Le({props:{id:"profileName",value:e[0].nickname}}),f=new Le({props:{id:"profileDesc",maxlength:300,value:e[0].description,singleLine:!1,cssText:"height: 120px"}}),{c(){Ct(n.$$.fragment),s=D(),o=E("div"),r=E("span"),r.textContent="昵称",i=D(),Ct(l.$$.fragment),c=D(),a=E("div"),u=E("span"),u.textContent="介绍",d=D(),Ct(f.$$.fragment),j(r,"class","svelte-1t36vlu"),j(o,"class","row input svelte-1t36vlu"),j(u,"class","svelte-1t36vlu"),j(a,"class","row input svelte-1t36vlu")},m(t,e){At(n,t,e),L(t,s,e),L(t,o,e),_(o,r),_(o,i),At(l,o,null),L(t,c,e),L(t,a,e),_(a,u),_(a,d),At(f,a,null),p=!0},p:t,i(t){p||(gt(n.$$.fragment,t),gt(l.$$.fragment,t),gt(f.$$.fragment,t),p=!0)},o(t){vt(n.$$.fragment,t),vt(l.$$.fragment,t),vt(f.$$.fragment,t),p=!1},d(t){Lt(n,t),t&&P(s),t&&P(o),Lt(l),t&&P(c),t&&P(a),Lt(f)}}}function Ue(t){return[store.get("profile")]}class Ee extends Et{constructor(t){super(),Ut(this,t,Ue,Pe,l,{})}}function Se(t){let e,n;const s=t[5].default,o=u(s,t,t[4],null);return{c(){e=E("div"),o&&o.c(),j(e,"class","container svelte-1mqptgy"),j(e,"style",t[0])},m(s,r){L(s,e,r),o&&o.m(e,null),t[6](e),n=!0},p(t,[r]){o&&o.p&&(!n||16&r)&&p(o,s,t,t[4],n?f(s,t[4],r,null):m(t[4]),null),(!n||1&r)&&j(e,"style",t[0])},i(t){n||(gt(o,t),n=!0)},o(t){vt(o,t),n=!1},d(n){n&&P(e),o&&o.d(n),t[6](null)}}}function De(t,e,n){let s,{$$slots:o={},$$scope:r}=e,{cssStyle:i}=e;return t.$$set=t=>{"cssStyle"in t&&n(0,i=t.cssStyle),"$$scope"in t&&n(4,r=t.$$scope)},[i,s,function(t){s.offsetHeight&&s.offsetWidth&&t({width:s.offsetWidth,height:s.offsetHeight}),new MutationObserver(((e,n)=>{n.disconnect();try{t({width:s.offsetWidth,height:s.offsetHeight})}catch(t){}})).observe(s,{childList:!0,subtree:!0,attributes:!0})},function(){s.setAttribute("__force-update__",""),s.removeAttribute("__force-update__")},r,o,function(t){Z[t?"unshift":"push"]((()=>{s=t,n(1,s)}))}]}class ze extends Et{constructor(t){super(),Ut(this,t,De,Se,l,{cssStyle:0,measure:2,forceUpdate:3})}get measure(){return this.$$.ctx[2]}get forceUpdate(){return this.$$.ctx[3]}}function Ne(t){let e;const n=t[9].default,s=u(n,t,t[14],null);return{c(){s&&s.c()},m(t,n){s&&s.m(t,n),e=!0},p(t,o){s&&s.p&&(!e||16384&o)&&p(s,n,t,t[14],e?f(n,t[14],o,null):m(t[14]),null)},i(t){e||(gt(s,t),e=!0)},o(t){vt(s,t),e=!1},d(t){s&&s.d(t)}}}function Te(t){let e,n,s,o,r,i,l,c,a,u;return s=new ze({props:{cssStyle:"width: 100%",$$slots:{default:[Ne]},$$scope:{ctx:t}}}),t[10](s),{c(){e=E("div"),n=E("div"),Ct(s.$$.fragment),o=D(),r=E("div"),i=E("div"),j(n,"class","contaienr svelte-1oh87hr"),j(i,"class","thumb svelte-1oh87hr"),j(r,"class",l="bar"+(t[4]?" active":"")+(t[3]?"":" hide")+" svelte-1oh87hr"),j(e,"class","c svelte-1oh87hr")},m(l,d){L(l,e,d),_(e,n),At(s,n,null),t[11](n),_(e,o),_(e,r),_(r,i),t[12](i),t[13](e),c=!0,a||(u=N(i,"mousedown",t[6]),a=!0)},p(t,[e]){const n={};16384&e&&(n.$$scope={dirty:e,ctx:t}),s.$set(n),(!c||24&e&&l!==(l="bar"+(t[4]?" active":"")+(t[3]?"":" hide")+" svelte-1oh87hr"))&&j(r,"class",l)},i(t){c||(gt(s.$$.fragment,t),c=!0)},o(t){vt(s.$$.fragment,t),c=!1},d(n){n&&P(e),t[10](null),Lt(s),t[11](null),t[12](null),t[13](null),a=!1,u()}}}function je(t,e,n){let s,o,r,i,l,c,a,{$$slots:u={},$$scope:d}=e,f=!1;function p(t){if(r=function(t){let e;try{e=t.offsetHeight}catch(t){e=0}return e}(s),i=t,r>=i)return n(3,f=!1);n(3,f=!0),l=(i-r)*r/i,a=r/i;try{o.style.setProperty("--thumb-height",r*a+"px")}catch(t){}}let m,h,$,g=!1,v=!1,y=0;function w(t){g&&(n(4,v=!0),$=t.screenY-m,y=h+$,_(y))}function x(){n(4,v=!1),g=!1}J((()=>{c.addEventListener("mousemove",w),document.addEventListener("mouseup",x),document.addEventListener("wheel",(t=>{~t.path.indexOf(c)&&(y+=~~t.deltaY*a,y<0&&(y=0),y>l&&(y=l),_(y))}))}));let b,k=!1;function _(t){try{if(isNaN(t))return;t<=0&&(k=!0,__emitter.emit("__pageUnfold"),t=0),t>l&&(t=l),k?k=!1:__emitter.emit("__pageFold"),o.style.setProperty("--progress",t+"px"),s.scrollTo({left:0,top:t*i/r,behavior:"auto"})}catch(t){}}function C(){b.measure((t=>{p(t.height)}))}var A;return J(C),A=()=>__emitter.emit("__pageUnfold"),X().$$.on_destroy.push(A),t.$$set=t=>{"$$scope"in t&&n(14,d=t.$$scope)},[s,o,c,f,v,b,function(t){g=!0,m=t.screenY,h=o.offsetTop},C,function(){b.measure((({height:t})=>{p(t)})),b.forceUpdate()},u,function(t){Z[t?"unshift":"push"]((()=>{b=t,n(5,b)}))},function(t){Z[t?"unshift":"push"]((()=>{s=t,n(0,s)}))},function(t){Z[t?"unshift":"push"]((()=>{o=t,n(1,o)}))},function(t){Z[t?"unshift":"push"]((()=>{c=t,n(2,c)}))},d]}class Me extends Et{constructor(t){super(),Ut(this,t,je,Te,l,{measure:7,recalc:8})}get measure(){return this.$$.ctx[7]}get recalc(){return this.$$.ctx[8]}}function Oe(t){let e,n;return{c(){e=E("div"),n=S(t[5]),R(e,"color","var(--controlColor)"),R(e,"font-weight","bold"),R(e,"margin-bottom","12px"),R(e,"margin-left","calc(14px + "+t[0]+")")},m(t,s){L(t,e,s),_(e,n)},p(t,s){32&s&&M(n,t[5]),1&s&&R(e,"margin-left","calc(14px + "+t[0]+")")},d(t){t&&P(e)}}}function Re(t){let e,n,s,o,r=t[5]&&Oe(t);const i=t[7].default,l=u(i,t,t[6],null);return{c(){e=E("div"),r&&r.c(),n=D(),s=E("div"),l&&l.c(),R(s,"border-radius",t[2]),R(s,"background-color",t[3]),R(s,"width","calc(100% - "+t[0]+" * 2)"),R(s,"height","fit-content"),R(s,"box-shadow","0px 0px 4px "+t[4]),R(s,"overflow","hidden"),R(s,"margin",t[1]+" "+t[0]),R(e,"margin-top","12px"),R(e,"width","100%")},m(t,i){L(t,e,i),r&&r.m(e,null),_(e,n),_(e,s),l&&l.m(s,null),o=!0},p(t,[c]){t[5]?r?r.p(t,c):(r=Oe(t),r.c(),r.m(e,n)):r&&(r.d(1),r=null),l&&l.p&&(!o||64&c)&&p(l,i,t,t[6],o?f(i,t[6],c,null):m(t[6]),null),(!o||4&c)&&R(s,"border-radius",t[2]),(!o||8&c)&&R(s,"background-color",t[3]),(!o||1&c)&&R(s,"width","calc(100% - "+t[0]+" * 2)"),(!o||16&c)&&R(s,"box-shadow","0px 0px 4px "+t[4]),(!o||3&c)&&R(s,"margin",t[1]+" "+t[0])},i(t){o||(gt(l,t),o=!0)},o(t){vt(l,t),o=!1},d(t){t&&P(e),r&&r.d(),l&&l.d(t)}}}function Ie(t,e,n){let{$$slots:s={},$$scope:o}=e,{marginHorizon:r="10px"}=e,{marginVertical:i="0px"}=e,{radius:l="12px"}=e,{color:c="rgba(255,255,255,0.4)"}=e,{shadowColor:a="rgba(0,0,0,0.2)"}=e,{title:u=""}=e;return t.$$set=t=>{"marginHorizon"in t&&n(0,r=t.marginHorizon),"marginVertical"in t&&n(1,i=t.marginVertical),"radius"in t&&n(2,l=t.radius),"color"in t&&n(3,c=t.color),"shadowColor"in t&&n(4,a=t.shadowColor),"title"in t&&n(5,u=t.title),"$$scope"in t&&n(6,o=t.$$scope)},[r,i,l,c,a,u,o,s]}class Be extends Et{constructor(t){super(),Ut(this,t,Ie,Re,l,{marginHorizon:0,marginVertical:1,radius:2,color:3,shadowColor:4,title:5})}}function We(t,e,n){const s=t.slice();return s[6]=e[n],s[8]=n,s}function He(t){let e,n,s,o,i,l=t[6]+"";function c(...e){return t[4](t[8],...e)}return{c(){e=E("div"),n=S(l),j(e,"class",s="btn outlined"+(t[0]===t[8]?" selected":"")+" svelte-mvb7d9")},m(t,s){L(t,e,s),_(e,n),o||(i=[N(e,"click",c),N(e,"mousedown",Ve)],o=!0)},p(o,r){t=o,2&r&&l!==(l=t[6]+"")&&M(n,l),1&r&&s!==(s="btn outlined"+(t[0]===t[8]?" selected":"")+" svelte-mvb7d9")&&j(e,"class",s)},d(t){t&&P(e),o=!1,r(i)}}}function qe(t){let e,n=t[1],s=[];for(let e=0;e<n.length;e+=1)s[e]=He(We(t,n,e));return{c(){e=E("div");for(let t=0;t<s.length;t+=1)s[t].c();j(e,"class","column"),R(e,"padding-top","8px")},m(t,n){L(t,e,n);for(let t=0;t<s.length;t+=1)s[t].m(e,null)},p(t,o){if(7&o){let r;for(n=t[1],r=0;r<n.length;r+=1){const i=We(t,n,r);s[r]?s[r].p(i,o):(s[r]=He(i),s[r].c(),s[r].m(e,null))}for(;r<s.length;r+=1)s[r].d(1);s.length=n.length}},d(t){t&&P(e),U(s,t)}}}function Fe(t){let e,s;const o=[t[3],{breakLine:!0}];let r={$$slots:{default:[qe]},$$scope:{ctx:t}};for(let t=0;t<o.length;t+=1)r=n(r,o[t]);return e=new ge({props:r}),{c(){Ct(e.$$.fragment)},m(t,n){At(e,t,n),s=!0},p(t,[n]){const s=8&n?bt(o,[kt(t[3]),o[1]]):{};515&n&&(s.$$scope={dirty:n,ctx:t}),e.$set(s)},i(t){s||(gt(e.$$.fragment,t),s=!0)},o(t){vt(e.$$.fragment,t),s=!1},d(t){Lt(e,t)}}}const Ve=t=>t.stopPropagation();function Xe(t,e,s){let{dataList:o=[]}=e,{selected:r=0}=e;const i=Y();function l(t,e){i("selected",e),s(0,r=e)}return t.$$set=t=>{s(3,e=n(n({},e),h(t))),"dataList"in t&&s(1,o=t.dataList),"selected"in t&&s(0,r=t.selected)},e=h(e),[r,o,l,e,(t,e)=>l(0,t)]}class Je extends Et{constructor(t){super(),Ut(this,t,Xe,Fe,l,{dataList:1,selected:0})}}function Ye(e){let n,s,o,i,l,c;return{c(){n=E("div"),s=E("div"),j(s,"class",o="switchThumb"+(e[0]?" thumb-active":"")+" svelte-9mloa7"),j(n,"class",i="switch"+(e[0]?" active":"")+" svelte-9mloa7")},m(t,o){L(t,n,o),_(n,s),l||(c=[N(n,"mousedown",T(Ke)),N(n,"click",T(e[1]))],l=!0)},p(t,[e]){1&e&&o!==(o="switchThumb"+(t[0]?" thumb-active":"")+" svelte-9mloa7")&&j(s,"class",o),1&e&&i!==(i="switch"+(t[0]?" active":"")+" svelte-9mloa7")&&j(n,"class",i)},i:t,o:t,d(t){t&&P(n),l=!1,r(c)}}}const Ke=()=>{};function Qe(t,e,n){let{checked:s=!1}=e;const o=Y();function r(){n(0,s=!s),o("toggle",s)}return t.$$set=t=>{"checked"in t&&n(0,s=t.checked)},[s,r,function(){r()}]}class Ge extends Et{constructor(t){super(),Ut(this,t,Qe,Ye,l,{checked:0,toggle:2})}get toggle(){return this.$$.ctx[2]}}function Ze(t){let e,n,s;function o(e){t[4](e)}let r={};return void 0!==t[0]&&(r.checked=t[0]),e=new Ge({props:r}),Z.push((()=>_t(e,"checked",o))),t[5](e),e.$on("toggle",t[2]),{c(){Ct(e.$$.fragment)},m(t,n){At(e,t,n),s=!0},p(t,s){const o={};!n&&1&s&&(n=!0,o.checked=t[0],rt((()=>n=!1))),e.$set(o)},i(t){s||(gt(e.$$.fragment,t),s=!0)},o(t){vt(e.$$.fragment,t),s=!1},d(n){t[5](null),Lt(e,n)}}}function tn(t){let e,s;const o=[t[3]];let r={$$slots:{default:[Ze]},$$scope:{ctx:t}};for(let t=0;t<o.length;t+=1)r=n(r,o[t]);return e=new ge({props:r}),e.$on("click",t[6]),{c(){Ct(e.$$.fragment)},m(t,n){At(e,t,n),s=!0},p(t,[n]){const s=8&n?bt(o,[kt(t[3])]):{};259&n&&(s.$$scope={dirty:n,ctx:t}),e.$set(s)},i(t){s||(gt(e.$$.fragment,t),s=!0)},o(t){vt(e.$$.fragment,t),s=!1},d(t){Lt(e,t)}}}function en(t,e,s){let o,r=Y(),{checked:i=!1}=e;return t.$$set=t=>{s(3,e=n(n({},e),h(t))),"checked"in t&&s(0,i=t.checked)},e=h(e),[i,o,function(t){let e=t.detail;r("toggle",e)},e,function(t){i=t,s(0,i)},function(t){Z[t?"unshift":"push"]((()=>{o=t,s(1,o)}))},()=>o.toggle()]}class nn extends Et{constructor(t){super(),Ut(this,t,en,tn,l,{checked:0})}}function sn(t){let e,n,s,o,r,i,l;function c(e){t[5](e)}function a(e){t[6](e)}let u={data:"主题色",useAvatar:!1,isUrl:!1};function d(e){t[7](e)}void 0!==t[0]&&(u.dataList=t[0]),void 0!==t[1]&&(u.selected=t[1]),e=new Je({props:u}),Z.push((()=>_t(e,"dataList",c))),Z.push((()=>_t(e,"selected",a))),e.$on("selected",t[3]);let f={data:'使用 "Acrylic" ',extra:"性能较低的设备关闭此选项以获得更好的体验",useAvatar:!1,isUrl:!1};return void 0!==t[2]&&(f.checked=t[2]),r=new nn({props:f}),Z.push((()=>_t(r,"checked",d))),r.$on("toggle",t[4]),{c(){Ct(e.$$.fragment),o=D(),Ct(r.$$.fragment)},m(t,n){At(e,t,n),L(t,o,n),At(r,t,n),l=!0},p(t,o){const l={};!n&&1&o&&(n=!0,l.dataList=t[0],rt((()=>n=!1))),!s&&2&o&&(s=!0,l.selected=t[1],rt((()=>s=!1))),e.$set(l);const c={};!i&&4&o&&(i=!0,c.checked=t[2],rt((()=>i=!1))),r.$set(c)},i(t){l||(gt(e.$$.fragment,t),gt(r.$$.fragment,t),l=!0)},o(t){vt(e.$$.fragment,t),vt(r.$$.fragment,t),l=!1},d(t){Lt(e,t),t&&P(o),Lt(r,t)}}}function on(t){let e,n,s,o,r,i,l,c;return r=new Le({props:{placeholder:"  搜索设置",fullBorder:!0}}),l=new Be({props:{title:"主题",$$slots:{default:[sn]},$$scope:{ctx:t}}}),{c(){e=E("div"),n=E("div"),s=E("h1"),s.textContent="设置",o=D(),Ct(r.$$.fragment),i=D(),Ct(l.$$.fragment),j(s,"class","svelte-cndn71"),j(n,"class","column grid-margin svelte-cndn71"),R(n,"justify-content","space-between"),R(n,"width","calc(100% - 48px)"),j(e,"class","row c svelte-cndn71")},m(t,a){L(t,e,a),_(e,n),_(n,s),_(n,o),At(r,n,null),_(e,i),At(l,e,null),c=!0},p(t,e){const n={};519&e&&(n.$$scope={dirty:e,ctx:t}),l.$set(n)},i(t){c||(gt(r.$$.fragment,t),gt(l.$$.fragment,t),c=!0)},o(t){vt(r.$$.fragment,t),vt(l.$$.fragment,t),c=!1},d(t){t&&P(e),Lt(r),Lt(l)}}}function rn(t){let e,n;return e=new Me({props:{$$slots:{default:[on]},$$scope:{ctx:t}}}),{c(){Ct(e.$$.fragment)},m(t,s){At(e,t,s),n=!0},p(t,[n]){const s={};519&n&&(s.$$scope={dirty:n,ctx:t}),e.$set(s)},i(t){n||(gt(e.$$.fragment,t),n=!0)},o(t){vt(e.$$.fragment,t),n=!1},d(t){Lt(e,t)}}}function ln(t,e,n){let s=store.get("sys-settings"),o=s.theme.controlColor.slice(1),r=s.theme.controlColor[0],i=s.theme.useAcrylic;return[o,r,i,function(t){const e=t.detail;n(1,r=s.theme.controlColor[0]=e),__emitter.emit("changeControlColor",o[r]),store.set("sys-settings",s)},function(t){const e=t.detail;s.theme.useAcrylic=e,__emitter.emit("useAcrylic",e)},function(t){o=t,n(0,o)},function(t){r=t,n(1,r)},function(t){i=t,n(2,i)}]}class cn extends Et{constructor(t){super(),Ut(this,t,ln,rn,l,{})}}function an(t){let e,n;return e=new be({}),{c(){Ct(e.$$.fragment)},m(t,s){At(e,t,s),n=!0},i(t){n||(gt(e.$$.fragment,t),n=!0)},o(t){vt(e.$$.fragment,t),n=!1},d(t){Lt(e,t)}}}function un(e){let n,s,o,r;return{c(){n=E("div"),s=E("div"),s.textContent="  修改个人信息",j(s,"class","btn outlined"),R(n,"padding-left","56px"),R(n,"margin","8px 0px")},m(t,i){L(t,n,i),_(n,s),o||(r=N(s,"click",e[6]),o=!0)},p:t,d(t){t&&P(n),o=!1,r()}}}function dn(e){let n,s;return n=new ge({props:{isUrl:!1,style:"font-size: small",size:"small",avatar:"",data:"登陆"}}),n.$on("click",e[4]),{c(){Ct(n.$$.fragment)},m(t,e){At(n,t,e),s=!0},p:t,i(t){s||(gt(n.$$.fragment,t),s=!0)},o(t){vt(n.$$.fragment,t),s=!1},d(t){Lt(n,t)}}}function fn(e){let n,s;return n=new ge({props:{style:"font-size: small",isUrl:!1,size:"small",avatar:"",data:"注销"}}),n.$on("click",e[5]),{c(){Ct(n.$$.fragment)},m(t,e){At(n,t,e),s=!0},p:t,i(t){s||(gt(n.$$.fragment,t),s=!0)},o(t){vt(n.$$.fragment,t),s=!1},d(t){Lt(n,t)}}}function pn(t){let e,n,s,o,r,i,l,c,a,u,d,f,p,m,h,$,g,v;function y(e){t[8](e)}let w={$$slots:{default:[an]},$$scope:{ctx:t}};void 0!==t[2]&&(w.showPopupWindow=t[2]),s=new Vt({props:w}),Z.push((()=>_t(s,"showPopupWindow",y))),s.$on("layerClick",t[3]),i=new ge({props:{isUrl:t[0].avatarUrl,avatar:t[0].avatarUrl||"",data:t[0].name,width:28,height:28,clickable:!1}});let x=t[1]&&un(t);const b=[fn,dn],k=[];function C(t,e){return t[1]?0:1}return a=C(t),u=k[a]=b[a](t),p=new ge({props:{isUrl:!1,style:"font-size: small",size:"small",avatar:"",data:"设置"}}),p.$on("click",t[7]),h=new ge({props:{isUrl:!1,style:"font-size: small",size:"small",avatar:"",data:"下载管理"}}),{c(){e=E("div"),n=E("header"),Ct(s.$$.fragment),r=D(),Ct(i.$$.fragment),l=D(),x&&x.c(),c=D(),u.c(),d=D(),f=E("div"),Ct(p.$$.fragment),m=D(),Ct(h.$$.fragment),$=D(),g=E("footer"),g.textContent="REM",j(n,"class","row svelte-ms8jvt"),j(f,"class","article row svelte-ms8jvt"),j(g,"class","column svelte-ms8jvt"),j(e,"class","row c svelte-ms8jvt")},m(t,o){L(t,e,o),_(e,n),At(s,n,null),_(n,r),At(i,n,null),_(n,l),x&&x.m(n,null),_(n,c),k[a].m(n,null),_(e,d),_(e,f),At(p,f,null),_(f,m),At(h,f,null),_(e,$),_(e,g),v=!0},p(t,[e]){const r={};1024&e&&(r.$$scope={dirty:e,ctx:t}),!o&&4&e&&(o=!0,r.showPopupWindow=t[2],rt((()=>o=!1))),s.$set(r);const l={};1&e&&(l.isUrl=t[0].avatarUrl),1&e&&(l.avatar=t[0].avatarUrl||""),1&e&&(l.data=t[0].name),i.$set(l),t[1]?x?x.p(t,e):(x=un(t),x.c(),x.m(n,c)):x&&(x.d(1),x=null);let d=a;a=C(t),a===d?k[a].p(t,e):(ht(),vt(k[d],1,1,(()=>{k[d]=null})),$t(),u=k[a],u?u.p(t,e):(u=k[a]=b[a](t),u.c()),gt(u,1),u.m(n,null))},i(t){v||(gt(s.$$.fragment,t),gt(i.$$.fragment,t),gt(u),gt(p.$$.fragment,t),gt(h.$$.fragment,t),v=!0)},o(t){vt(s.$$.fragment,t),vt(i.$$.fragment,t),vt(u),vt(p.$$.fragment,t),vt(h.$$.fragment,t),v=!1},d(t){t&&P(e),Lt(s),Lt(i),x&&x.d(),k[a].d(),Lt(p),Lt(h)}}}function mn(t,e,n){let s=K("close"),{user:o}=e,r=!!o.avatarUrl,i=!1;return t.$$set=t=>{"user"in t&&n(0,o=t.user)},[o,r,i,()=>{n(2,i=!1);const t=store.get("profile");t&&(n(0,o={avatarUrl:t.avatarUrl,name:t.nickname}),n(1,r=!!o.avatarUrl))},()=>{n(2,i=!0)},function(){store.rm("profile"),store.rm("token"),n(0,o={avatarUrl:"",name:"未登录"}),n(1,r=!!o.avatarUrl)},()=>{s(),Pager.openNew("个人信息",Ee,{})},function(){s(),Pager.openNew("设置",cn,{})},function(t){i=t,n(2,i)}]}class hn extends Et{constructor(t){super(),Ut(this,t,mn,pn,l,{user:0})}}function $n(t,e,n){const s=t.slice();return s[20]=e[n],s[22]=n,s}function gn(t,e,n){const s=t.slice();return s[20]=e[n],s}function vn(t){let e,n,s;function o(e){t[14](e)}let r={};return void 0!==t[2]&&(r.user=t[2]),e=new hn({props:r}),Z.push((()=>_t(e,"user",o))),{c(){Ct(e.$$.fragment)},m(t,n){At(e,t,n),s=!0},p(t,s){const o={};!n&&4&s&&(n=!0,o.user=t[2],rt((()=>n=!1))),e.$set(o)},i(t){s||(gt(e.$$.fragment,t),s=!0)},o(t){vt(e.$$.fragment,t),s=!1},d(t){Lt(e,t)}}}function yn(t){let e,n,s,o=t[6],r=[];for(let e=0;e<o.length;e+=1)r[e]=wn(gn(t,o,e));const i=t=>vt(r[t],1,1,(()=>{r[t]=null}));return{c(){for(let t=0;t<r.length;t+=1)r[t].c();e=D(),n=E("div"),R(n,"height","1px"),R(n,"background-color","#ddd")},m(t,o){for(let e=0;e<r.length;e+=1)r[e].m(t,o);L(t,e,o),L(t,n,o),s=!0},p(t,n){if(584&n){let s;for(o=t[6],s=0;s<o.length;s+=1){const i=gn(t,o,s);r[s]?(r[s].p(i,n),gt(r[s],1)):(r[s]=wn(i),r[s].c(),gt(r[s],1),r[s].m(e.parentNode,e))}for(ht(),s=o.length;s<r.length;s+=1)i(s);$t()}},i(t){if(!s){for(let t=0;t<o.length;t+=1)gt(r[t]);s=!0}},o(t){r=r.filter(Boolean);for(let t=0;t<r.length;t+=1)vt(r[t]);s=!1},d(t){U(r,t),t&&P(e),t&&P(n)}}}function wn(t){let e,n;return e=new ge({props:{size:"small",data:t[20],isUrl:!1,avatar:""}}),e.$on("mousedown",(function(){return t[15](t[20])})),{c(){Ct(e.$$.fragment)},m(t,s){At(e,t,s),n=!0},p(n,s){t=n;const o={};64&s&&(o.data=t[20]),e.$set(o)},i(t){n||(gt(e.$$.fragment,t),n=!0)},o(t){vt(e.$$.fragment,t),n=!1},d(t){Lt(e,t)}}}function xn(t){let e,n;return e=new ge({props:{size:"small",data:t[20],isUrl:!1,avatar:t[22]+1}}),e.$on("mousedown",(function(){return t[16](t[20])})),{c(){Ct(e.$$.fragment)},m(t,s){At(e,t,s),n=!0},p(n,s){t=n;const o={};32&s&&(o.data=t[20]),e.$set(o)},i(t){n||(gt(e.$$.fragment,t),n=!0)},o(t){vt(e.$$.fragment,t),n=!1},d(t){Lt(e,t)}}}function bn(t){let e,n,s,o=t[6]&&yn(t),r=t[5],i=[];for(let e=0;e<r.length;e+=1)i[e]=xn($n(t,r,e));const l=t=>vt(i[t],1,1,(()=>{i[t]=null}));return{c(){o&&o.c(),e=D();for(let t=0;t<i.length;t+=1)i[t].c();n=z()},m(t,r){o&&o.m(t,r),L(t,e,r);for(let e=0;e<i.length;e+=1)i[e].m(t,r);L(t,n,r),s=!0},p(t,s){if(t[6]?o?(o.p(t,s),64&s&&gt(o,1)):(o=yn(t),o.c(),gt(o,1),o.m(e.parentNode,e)):o&&(ht(),vt(o,1,1,(()=>{o=null})),$t()),552&s){let e;for(r=t[5],e=0;e<r.length;e+=1){const o=$n(t,r,e);i[e]?(i[e].p(o,s),gt(i[e],1)):(i[e]=xn(o),i[e].c(),gt(i[e],1),i[e].m(n.parentNode,n))}for(ht(),e=r.length;e<i.length;e+=1)l(e);$t()}},i(t){if(!s){gt(o);for(let t=0;t<r.length;t+=1)gt(i[t]);s=!0}},o(t){vt(o),i=i.filter(Boolean);for(let t=0;t<i.length;t+=1)vt(i[t]);s=!1},d(t){o&&o.d(t),t&&P(e),U(i,t),t&&P(n)}}}function kn(t){let e,n,s,o,i,l,c,a,u,d,f,p,m,h;return c=new Qt({props:{size:"normal",isUrl:t[0],avatar:t[0]||"",width:28,height:28}}),c.$on("click",t[7]),u=new Vt({props:{showPopupWindow:t[1],cssText:"position: absolute; top: 88px",$$slots:{default:[vn]},$$scope:{ctx:t}}}),u.$on("layerClick",t[8]),u.$on("animIn",_n),f=new Vt({props:{noLayer:!0,showPopupWindow:t[4],cssText:"position: fixed; top: 88px; width: 300px",$$slots:{default:[bn]},$$scope:{ctx:t}}}),f.$on("layerClick",t[17]),{c(){e=E("div"),n=E("div"),s=E("span"),o=D(),i=E("input"),l=D(),Ct(c.$$.fragment),a=D(),Ct(u.$$.fragment),d=D(),Ct(f.$$.fragment),j(s,"class","iconfont icon-search avatar menu svelte-1e098rr"),j(i,"type","text"),j(i,"class","input svelte-1e098rr"),j(i,"placeholder","搜索歌曲和歌手"),j(n,"class","column search svelte-1e098rr"),j(e,"class","column")},m(r,$){L(r,e,$),_(e,n),_(n,s),_(n,o),_(n,i),O(i,t[3]),_(n,l),At(c,n,null),_(e,a),At(u,e,null),_(e,d),At(f,e,null),p=!0,m||(h=[N(s,"click",t[9]),N(i,"input",t[12]),N(i,"change",t[9]),N(i,"focus",t[10]),N(i,"blur",t[13]),N(i,"input",t[11])],m=!0)},p(t,[e]){8&e&&i.value!==t[3]&&O(i,t[3]);const n={};1&e&&(n.isUrl=t[0]),1&e&&(n.avatar=t[0]||""),c.$set(n);const s={};2&e&&(s.showPopupWindow=t[1]),33554436&e&&(s.$$scope={dirty:e,ctx:t}),u.$set(s);const o={};16&e&&(o.showPopupWindow=t[4]),33554536&e&&(o.$$scope={dirty:e,ctx:t}),f.$set(o)},i(t){p||(gt(c.$$.fragment,t),gt(u.$$.fragment,t),gt(f.$$.fragment,t),p=!0)},o(t){vt(c.$$.fragment,t),vt(u.$$.fragment,t),vt(f.$$.fragment,t),p=!1},d(t){t&&P(e),Lt(c),Lt(u),Lt(f),m=!1,r(h)}}}function _n(t){t.detail.animate({transform:["translate(20px, -20px) scale(0.9)","translate(0px, 0px) scale(1)"],opacity:[0,1]},100)}function Cn(t,e,n){let s=!1;let o=store.get("profile"),r={avatarUrl:"",name:"未登录"},{avatarUrl:i=(o?o.avatarUrl:"")}=e;function l(){o&&n(2,r={avatarUrl:o.avatarUrl,name:o.nickname}),n(0,i=o?o.avatarUrl:"")}l(),__emitter.on("__updateLoginAvatar",(()=>{o=store.get("profile"),l()}));let c,a,u=!1,d=[];async function f(){await NeteaseApi.search(c)}return t.$$set=t=>{"avatarUrl"in t&&n(0,i=t.avatarUrl)},[i,s,r,c,u,d,a,()=>n(1,s=!0),()=>{n(1,s=!1);const t=store.get("profile");t&&n(2,r={avatarUrl:t.avatarUrl,name:t.nickname}),n(0,i=t?t.avatarUrl:"")},f,async function(){n(5,d=(await NeteaseApi.search()).body.result.hots.reduce(((t,e)=>[...t,e.first]),[])),n(4,u=!0)},async function(){if(!c)return n(6,a=null);const t=(await NeteaseApi.suggest(c)).body.result,{songs:e}=t;n(6,a=e.reduce(((t,e)=>[...t,e.name]),[]))},function(){c=this.value,n(3,c)},()=>setTimeout((()=>n(4,u=!1))),function(t){r=t,n(2,r)},t=>{n(3,c=t),f()},t=>{n(3,c=t),f()},()=>n(4,u=!1)]}class An extends Et{constructor(t){super(),Ut(this,t,Cn,kn,l,{avatarUrl:0})}}const Ln=Symbol();function Pn(t,e,n){function s(...o){e.apply(n.thisArg,o),n.off(t,s)}return s[Ln]=e,s}class Un{static captureRejections=!0;static defaultMaxListeners=-1;static thisArg=void 0;events={};maxListeners=Un.defaultMaxListeners;setMaxListeners(t){return this.maxListeners=t,this}getMaxListeners(){return this.maxListeners}addListener(t,e){if(!e||"function"!=typeof e)throw TypeError('arg1 is not type of  "function", received: '+typeof e);if(this.events[t]){const n=this.events[t],s=this.maxListeners;if(~s&&n.length===this.maxListeners)throw RangeError(`Out of range. max: ${s}`);n.push(e)}else this.events[t]=[e];return this}removeListener(t,e){if("function"!=typeof e)return this.removeAllListeners(t);let n=this.events[t];if(n){n=[...n];const s=n.length;let o=[];for(let t=0;t<s;t++)n[t]!==e&&n[t].toString()!==e.toString()&&o.push(n[t]);return this.events[t]=o,this}}removeAllListeners(t){return delete this.events[t],this.events[t]=null,this}emit(t,...e){let n=this.events[t],s=!1;if(n){n=[...n];const t=n.length;try{for(let s=0;s<t;s++)n[s].apply(this.thisArg,e);s=!0}catch(t){this.captureRejections&&this.emit("error",t)}return s}return!1}once(t,e){return this.addListener(t,Pn(t,e,this)),this}listeners(t){return[...this.events[t]]}rawListeners(t){let e=this.events[t];return e?e.reduce(((t,e)=>[...t,e[Ln]||e]),[]):[]}listenerCount(t){return this.events[t]?this.events[t].length:0}prependListener(t,e){if(!e||"function"!=typeof e)throw TypeError('arg1 is not type of  "function", received: '+typeof e);if(this.events[t]){const n=this.events[t],s=this.maxListeners;if(~s&&n.length===this.maxListeners)throw RangeError(`Out of range. max: ${s}`);n.unshift(e)}else this.events[t]=[e];return this}prependOnceListener(t,e){return this.prependListener(Pn(t,e,this)),this}thisArg=Un.thisArg;captureRejections=!0;constructor(t){this.on=this.addListener,this.off=this.removeListener,this.offAll=this.removeAllListeners,t&&(this.thisArg=t.thisArg||Un.thisArg,this.captureRejections=t.captureRejections||Un.captureRejections)}}class En{static audioElement=null;static setPlayer=function(t){En.audioElement=t,t.onended=()=>{En.em.emit("ended")}};static em=new Un;static on(t,e){this.em.on(t,e)}on(t,e){En.on(t,e)}static play(){return this.em.emit("play"),this.audioElement.play()}play(){return En.play()}static pause(){this.audioElement.pause(),this.em.emit("pause")}pause(){En.pause()}static seek(t){if("number"!=typeof t)return this.audioElement.currentTime;this.audioElement.currentTime=t,this.em.emit("seek")}seek(t){return En.seek(t)}static load(t){return t&&(this.audioElement.src=t),this.audioElement.src}load(t){return En.load(t)}async loadData(t){this.audioData=t,this.load(await t.url()),navigator.mediaSession.metadata=new MediaMetadata({title:t.title(),artist:t.artist().reduce(((t,e)=>[...t,e.name]),[]).join("; "),album:t.album().name,artwork:[{src:t.album().picUrl}]}),this.onDataLoaded()}onDataLoaded(){}static volume(t){if(!t)return this.audioElement.volume;this.audioElement.volume=t}volume(t){return En.volume(t)}static duration(){return this.audioElement.duration}duration(){return En.duration()}}const Sn=new En;class Dn{constructor(t){this.data=t}urls={};async getPlayUrlAsync(t="high"){let e;try{e="low"===t?this.data.l.br:"medium"===t?this.data.m.br:this.data.h.br}catch(n){switch(t){case"low":if(e=!!this.data.h&&this.data.h.br,e)break;case"high":if(e=!!this.data.m&&this.data.m.br,e)break;case"medium":if(e=!!this.data.l&&this.data.l.br,e)break}}return(this.urls[t]=await NeteaseApi.getSongUrl(this.data.id,store.get("cookie"),e)).body.data[0].url}async url(t="high"){return this.urls[t]?this.urls[t]:this.getPlayUrlAsync(t)}title(){return this.data.name}album(){return this.data.al}artist(){return this.data.ar}}class zn{static listData=[];static getAudioData(t){return new Dn(this.listData[t])}static current=0;static mode=0;static MODE=0;static MODE_SINGLE_LOOP=1;static MODE_RANDOM=2;static loadList(t){this.listData=t.concat([]),this.current=0}static next(){let t=this.current,e=this.listData.length;switch(this.mode){case 0:t=t===e-1?0:t+1;break;case 2:t=~~(Math.random()*e-1)}return this.current=t,this.getAudioData(t)}static prev(){let t=this.current,e=this.listData.length;switch(this.mode){case 0:t=t?t-1:e;break;case 2:t=~~(Math.random()*e-1)}return this.current=t,this.getAudioData(t)}static playNext(){const t=zn.next();t&&this.playByAudioData(t)}static playPrev(){const t=zn.prev();t&&this.playByAudioData(t)}static play(t){this.current=t;const e=this.getAudioData(t);this.playByAudioData(e)}static playByAudioData(t){Sn.loadData(t).then((async()=>{await Sn.play(),__emitter.emit("loadedContent")})),__emitter.emit("setControlsContent",t)}}window.MainPlaylist=zn,navigator.mediaSession.setActionHandler("play",Sn.play),navigator.mediaSession.setActionHandler("pause",Sn.pause),navigator.mediaSession.setActionHandler("nexttrack",(()=>zn.playNext())),navigator.mediaSession.setActionHandler("previoustrack",(()=>zn.playPrev()));const Nn=Symbol("[[Observers]]");class Tn{[Nn]=new Set;addObserver(t){("function"==typeof t||"object"==typeof t&&t&&"function"==typeof t.update)&&this[Nn].add(t)}removeObserver(t){if(!t)return this.removeAllObservers();this[Nn].delete(t)}removeAllObservers(){this[Nn]=new Set}notifyObservers(...t){for(const e of this[Nn])"function"==typeof e?e.call(this,...t):e.update(this,...t)}}const jn=new class extends Tn{_metadata={};constructor(t={}){super(),this.setMetadata(t)}setMetadata(t={}){this._metadata.title=t.title||this._metadata.title,this._metadata.album=t.album||this._metadata.album,this._metadata.artist=t.artist||this._metadata.artist,this._metadata.artwork=t.artwork||this._metadata.artwork}getMetadataConfig(){return this._metadata}title(t){if(void 0===t)return this._metadata.title;this._metadata.title=t}album(t){if(void 0===t)return this._metadata.album;this._metadata.album=t}artist(t){if(void 0===t)return this._metadata.artist;this._metadata.artist=t}artwork(t,e){return void 0===t?this._metadata.artwork||[]:(this._metadata.artwork||(this._metadata.artwork=[]),void 0===e?this._metadata.artwork[t]:void(this._metadata.artwork[t]=e))}setArtwork(t){this._metadata.artwork=t}apply(){navigator.mediaSession.metadata=new MediaMetadata(this._metadata)}};function Mn(e){let n,s,o,i;return{c(){n=E("input"),j(n,"type","range"),j(n,"style",s=e[1]+";--progress: "+e[0]+"%"),j(n,"step","0.001"),j(n,"class","svelte-1k44m6r")},m(t,s){L(t,n,s),O(n,e[0]),e[6](n),o||(i=[N(n,"change",e[5]),N(n,"input",e[5]),N(n,"mousedown",e[3]),N(n,"mousemove",e[4])],o=!0)},p(t,[e]){3&e&&s!==(s=t[1]+";--progress: "+t[0]+"%")&&j(n,"style",s),1&e&&O(n,t[0])},i:t,o:t,d(t){t&&P(n),e[6](null),o=!1,r(i)}}}function On(t,e,n){let s,{value:o}=e,{cssStyle:r=""}=e,i=Y(),l=!1;return document.addEventListener("mouseup",(()=>{l&&(l=!1,i("mouseup",s.value))})),t.$$set=t=>{"value"in t&&n(0,o=t.value),"cssStyle"in t&&n(1,r=t.cssStyle)},[o,r,s,function(t){l=!0;let e=t.offsetX/s.offsetWidth*100;n(2,s.value=e,s),i("mousedown",e)},function(){l&&i("mousemove",s.value)},function(){o=function(t){return""===t?null:+t}(this.value),n(0,o)},function(t){Z[t?"unshift":"push"]((()=>{s=t,n(2,s)}))}]}class Rn extends Et{constructor(t){super(),Ut(this,t,On,Mn,l,{value:0,cssStyle:1})}}function In(t){let e,n,s,o,i,l,c,a,u,d,f,p,m,h,$,g,v,y,w,x,b,k,C,A,U,z,T,O,I,B,W,H,q,F,V,X,J,Y,K,Q,G,tt,et,nt=(t[0].title||"暂未播放歌曲")+"",st=t[0].artist+"",ot=t[1]?"":"";function it(e){t[17](e)}let lt={isUrl:!!t[0].album,avatar:t[0].artwork?t[0].artwork[0].src:"R",width:56,height:56,radius:"10%"};function ct(e){t[21](e)}void 0!==t[2]&&(lt.ctx=t[2]),s=new Qt({props:lt}),Z.push((()=>_t(s,"ctx",it))),s.$on("loaded",t[10]);let at={cssStyle:"width: 200px"};function ut(e){t[23](e)}void 0!==t[4]&&(at.value=t[4]),q=new Rn({props:at}),Z.push((()=>_t(q,"value",ct))),q.$on("mousedown",t[14]),q.$on("mousemove",t[16]),q.$on("mouseup",t[15]);let dt={};return void 0!==t[7]&&(dt.value=t[7]),K=new Rn({props:dt}),Z.push((()=>_t(K,"value",ut))),K.$on("mousedown",qn),K.$on("mousemove",qn),K.$on("mouseup",t[13]),{c(){e=E("div"),n=E("div"),Ct(s.$$.fragment),i=D(),l=E("div"),c=E("div"),a=S(nt),u=D(),d=E("div"),f=S(st),p=D(),m=E("div"),h=E("div"),$=E("div"),g=S(""),y=D(),w=E("div"),w.textContent="",x=D(),b=E("div"),k=S(ot),C=D(),A=E("div"),A.textContent="",U=D(),z=E("div"),T=S(""),I=D(),B=E("div"),W=E("span"),W.textContent="0:00",H=D(),Ct(q.$$.fragment),V=D(),X=E("span"),X.textContent="0:00",J=D(),Y=E("div"),Ct(K.$$.fragment),j(c,"class","title svelte-1efe6yc"),j(d,"class","subtitle svelte-1efe6yc"),j(l,"class","row txt svelte-1efe6yc"),j(n,"class","column header edge svelte-1efe6yc"),j($,"class",v="btn big btn-nb"+(t[6]?" active":"")+" svelte-1efe6yc"),j(w,"class","btn big btn-nb svelte-1efe6yc"),j(b,"class","btn big svelte-1efe6yc"),j(A,"class","btn big btn-nb svelte-1efe6yc"),j(z,"class",O="btn big btn-nb"+(t[5]?" active":"")+" svelte-1efe6yc"),j(h,"class","column"),R(h,"margin","4px 0px"),j(W,"class","time svelte-1efe6yc"),j(X,"class","time svelte-1efe6yc"),j(B,"class","column"),R(B,"width","100%"),j(m,"class","row center svelte-1efe6yc"),j(Y,"class","column edge svelte-1efe6yc"),R(Y,"flex-direction","row-reverse"),j(e,"class","column c svelte-1efe6yc")},m(o,r){L(o,e,r),_(e,n),At(s,n,null),_(n,i),_(n,l),_(l,c),_(c,a),_(l,u),_(l,d),_(d,f),_(e,p),_(e,m),_(m,h),_(h,$),_($,g),_(h,y),_(h,w),_(h,x),_(h,b),_(b,k),_(h,C),_(h,A),_(h,U),_(h,z),_(z,T),_(m,I),_(m,B),_(B,W),t[20](W),_(B,H),At(q,B,null),_(B,V),_(B,X),t[22](X),_(e,J),_(e,Y),At(K,Y,null),t[24](e),G=!0,tt||(et=[N($,"click",t[18]),N(w,"click",Wn),N(b,"click",t[11]),N(A,"click",Hn),N(z,"click",t[19])],tt=!0)},p(t,[e]){const n={};1&e&&(n.isUrl=!!t[0].album),1&e&&(n.avatar=t[0].artwork?t[0].artwork[0].src:"R"),!o&&4&e&&(o=!0,n.ctx=t[2],rt((()=>o=!1))),s.$set(n),(!G||1&e)&&nt!==(nt=(t[0].title||"暂未播放歌曲")+"")&&M(a,nt),(!G||1&e)&&st!==(st=t[0].artist+"")&&M(f,st),(!G||64&e&&v!==(v="btn big btn-nb"+(t[6]?" active":"")+" svelte-1efe6yc"))&&j($,"class",v),(!G||2&e)&&ot!==(ot=t[1]?"":"")&&M(k,ot),(!G||32&e&&O!==(O="btn big btn-nb"+(t[5]?" active":"")+" svelte-1efe6yc"))&&j(z,"class",O);const r={};!F&&16&e&&(F=!0,r.value=t[4],rt((()=>F=!1))),q.$set(r);const i={};!Q&&128&e&&(Q=!0,i.value=t[7],rt((()=>Q=!1))),K.$set(i)},i(t){G||(gt(s.$$.fragment,t),gt(q.$$.fragment,t),gt(K.$$.fragment,t),G=!0)},o(t){vt(s.$$.fragment,t),vt(q.$$.fragment,t),vt(K.$$.fragment,t),G=!1},d(n){n&&P(e),Lt(s),t[20](null),Lt(q),t[22](null),Lt(K),t[24](null),tt=!1,r(et)}}}function Bn(t){let e=~~(t%60);return e<10&&(e="0"+e),`${~~(t/60)}:${e}`}function Wn(){MainPlaylist.playPrev()}function Hn(){MainPlaylist.playNext()}function qn(t){Player.volume(t.detail/100)}function Fn(t,e,n){let s,o,r,i={},l=!1,c=1;async function a(t){jn.title(t.title()),jn.album(t.album().name),jn.artist(t.artist().reduce(((t,e)=>[...t,e.name]),[]).join(" · ")),jn.artwork(0,{src:t.album().picUrl}),jn.notifyObservers(jn.getMetadataConfig()),store.set("loadedContent",t.data)}jn.addObserver((function(t){this.apply(),n(0,i=t)})),window.__getColorInfo=function(t,e,n,s){let o=4*(e*(s-1)+n);return(t=t.data).slice(o,o+4)},window.__setColor=function(t,e,n=.7){if(!e)return;let s=CanvasCtx;const o=e.width,r=e.height;Canvas.width=o,Canvas.height=r,s.drawImage(e,0,0);const i=s.getImageData(0,0,o,r),l=o/2,c=r/2,a=o/4,u=l+a,d=r/4,f=c+d;let p=__getColorInfo(i,o,a,d),m=__getColorInfo(i,o,u,d),h=__getColorInfo(i,o,l,c),$=__getColorInfo(i,o,a,f),g=__getColorInfo(i,o,u,f),v=[];for(let t=0;t<4;t++){let e=(p[t]+m[t]+h[t]+$[t]+g[t])/5,n=7e-4*e+.5;v[t]=~~(n*e)}const y=`rgba(${v[0]},${v[1]},${v[2]}, ${n})`;return t.style.setProperty("--color",y),y};let u=0;__emitter.on("setControlsContent",a),__emitter.on("loadedContent",(()=>{c=Player.duration(),n(9,$.innerText=Bn(c),$),s&&(n(4,u=0),clearInterval(s)),s=setInterval((()=>{if(g)return;let t=Player.seek();n(4,u=t/c*100),n(8,h.innerText=Bn(t),h)}),500)})),__emitter.on("playerReady",(async t=>{t.on("play",(()=>{n(1,l=!0)})),t.on("pause",(()=>n(1,l=!1))),t.on("ended",(()=>MainPlaylist.playNext()));let e=store.get("loadedContent");e&&(e=new Dn(e),a(e),Player.loadData(e))}));let d,f=!1,p=!1;function m(){return f?MainPlaylist.mode=1:p?MainPlaylist.mode=2:void(MainPlaylist.mode=0)}(d=store.get("volume")||50)&&__emitter.once("playerReady",(()=>{Player.volume(d/100)}));var h,$,g=!1;new Array(5);return[i,l,o,r,u,f,p,d,h,$,function(){__setColor(r,o)},function(){if(Player.load())return l?Player.pause():Player.play()},m,function(){store.set("volume",d)},function(){g=!0},function(t){g=!1;try{Player.seek(t.detail/100*c)}catch(t){}},function(t){g&&n(8,h.innerText=Bn(t.detail/100*c),h)},function(t){o=t,n(2,o)},()=>{n(6,p=!p),m()},()=>{n(5,f=!f),m()},function(t){Z[t?"unshift":"push"]((()=>{n(8,h=t)}))},function(t){u=t,n(4,u)},function(t){Z[t?"unshift":"push"]((()=>{n(9,$=t)}))},function(t){d=t,n(7,d)},function(t){Z[t?"unshift":"push"]((()=>{r=t,n(3,r)}))}]}class Vn extends Et{constructor(t){super(),Ut(this,t,Fn,In,l,{})}}function Xn(e){let n;return{c(){n=E("div")},m(t,e){L(t,n,e)},p:t,i:t,o:t,d(t){t&&P(n)}}}class Jn extends Et{constructor(t){super(),Ut(this,t,null,Xn,l,{})}}function Yn(t,e,n){return new Promise(((s,o)=>{let r=t.animate(e,n);r.onfinish=()=>s(r),r.onremove=()=>o(r)}))}function Kn(t){let e,s,o,r;const i=[t[1]];var l=t[0];function c(t){let e={};for(let t=0;t<i.length;t+=1)e=n(e,i[t]);return{props:e}}return l&&(o=new l(c())),{c(){e=E("div"),s=E("div"),o&&Ct(o.$$.fragment),j(s,"class","innerWindow row svelte-1l495kl"),j(e,"class","container row svelte-1l495kl")},m(n,i){L(n,e,i),_(e,s),o&&At(o,s,null),t[4](s),r=!0},p(t,[e]){const n=2&e?bt(i,[kt(t[1])]):{};if(l!==(l=t[0])){if(o){ht();const t=o;vt(t.$$.fragment,1,0,(()=>{Lt(t,1)})),$t()}l?(o=new l(c()),Ct(o.$$.fragment),gt(o.$$.fragment,1),At(o,s,null)):o=null}else l&&o.$set(n)},i(t){r||(o&&gt(o.$$.fragment,t),r=!0)},o(t){o&&vt(o.$$.fragment,t),r=!1},d(n){n&&P(e),o&&Lt(o),t[4](null)}}}function Qn(t,e,n){let s,o=Jn,r={};return[o,r,s,async function(t,e){await Yn(s,[{opacity:1,transform:"scale(1)"},{opacity:0,transform:"scale(1.1)"}],{duration:90,ease:"ease-in",fill:"forwards"}),function(t,e){if(o===t)return n(0,o=Jn),n(1,r=e),void setTimeout((()=>{n(0,o=t)}));n(1,r=e),n(0,o=t)}(t,e),await Yn(s,[{opacity:0,transform:"scale(0.9)"},{opacity:1,transform:"scale(1)"}],{duration:70,ease:"ease-out",fill:"forwards"}),__emitter.emit("pageSwipeAnimFinish")},function(t){Z[t?"unshift":"push"]((()=>{s=t,n(2,s)}))}]}class Gn extends Et{constructor(t){super(),Ut(this,t,Qn,Kn,l,{display:3})}get display(){return this.$$.ctx[3]}}function Zn(t,e,n){const s=t.slice();return s[8]=e[n],s[10]=n,s}function ts(t){let e,n,s=t[1][t[10]]+"";return{c(){e=E("div"),n=S(s),j(e,"class","t txt svelte-fo2dcj"),R(e,"width",t[8]+"%")},m(t,s){L(t,e,s),_(e,n)},p(t,e){2&e&&s!==(s=t[1][t[10]]+"")&&M(n,s)},d(t){t&&P(e)}}}function es(e){let n,s,o,i,l,c=e[6],a=[];for(let t=0;t<c.length;t+=1)a[t]=ts(Zn(e,c,t));return{c(){n=E("div");for(let t=0;t<a.length;t+=1)a[t].c();j(n,"class",s="column tile"+(e[2]?" selected":"")+(e[3]?" focus":"")+" svelte-fo2dcj"),R(n,"padding-left",e[0][0]+"%")},m(t,s){L(t,n,s);for(let t=0;t<a.length;t+=1)a[t].m(n,null);i||(l=[N(n,"click",e[4]),N(n,"dblclick",e[5])],i=!0)},p(t,[e]){if(66&e){let s;for(c=t[6],s=0;s<c.length;s+=1){const o=Zn(t,c,s);a[s]?a[s].p(o,e):(a[s]=ts(o),a[s].c(),a[s].m(n,null))}for(;s<a.length;s+=1)a[s].d(1);a.length=c.length}12&e&&s!==(s="column tile"+(t[2]?" selected":"")+(t[3]?" focus":"")+" svelte-fo2dcj")&&j(n,"class",s),1&e&&R(n,"padding-left",t[0][0]+"%")},i(t){o||ot((()=>{o=wt(n,Bt,{duration:120}),o.start()}))},o:t,d(t){t&&P(n),U(a,t),i=!1,r(l)}}}function ns(t,e,n){let s=Y();let{location:o=[]}=e,{data:r=[]}=e,{selected:i=!1}=e,{focus:l=!1}=e,c=function(t){let e=new Array(t.length).fill(0);return(t=[...t]).push(100),e.forEach(((e,n,s)=>{s[n]=t[n+1]-t[n]})),e}(o);return t.$$set=t=>{"location"in t&&n(0,o=t.location),"data"in t&&n(1,r=t.data),"selected"in t&&n(2,i=t.selected),"focus"in t&&n(3,l=t.focus)},[o,r,i,l,function(t){s("click",t)},function(t){s("dbclick",t)},c]}class ss extends Et{constructor(t){super(),Ut(this,t,ns,es,l,{location:0,data:1,selected:2,focus:3})}}function os(t,e,n){const s=t.slice();return s[10]=e[n],s[12]=n,s}function rs(t){let e,n,s;function o(e){t[6](e)}let r={data:[t[12]+1,t[10].name,t[10].ar.reduce(ls,[]).join(" / "),t[10].al.name],selected:t[2].has(t[12]),focus:~t[3]&&t[3]};return void 0!==t[0]&&(r.location=t[0]),e=new ss({props:r}),Z.push((()=>_t(e,"location",o))),e.$on("click",(function(){return t[7](t[12])})),e.$on("dbclick",(function(){return t[8](t[12])})),{c(){Ct(e.$$.fragment)},m(t,n){At(e,t,n),s=!0},p(s,o){t=s;const r={};2&o&&(r.data=[t[12]+1,t[10].name,t[10].ar.reduce(ls,[]).join(" / "),t[10].al.name]),4&o&&(r.selected=t[2].has(t[12])),8&o&&(r.focus=~t[3]&&t[3]),!n&&1&o&&(n=!0,r.location=t[0],rt((()=>n=!1))),e.$set(r)},i(t){s||(gt(e.$$.fragment,t),s=!0)},o(t){vt(e.$$.fragment,t),s=!1},d(t){Lt(e,t)}}}function is(t){let e,n,s=t[1],o=[];for(let e=0;e<s.length;e+=1)o[e]=rs(os(t,s,e));const r=t=>vt(o[t],1,1,(()=>{o[t]=null}));return{c(){for(let t=0;t<o.length;t+=1)o[t].c();e=z()},m(t,s){for(let e=0;e<o.length;e+=1)o[e].m(t,s);L(t,e,s),n=!0},p(t,[n]){if(63&n){let i;for(s=t[1],i=0;i<s.length;i+=1){const r=os(t,s,i);o[i]?(o[i].p(r,n),gt(o[i],1)):(o[i]=rs(r),o[i].c(),gt(o[i],1),o[i].m(e.parentNode,e))}for(ht(),i=s.length;i<o.length;i+=1)r(i);$t()}},i(t){if(!n){for(let t=0;t<s.length;t+=1)gt(o[t]);n=!0}},o(t){o=o.filter(Boolean);for(let t=0;t<o.length;t+=1)vt(o[t]);n=!1},d(t){U(o,t),t&&P(e)}}}const ls=(t,e)=>[...t,e.name];function cs(t,e,n){let s=Y(),{listData:o=[]}=e,{location:r=[]}=e,{selections:i=new Set}=e,{focus:l=-1}=e;function c(t){s("click",{listData:o,i:t})}function a(t){s("dbclick",{listData:o,i:t})}J((()=>{s("mount")}));return t.$$set=t=>{"listData"in t&&n(1,o=t.listData),"location"in t&&n(0,r=t.location),"selections"in t&&n(2,i=t.selections),"focus"in t&&n(3,l=t.focus)},[r,o,i,l,c,a,function(t){r=t,n(0,r)},t=>c(t),t=>a(t)]}class as extends Et{constructor(t){super(),Ut(this,t,cs,is,l,{listData:1,location:0,selections:2,focus:3})}}function us(t,e,n){const s=t.slice();return s[34]=e[n],s[36]=n,s}function ds(t){let e,n,s,o,r,i,l,c,a,u,d,f,p,m,h,$,g,v,y,w=t[3].title+"",x=t[3].subtitle+"",b=t[3].trackCount+"",k=t[3].playCount+"";return n=new Qt({props:{width:140,height:140,radius:"8%",avatar:t[3].imgUrl}}),{c(){e=E("div"),Ct(n.$$.fragment),s=D(),o=E("div"),r=E("div"),i=S(w),l=D(),c=E("div"),a=S(x),u=D(),d=E("div"),f=E("div"),f.textContent=" 播放全部",p=D(),m=E("div"),h=S("歌曲 "),$=S(b),g=S("   播放 "),v=S(k),j(r,"class","title svelte-154n42v"),j(c,"class","subtitle svelte-154n42v"),j(f,"class","btn big outlined svelte-154n42v"),j(d,"class","column ctrls svelte-154n42v"),j(m,"class","subtitle svelte-154n42v"),j(o,"class","row rowl svelte-154n42v"),j(e,"class","header column svelte-154n42v")},m(t,w){L(t,e,w),At(n,e,null),_(e,s),_(e,o),_(o,r),_(r,i),_(o,l),_(o,c),_(c,a),_(o,u),_(o,d),_(d,f),_(o,p),_(o,m),_(m,h),_(m,$),_(m,g),_(m,v),y=!0},p(t,e){const s={};8&e[0]&&(s.avatar=t[3].imgUrl),n.$set(s),(!y||8&e[0])&&w!==(w=t[3].title+"")&&M(i,w),(!y||8&e[0])&&x!==(x=t[3].subtitle+"")&&M(a,x),(!y||8&e[0])&&b!==(b=t[3].trackCount+"")&&M($,b),(!y||8&e[0])&&k!==(k=t[3].playCount+"")&&M(v,k)},i(t){y||(gt(n.$$.fragment,t),y=!0)},o(t){vt(n.$$.fragment,t),y=!1},d(t){t&&P(e),Lt(n)}}}function fs(t){let e,n,s,o,r,i=t[34]+"";function l(){return t[15](t[36])}return{c(){e=E("div"),n=S(i),j(e,"class",s="splitterTab"+(t[1]===t[36]?t[2]?" backwards":" forwards":"")+" svelte-154n42v"),R(e,"width",t[6][t[36]]+"%")},m(t,s){L(t,e,s),_(e,n),o||(r=N(e,"click",l),o=!0)},p(o,r){t=o,1&r[0]&&i!==(i=t[34]+"")&&M(n,i),6&r[0]&&s!==(s="splitterTab"+(t[1]===t[36]?t[2]?" backwards":" forwards":"")+" svelte-154n42v")&&j(e,"class",s),64&r[0]&&R(e,"width",t[6][t[36]]+"%")},d(t){t&&P(e),o=!1,r()}}}function ps(t){let e,n,s,o,r,i,l,c,a,u,d,f,p,m,h,$,g,v=t[3]&&ds(t);o=new Le({props:{type:"text",placeholder:"  搜索列表",fullBorder:!0}});let y=t[0].names,w=[];for(let e=0;e<y.length;e+=1)w[e]=fs(us(t,y,e));function x(e){t[17](e)}function b(e){t[18](e)}function k(e){t[19](e)}let C={};return void 0!==t[4]&&(C.listData=t[4]),void 0!==t[7]&&(C.location=t[7]),void 0!==t[8]&&(C.selections=t[8]),d=new as({props:C}),Z.push((()=>_t(d,"listData",x))),Z.push((()=>_t(d,"location",b))),Z.push((()=>_t(d,"selections",k))),d.$on("mount",t[13]),d.$on("click",t[12]),d.$on("dbclick",$s),{c(){e=E("div"),v&&v.c(),n=D(),s=E("div"),Ct(o.$$.fragment),r=D(),i=E("div"),l=D(),c=E("div");for(let t=0;t<w.length;t+=1)w[t].c();a=D(),u=E("div"),Ct(d.$$.fragment),j(i,"class","column"),j(s,"class","nav column svelte-154n42v"),j(c,"class","column splitter svelte-154n42v"),R(c,"padding-left",t[7][0]+"%"),j(u,"class","row list svelte-154n42v"),j(e,"class","row c svelte-154n42v")},m(f,p){L(f,e,p),v&&v.m(e,null),_(e,n),_(e,s),At(o,s,null),_(s,r),_(s,i),_(e,l),_(e,c);for(let t=0;t<w.length;t+=1)w[t].m(c,null);t[16](c),_(e,a),_(e,u),At(d,u,null),h=!0,$||(g=N(c,"mousedown",t[11]),$=!0)},p(t,s){if(t[3]?v?(v.p(t,s),8&s[0]&&gt(v,1)):(v=ds(t),v.c(),gt(v,1),v.m(e,n)):v&&(ht(),vt(v,1,1,(()=>{v=null})),$t()),1095&s[0]){let e;for(y=t[0].names,e=0;e<y.length;e+=1){const n=us(t,y,e);w[e]?w[e].p(n,s):(w[e]=fs(n),w[e].c(),w[e].m(c,null))}for(;e<w.length;e+=1)w[e].d(1);w.length=y.length}(!h||128&s[0])&&R(c,"padding-left",t[7][0]+"%");const o={};!f&&16&s[0]&&(f=!0,o.listData=t[4],rt((()=>f=!1))),!p&&128&s[0]&&(p=!0,o.location=t[7],rt((()=>p=!1))),!m&&256&s[0]&&(m=!0,o.selections=t[8],rt((()=>m=!1))),d.$set(o)},i(t){h||(gt(v),gt(o.$$.fragment,t),gt(d.$$.fragment,t),h=!0)},o(t){vt(v),vt(o.$$.fragment,t),vt(d.$$.fragment,t),h=!1},d(n){n&&P(e),v&&v.d(),Lt(o),U(w,n),t[16](null),Lt(d),$=!1,g()}}}function ms(t){let e,n;return e=new Me({props:{$$slots:{default:[ps]},$$scope:{ctx:t}}}),t[20](e),{c(){Ct(e.$$.fragment)},m(t,s){At(e,t,s),n=!0},p(t,n){const s={};511&n[0]|64&n[1]&&(s.$$scope={dirty:n,ctx:t}),e.$set(s)},i(t){n||(gt(e.$$.fragment,t),n=!0)},o(t){vt(e.$$.fragment,t),n=!1},d(n){t[20](null),Lt(e,n)}}}function hs(t){let e=[...t],n=new Array(t.length).fill(0);return e.push(100),n.forEach(((t,n,s)=>{s[n]=e[n+1]-e[n]})),n}async function $s(t){const{listData:e,i:n}=t.detail;MainPlaylist.loadList(e),MainPlaylist.play(n)}function gs(t,e,n){let{header:s=null}=e;const o=()=>1;let{listSplitter:r=store.get("splitter")||{location:[2,8,30,70],names:["功能","歌曲名","艺术家","专辑"]}}=e;r.sortFunc=[o,(t,e)=>e.name>t.name||-1,(t,e)=>e.ar[0].name>t.ar[0].name||-1,(t,e)=>e.al.name>t.al.name||-1];let i,l,{listData:c=[]}=e,{sortBy:a=0}=e,{forwards:u=!0}=e,d=[];__emitter.once("pageSwipeAnimFinish",(()=>{c.then((t=>{l=[...t],t.sort(r.sortFunc[a]),!u&&t.reverse(),n(4,d=t)}))}));let f=!1;function p(t){if(!f)return!1;let e;"number"!=typeof t&&(t=r.names.indexOf(t)),t===a&&n(2,u=!u),e=r.sortFunc[t]||o,n(1,a=t),store.set("sortBy",a),store.set("forwards",u);let s=[...l];s.sort(e),u||(s=s.reverse()),setTimeout((()=>{n(4,d=s)})),C()}p(a);let m,h,$=hs(r.location),g=r.location,v=!1,y=0,w=0,x=0;document.addEventListener("mousemove",(function(t){v&&(f=!1,x=t.screenX-w,h.style.transform=`translateX(${x}px)`)})),document.addEventListener("mouseup",(function(){if(v){v=!1,h.style.transform="";let t=x/y*100;n(7,g[m]+=t,g),n(6,$=hs(g));const e=d;n(4,d=[]),setTimeout((()=>{n(4,d=e)})),w=x=m=0,h=null,store.set("splitter",{location:g,names:r.names})}}));let b=!1;document.addEventListener("keydown",(t=>{t.ctrlKey&&(b=!0)})),document.addEventListener("keyup",(t=>{t.ctrlKey&&(b=!1)}));let k,_=new Set;function C(){setTimeout((()=>{k.measure()}),200)}return t.$$set=t=>{"header"in t&&n(3,s=t.header),"listSplitter"in t&&n(0,r=t.listSplitter),"listData"in t&&n(14,c=t.listData),"sortBy"in t&&n(1,a=t.sortBy),"forwards"in t&&n(2,u=t.forwards)},[r,a,u,s,d,i,$,g,_,k,p,function(t){f=!0,h=t.target,h!==i&&(m=[...h.parentNode.children].indexOf(h),y=t.path[1].offsetWidth,v=!0,t.target.offsetLeft,w=t.screenX)},function(t){const e=t.detail.i;b?(_.add(e),n(8,_)):n(8,_=(new Set).add(e))},C,c,t=>p(t),function(t){Z[t?"unshift":"push"]((()=>{i=t,n(5,i)}))},function(t){d=t,n(4,d)},function(t){g=t,n(7,g)},function(t){_=t,n(8,_)},function(t){Z[t?"unshift":"push"]((()=>{k=t,n(9,k)}))}]}class vs extends Et{constructor(t){super(),Ut(this,t,gs,ms,l,{header:3,listSplitter:0,listData:14,sortBy:1,forwards:2},null,[-1,-1])}}function ys(t,e,n){const s=t.slice();return s[18]=e[n],s[20]=n,s}function ws(t){let e,n,s,o,r,i,l,c,a,u=t[18].name+"";function d(){return t[10](t[18],t[20])}return{c(){e=E("div"),n=E("div"),s=D(),o=E("div"),r=E("div"),i=S(u),l=D(),j(n,"class","avatar svelte-x7zux0"),R(n,"background-image","url("+t[18].coverImgUrl+")"),j(o,"class","row title svelte-x7zux0"),j(e,"class","card row svelte-x7zux0")},m(t,u){L(t,e,u),_(e,n),_(e,s),_(e,o),_(o,r),_(r,i),_(e,l),c||(a=N(e,"click",d),c=!0)},p(e,s){t=e,1&s&&R(n,"background-image","url("+t[18].coverImgUrl+")"),1&s&&u!==(u=t[18].name+"")&&M(i,u)},d(t){t&&P(e),c=!1,a()}}}function xs(t){let e,n=t[0],s=[];for(let e=0;e<n.length;e+=1)s[e]=ws(ys(t,n,e));return{c(){e=E("div");for(let t=0;t<s.length;t+=1)s[t].c();j(e,"class","column card-container svelte-x7zux0")},m(t,n){L(t,e,n);for(let t=0;t<s.length;t+=1)s[t].m(e,null)},p(t,o){if(129&o){let r;for(n=t[0],r=0;r<n.length;r+=1){const i=ys(t,n,r);s[r]?s[r].p(i,o):(s[r]=ws(i),s[r].c(),s[r].m(e,null))}for(;r<s.length;r+=1)s[r].d(1);s.length=n.length}},d(t){t&&P(e),U(s,t)}}}function bs(t){let e,n,s,o,r,i,l,c,u,d,f,p,m,h;return d=new ze({props:{cssStyle:"width: 100%",$$slots:{default:[xs]},$$scope:{ctx:t}}}),t[11](d),{c(){e=E("div"),n=E("div"),s=E("img"),r=D(),i=E("div"),l=S("▼"),u=D(),Ct(d.$$.fragment),j(s,"class","collection-bgc svelte-x7zux0"),a(s.src,o=t[3])||j(s,"src",o),j(s,"alt",""),j(i,"class",c="toggle"+(t[6]?"":" unfold")+" svelte-x7zux0"),j(n,"class",f="collection"+(t[6]?"":" unfold")+" svelte-x7zux0"),j(n,"title","我的收藏"),j(e,"class","row")},m(o,c){L(o,e,c),_(e,n),_(n,s),t[9](s),_(n,r),_(n,i),_(i,l),_(n,u),At(d,n,null),t[12](n),p=!0,m||(h=N(i,"click",t[8]),m=!0)},p(t,e){(!p||8&e&&!a(s.src,o=t[3]))&&j(s,"src",o),(!p||64&e&&c!==(c="toggle"+(t[6]?"":" unfold")+" svelte-x7zux0"))&&j(i,"class",c);const r={};2097153&e&&(r.$$scope={dirty:e,ctx:t}),d.$set(r),(!p||64&e&&f!==(f="collection"+(t[6]?"":" unfold")+" svelte-x7zux0"))&&j(n,"class",f)},i(t){p||(gt(d.$$.fragment,t),p=!0)},o(t){vt(d.$$.fragment,t),p=!1},d(n){n&&P(e),t[9](null),t[11](null),Lt(d),t[12](null),m=!1,h()}}}function ks(t){let e,n;return e=new Me({props:{$$slots:{default:[bs]},$$scope:{ctx:t}}}),t[13](e),{c(){Ct(e.$$.fragment)},m(t,s){At(e,t,s),n=!0},p(t,[n]){const s={};2097263&n&&(s.$$scope={dirty:n,ctx:t}),e.$set(s)},i(t){n||(gt(e.$$.fragment,t),n=!0)},o(t){vt(e.$$.fragment,t),n=!1},d(n){t[13](null),Lt(e,n)}}}async function _s(t){let e=store.get(t);if(e)return e;let n=store.get("cookie");let s=(await NeteaseApi.getPlaylistDetail(t,n)).body.playlist.trackIds.reduce(((t,e)=>[...t,e.id]),[]);return e=(await NeteaseApi.getSongDetail(s,n)).body.songs,store.setCache(t,e),e}function Cs(t,e,n){let s,o,r,i,{playlists:l=[]}=e;function c(t,e){Pager.openNew(l[t].name,vs,e)}J((async function(){let t=store.get("onDayDesktop");if(n(2,o.onload=()=>{let t=37;__setColor(s,o,1);let e=setInterval((()=>{t<22?clearInterval(e):s.style.setProperty("--start",10*--t+"px")}),16.6);i.recalc()},o),t&&(new Date).getTime()-t.timeStamp<576e5)return n(3,r=t.url);t=await(await fetch("https://cn.bing.com/HPImageArchive.aspx?format=js&idx=0&n=1")).json();const e="https://www.bing.com"+t.images[0].url;n(3,r=e),store.set("onDayDesktop",{timeStamp:(new Date).getTime(),url:e})})),async function(){if(window.__playlists)return n(0,l=window.__playlists);const t=store.get("cookie"),e=store.get("profile").userId,s=await NeteaseApi.getUserPlaylist(e,t);200==s.status&&(window.__playlists=n(0,l=s.body.playlist))}();let a,u=!0;return t.$$set=t=>{"playlists"in t&&n(0,l=t.playlists)},[l,s,o,r,i,a,u,c,function(){n(6,u=!u),a.measure((({height:t})=>{s.style.setProperty("--height",t+160+"px"),setTimeout((()=>{i.recalc()}),300)}))},function(t){Z[t?"unshift":"push"]((()=>{o=t,n(2,o)}))},(t,e)=>{let n=t.id;c(e,(()=>({header:{imgUrl:t.coverImgUrl,title:t.name,subtitle:`由${t.creator.nickname}创建`,playCount:t.playCount,trackCount:t.trackCount},listData:_s(n),sortBy:window.store.get("sortBy"),forwards:window.store.get("forwards"),onTabDestroy(){!function(t){store.rm(t)}(n)}})))},function(t){Z[t?"unshift":"push"]((()=>{a=t,n(5,a)}))},function(t){Z[t?"unshift":"push"]((()=>{s=t,n(1,s)}))},function(t){Z[t?"unshift":"push"]((()=>{i=t,n(4,i)}))}]}class As extends Et{constructor(t){super(),Ut(this,t,Cs,ks,l,{playlists:0})}}const Ls={open(t,e,n){Electron.ipcRenderer.send("fp:select",{title:t,defaultPath:e,properties:n})}};function Ps(e){let n;return{c(){n=E("div"),n.innerHTML="<h1>发现</h1>",j(n,"class","row")},m(t,e){L(t,n,e)},p:t,i:t,o:t,d(t){t&&P(n)}}}function Us(t){return Ls.open("选择",void 0,["multiSelections"]),[]}class Es extends Et{constructor(t){super(),Ut(this,t,Us,Ps,l,{})}}function Ss(e){let n,s,o,i,l,c,a,u,d,f,p,m,h=e[0]?"◱":"▢";return{c(){n=E("div"),s=E("div"),o=D(),i=E("div"),l=E("div"),l.textContent="–",c=D(),a=E("div"),u=S(h),d=D(),f=E("div"),f.textContent="╳",j(l,"class","column clk svelte-1d4uc07"),j(a,"class","column clk svelte-1d4uc07"),j(f,"class","column clk red svelte-1d4uc07"),j(i,"class","column"),j(n,"class","column container svelte-1d4uc07")},m(t,r){L(t,n,r),_(n,s),_(n,o),_(n,i),_(i,l),_(i,c),_(i,a),_(a,u),_(i,d),_(i,f),p||(m=[N(l,"click",Ds),N(a,"click",e[1]),N(f,"click",zs)],p=!0)},p(t,[e]){1&e&&h!==(h=t[0]?"◱":"▢")&&M(u,h)},i:t,o:t,d(t){t&&P(n),p=!1,r(m)}}}function Ds(){console.log(Electron),Electron.ipcRenderer.send("win:min")}function zs(){Electron.ipcRenderer.send("win:close")}function Ns(t,e,n){let s=!1;return[s,function(){if(s)return Electron.ipcRenderer.send("win:unmax"),void n(0,s=!1);Electron.ipcRenderer.send("win:max"),n(0,s=!0)}]}class Ts extends Et{constructor(t){super(),Ut(this,t,Ns,Ss,l,{})}}function js(t){let e,n,s,o,r,i,l,c,u,d,f,p,m,h,$,g,v;function y(e){t[8](e)}function w(e){t[9](e)}r=new Ts({}),l=new An({});let x={};void 0!==t[0]&&(x.selected=t[0]),void 0!==t[1]&&(x.tabs=t[1]),u=new It({props:x}),Z.push((()=>_t(u,"selected",y))),Z.push((()=>_t(u,"tabs",w))),h=new Vn({});return g=new Gn({props:{}}),t[10](g),{c(){e=E("div"),n=E("img"),o=D(),Ct(r.$$.fragment),i=D(),Ct(l.$$.fragment),c=D(),Ct(u.$$.fragment),p=D(),m=E("div"),Ct(h.$$.fragment),$=D(),Ct(g.$$.fragment),j(n,"class","wallpaper svelte-8om2ah"),a(n.src,s=t[6])||j(n,"src",s),j(n,"alt",""),j(n,"width",t[4]),j(m,"class","row window svelte-8om2ah"),R(e,"transition","background-color 0.2s"),R(e,"background-color","var("+(t[3]?"--acrylicBackgroundColor":"--noneAcrylicBackgroundColor")+")")},m(s,a){L(s,e,a),_(e,n),t[7](n),_(e,o),At(r,e,null),_(e,i),At(l,e,null),_(e,c),At(u,e,null),_(e,p),_(e,m),At(h,m,null),_(m,$),At(g,m,null),v=!0},p(t,[s]){(!v||16&s)&&j(n,"width",t[4]);const o={};!d&&1&s&&(d=!0,o.selected=t[0],rt((()=>d=!1))),!f&&2&s&&(f=!0,o.tabs=t[1],rt((()=>f=!1))),u.$set(o);g.$set({}),(!v||8&s)&&R(e,"background-color","var("+(t[3]?"--acrylicBackgroundColor":"--noneAcrylicBackgroundColor")+")")},i(t){v||(gt(r.$$.fragment,t),gt(l.$$.fragment,t),gt(u.$$.fragment,t),gt(h.$$.fragment,t),gt(g.$$.fragment,t),v=!0)},o(t){vt(r.$$.fragment,t),vt(l.$$.fragment,t),vt(u.$$.fragment,t),vt(h.$$.fragment,t),vt(g.$$.fragment,t),v=!1},d(n){n&&P(e),t[7](null),Lt(r),Lt(l),Lt(u),Lt(h),t[10](null),Lt(g)}}}function Ms(){let t=wallpaper.getWallpaper(),e="",n=t.length;for(let s=0;s<n;s++)e+=String.fromCharCode(t[s]);return e=btoa(e),`data:image/jpeg;base64,${e}`}function Os(){return new Promise((t=>{Electron.ipcRenderer.once("win:bounds",((e,n)=>{t(n)})),Electron.ipcRenderer.send("winquery:bounds")}))}function Rs(t,e,n){window.__emitter=new Un({captureRejections:!0});let s=As;store.get("profile")?NeteaseApi.checkIn(store.get("cookie")):s=be;let o,r=-1,i=[s,Es],l=["我的","发现"];window.Pager=(()=>{let t=[{},{}],e=[0];function s(e,s,o={},r=!1){if(d(e)){if(r){const n=l.indexOf(e);return i[n]=s,t[n]=o,!1}return!0}return i.push(s),l.push(e),n(1,l),t.push(o),!0}function c(s,c=!1){(s<0||s>=l.length)&&(s=0);let a=t[s];"function"==typeof a&&(a=a()),(r!==s||c)&&(e[s]=l[r],o.display(i[s],a),n(0,r=s))}function a(t,e=!1){"number"!=typeof t&&(t=l.indexOf(t)),c(t,e)}function u(s){(s<0||s>=l.length)&&(s=0),i=i.slice(0,s).concat(i.slice(s+1)),n(1,l=l.slice(0,s).concat(l.slice(s+1)));let o="function"==typeof t[s]?t[s]().onTabDestroy:t[s].onTabDestroy;t=t.slice(0,s).concat(t.slice(s+1)),"function"==typeof o&&o(s),function(){let t=l.indexOf(e[r]);!~t&&(t=0),c(t,!0)}()}function d(t){return"string"==typeof t?~l.indexOf(t):~i.indexOf(t)}return{add:s,select:a,remove:function(t){"number"!=typeof t&&(t=l.indexOf(t)),u(t)},has:d,openNew:function(t,e,n,o=!1){if(s(t,e,n,o))return a(t);a(t,!0)}}})(),window.getWallpaperDataSrc=Ms;let c=Ms(),a=store.get("sys-settings"),u=!1;__emitter.on("__openMinePage",(()=>{window.Pager.openNew("我的",As,{},!0)})),Electron.ipcRenderer.on("win:screenMove",((t,e)=>{p(e.x,e.y)})),Electron.ipcRenderer.send("winbind:move");let d,f=1080;function p(t,e){u&&(d.style.setProperty("--top",-e+"px"),d.style.setProperty("--left",-t+"px"))}(async()=>{let t=await Os(),e=await new Promise((t=>{Electron.ipcRenderer.once("win:screenSize",((e,n)=>{t(n)})),Electron.ipcRenderer.send("winquery:screenSize")}));window.Pager.select(0),n(4,f=e.width),p(t.x,t.y)})(),__emitter.on("playerReady",(()=>{__setColor(document.body,d,1)})),__emitter.on("changeControlColor",(t=>{document.body.style.setProperty("--controlColor",t)})),__emitter.on("useAcrylic",(async t=>{if(a.theme.useAcrylic=n(3,u=t),t){let t=await Os();p(t.x,t.y)}store.set("sys-settings",a)})),a||(a={theme:{controlColor:[0,"dodgerblue","teal","darkred","gold"],useAcrylic:!0}},store.set("sys-settings",a));let m=a.theme.controlColor.slice(1),h=a.theme.controlColor[0];return __emitter.emit("changeControlColor",m[h]),__emitter.emit("useAcrylic",a.theme.useAcrylic),[r,l,o,u,f,d,c,function(t){Z[t?"unshift":"push"]((()=>{d=t,n(5,d)}))},function(t){r=t,n(0,r)},function(t){l=t,n(1,l)},function(t){Z[t?"unshift":"push"]((()=>{o=t,n(2,o)}))}]}let Is={};const Bs={get(t){if(Is[t])return Is[t];let e=null,n=localStorage.getItem(t);try{e=JSON.parse(n)}catch(t){e=n}return null!=e?Is[t]=e:void 0},set(t,e){Is[t]=e,localStorage.setItem(t,"string"==typeof e?e:JSON.stringify(e))},setCache(t,e){Is[t]=e},rm(t){Is[t]&&(Is[t]=null),localStorage.removeItem(t)},has(t){return!!Is[t]||!!this.get(t)}};return window.store=Bs,new class extends Et{constructor(t){super(),Ut(this,t,Rs,js,l,{})}}({target:document.body})}();
